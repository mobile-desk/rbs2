{% extends 'base.html' %}

{% block title %}User Profile{% endblock %}

{% block content %}
<div class="profile-container">
    <!-- User Info Section -->
    <div class="profile-info">
        <h2>User Profile</h2>
        <p><strong>Name:</strong> {{ user.first_name }} {{ user.last_name }}</p>
        <p><strong>Email:</strong> {{ user.email }}</p>
        <p><strong>Date Joined:</strong> {{ user.date_joined }}</p>

        <h4>Customer Profile</h4>
        <p><strong>Customer Type:</strong> {{ profile.customer_type }}</p>
        <p><strong>Middle Name:</strong> {{ profile.middle_name }}</p>
        <p><strong>Date of Birth:</strong> {{ profile.date_of_birth }}</p>
        <p><strong>Address:</strong> {{ profile.postcode }}</p>
        {% if profile.business_postcode %}
            <p><strong>Business Postcode:</strong> {{ profile.business_postcode }}</p>
        {% endif %}
        <p><strong>Customer Number:</strong> {{ user.username }}</p>
        
    </div>

    <!-- Account Status and Passport Section -->
    <div class="profile-accounts">



        <!-- Display passport image if available -->
        {% if passport and passport.passport_image %}
            <div class="passport-section">

                <img src="{{ passport.passport_image.url }}" alt="Passport Image" class="passport-image">
            </div>
        {% else %}
            <p>No passport available</p>
        {% endif %}

        <h3>Account Status</h3>

        <ul>
            {% for account in accounts %}
                <li><strong>Account {{ forloop.counter }} Status:</strong> {{ account.status }}</li>
            {% endfor %}
        </ul>
    </div>
</div>



<style>
/* Profile Container Styling */
.profile-container {
    display: flex;
    flex-direction: row;
    gap: 20px;
    margin: 20px;
}

/* Profile Info Section */
.profile-info {
    flex: 1;
    background-color: #f9f9f9;
    padding: 20px;
    border-radius: 8px;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
}

/* Profile Accounts Section */
.profile-accounts {
    flex: 1;
    background-color: #fff;
    padding: 20px;
    border-radius: 8px;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
}

.profile-accounts ul {
    list-style-type: none;
    padding: 0;
}

.profile-accounts ul li {
    margin-bottom: 10px;
}

/* Passport Section */
.passport-section {
    margin-top: 20px;
}

.passport-image {
    max-width: 100%;
    height: auto;
    border: 1px solid #ddd;
    border-radius: 5px;
    padding: 5px;
}

/* Responsive Design: For screens smaller than 768px (Tablets, Mobiles) */
@media (max-width: 768px) {
    .profile-container {
        flex-direction: column;
    }

    .profile-info, .profile-accounts {
        margin-bottom: 20px;
    }
}

/* For very small screens (mobile) */
@media (max-width: 480px) {
    .profile-info, .profile-accounts {
        padding: 15px;
    }
}
</style>


{% endblock %}