// For license information, see `https://assets.adobedtm.com/launch-EN36e7398f32914ad28e21b622457f151b.js`.
window._satellite=window._satellite||{},window._satellite.container={buildInfo:{minified:!0,buildDate:"2024-11-18T14:05:29Z",turbineBuildDate:"2024-08-22T17:32:44Z",turbineVersion:"28.0.0"},environment:{id:"EN36e7398f32914ad28e21b622457f151b",stage:"production"},dataElements:{"digitalData.event.name":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return digitalData&&digitalData.event?digitalData.event[digitalData.event.length-1].name:void 0}catch(e){_satellite.logger.error("digitalData.event.name failed to run",e)}}}},ffTwitter:{defaultValue:"enabled",forceLowerCase:!0,modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"tw",caseInsensitive:!0}},rootDataLayer:{modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"digitalDataV2"}},adobeAnalyticsDataVariable:{modulePath:"adobe-alloy/dist/lib/dataElements/variable/index.js",settings:{cacheId:"cc4439d5-2971-4431-ab03-33b6c13f0111",solutions:["analytics"],dataElementId:"DE437164c2ef404405b49afdafff268948"}},marketingFloodlightAdditionalPayload:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(e){try{if(e&&e.detail&&e.detail.marketingFloodlightAdditionalPayload)return e.detail.marketingFloodlightAdditionalPayload;const t=JSON.parse(_satellite.getVar("productDetailsV2")),n=tagging.getObjectProperty(t,"category.code"),r=tagging.getObjectProperty(t,"id"),a=t?[n,r].join("|"):void 0,o="L";_satellite.getVar("digitalData.page.name");let i="core.click"===e.$type?`Click - ${e.target.innerText}`:"";return{u11:document.location.hostname,u12:document.location.pathname,u13:n,u14:i||r,u15:o,u17:_satellite.getVar("serverName"),u18:a,u20:_satellite.getVar("brandName")}}catch(e){_satellite.logger.error("[Data Element] Failed to get marketingFloodlightAdditionalPayload")}}}},marketingFacebookAttributesV2:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(e){try{if(e&&e.detail&&e.detail.marketingFacebookAttributesV2)return e.detail.marketingFacebookAttributesV2;let t=_satellite.getVar("productDetailsV2"),n="core.click"===e.$type?`Click - ${e.target.innerText}`:"";if(t){let e=_satellite.getVar("queryStrings"),r=document.location.href.split("?")[0],a=JSON.parse(t);return{content_category:a.category.name,content_name:n||a.name,phase:n?"Click":"Landing",queryParams:e,server:_satellite.getVar("serverName"),productDetails:`${a.category.code}|${a.id}`,brand:_satellite.getVar("brandName"),url:r,type:"landing"}}return}catch(e){_satellite.logger.error("[Data Element] Failed to load marketingFacebookAttributesV2",e)}}}},pageTitle:{modulePath:"core/src/lib/dataElements/pageInfo.js",settings:{attribute:"title"}},"digitalData.site.businessArea":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{let e=tagging.getObjectProperty(digitalData,"site.businessArea");if(!e){let e=tagging.getObjectProperty(digitalData,"site.section");return e?tagging.toTitleCase(e.split("&gt;")[0]):""}return e}catch(e){_satellite.logger.error("[Data Element] Failed to retrieve business area",e)}}}},reportSuite:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return"true"==_satellite.getVar("stagingParam")||"production"!==_satellite.getVar("launchEnvironment")?"rbsphase3dev":"rbsglobretailprod"}catch(e){return _satellite.logger.error("failed to set reportsuite",e),"rbsglobretailprod"}}}},aamVersion:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return s&&s.AudienceManagement&&s.AudienceManagement._il&&s.AudienceManagement._il[0].version?s.AudienceManagement._il[0].version:void 0}catch(e){_satellite.logger.error("aamVersion Failed to run",e)}}}},"digitalData.event.value":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{if(digitalData&&digitalData.event)return digitalData.event[digitalData.event.length-1].value}catch(e){_satellite.logger.error("digitalData.event.value failed to run",e)}}}},analyticsMergedXdmTemplateWithXdmVariable:{modulePath:"core/src/lib/dataElements/mergedObjects.js",settings:{objects:["%analyticsXdmTemplate%","%analyticsXdmVariable%"]}},cin10Chars:{storageDuration:"session",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{if(_satellite.getVar("cinParam")&&_satellite.getVar("cinParam").match(/^1/)&&"1008887279"!==_satellite.getVar("cinParam")&&_satellite.getVar("cinParam").match(/^((?![a-z|A-Z]).)*$/))return _satellite.getVar("cinParam");if(_satellite.getVar("sc_c07Param"))return _satellite.getVar("sc_c07Param")}catch(e){_satellite.logger.error("cin10Chars failed to run",e)}}}},dotTargetCurrentProduct:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{if(_satellite.getVar("dotTarget"))return _satellite.getVar("dotTarget").currentProduct}catch(e){_satellite.logger.error("Failed to get dotTarget currentProduct",e)}}}},subSection1:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("pageNameCleaned");if(e)return e.split(">")[1]}catch(e){_satellite.logger.error("subSection1 failed to run",e)}}}},sc_c124Param:{modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"sc_c124",caseInsensitive:!0}},ffFacebook:{modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"enabled"}},cookieDomainPeriod:{modulePath:"core/src/lib/dataElements/conditionalValue.js",settings:{comparison:{operator:"contains"},leftOperand:"%hostName%",rightOperand:".co.",fallbackValue:2,conditionalValue:3}},marketingLinkedinConversionId:{modulePath:"natwest-core/src/lib/dataElements/mappingTable.js",settings:{mappingConfig:[{output:"13467794",comparison:"contains",caseInsensitive:!1,matchExpression:"www.ulsterbank.co.uk/savings/instant-access-accounts/loyalty-saver/Loyalty-Saver2-savings-ulsterbank.html"},{output:"14657169",comparison:"contains",caseInsensitive:!1,matchExpression:"www.natwest.com/savings/fixed-term-savings-account.html"}],baseDataElement:"%canonicalURL%"}},marketingFloodlightSendTo:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(e){try{if(e&&e.detail&&e.detail.marketingFloodlightSendTo)return e.detail.marketingFloodlightSendTo;let t=e.$type,n="view";"core.click"===t&&(n="click");const r=_satellite.getVar("marketingFloodlightId",e),a="landing";return"X6"==JSON.parse(_satellite.getVar("productDetailsV2")).id?`${[r,"sav","u_ret0"].join("/")}+unique`:`${[r,a,n].join("/")}+unique`}catch(e){_satellite.logger.error("[Data Element] Failed to get marketingFloodlightSendTo")}}}},mortgageToolsCustomerType:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{if(digitalData&&digitalData.user&&digitalData.user.customerType){var e=digitalData.user.customerType.split(" - ");if(3===e.length)return e[1]}}catch(e){_satellite.logger.error("mortgageToolsCustomerType failed to run",e)}}}},rootDomain:{modulePath:"mapping-table/src/lib/dataElements/mappingTable.js",settings:{0:{input:"natwest",method:"exact match i",output:"natwest.com"},1:{input:"rbs",method:"exact match i",output:"rbs.co.uk"},2:{input:"ulster\\s?roi",method:"regex",output:"ulsterbank.ie"},3:{input:"ulster\\s?ni",method:"regex",output:"ulsterbank.co.uk"},4:{input:"holts",method:"starts with",output:"holtsmilitarybank.co.uk"},5:{input:"iombank",method:"exact match i",output:"iombank.com"},6:{input:"lombard ie",method:"exact match i",output:"lombard.ie"},7:{input:"lombard",method:"exact match i",output:"lombard.co.uk"},size:8,dataElement:"%digitalData.site.brand%",defaultValueEmpty:!0}},livePersonBrand:{modulePath:"mapping-table/src/lib/dataElements/mappingTable.js",settings:{0:{input:"natwest",method:"exact match i",output:"natwest"},1:{input:"rbs",method:"exact match i",output:"rbs"},2:{input:"ulster\\s?roi",method:"regex",output:"ulstersouth"},3:{input:"ulster\\s?ni",method:"regex",output:"ulsternorth"},4:{input:"lombard",method:"exact match i",output:"Lombard"},5:{input:"natwestinternational_com",method:"exact match i",output:"natwestoffshore"},6:{input:"RBSINTERNATIONAL_COM",method:"exact match i",output:"rbsinternational"},size:7,dataElement:"%digitalData.site.brand%",defaultValueEmpty:!1}},commercialProductData:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{const e=_satellite.getVar("canonicalURL")?_satellite.getVar("canonicalURL"):_satellite.getVar("pathName");let t;"NatWest"===_satellite.getVar("brandName")?(_satellite.logger.log("NatWest Business matched - setting regex table",e),t=[["/BUSINESS/BUSINESS-SERVICES/ENTREPRENEUR-ACCELERATOR.HTML","Business","Accelerator","BUSENTACC","Entrepreneur Accelerator","","","","bus","acl","lan","","","pr:EA_si:NWB_pg:NWEA_ev:LAN_ed:Landing Page View",{type:"Entrepreneur Accelerator Landing Page View"},"","",{},"",{},"",{},"gt,fbc"],["/BUSINESS/BUSINESS-SERVICES/BOOST.HTML","Business","Boost","BST","Boost","","","","bus","bst","lan","","","pr:BO_si:NWB_pg:NWBO_ev:LAN_ed:Landing Page View",{type:"Business Boost Landing Page View"},"","",{},"",{},"",{},"gt,fbc"],["/BUSINESS/BUSINESS-SERVICES/BOOST/BUSINESS-GROWTH-ENABLERS.HTML","Business","Boost","BST","Boost","","","","bus","bst","cal","","","pr:BO_si:NWB_pg:NWBC_ev:LAN_ed:Landing Page View",{type:"Business Boost Events Landing Page View"},"","",{},"",{},"",{},"gt,fbc"],["/BUSINESS/RUNNING-A-BUSINESS/START.HTML","Business","Business Matters","BBBMS","Business Matters","","","","bus","bst","bms","","","",{},"","",{},"",{},"",{},"gt"],["/BUSINESS/RUNNING-A-BUSINESS/RUN.HTML","Business","Business Matters","BBBMR","Business Matters","","","","bus","bst","bmr","","","",{},"","",{},"",{},"",{},"gt"],["/BUSINESS/RUNNING-A-BUSINESS/GROW.HTML","Business","Business Matters","BBBMG","Business Matters","","","","bus","bst","bmg","","","",{},"","",{},"",{},"",{},"gt"],["/BUSINESS/RUNNING-A-BUSINESS.HTML","Business","Business Matters","BBM","Business Matters","","","","bus","bst","bum","","","pr:BO_si:NWB_pg:NWBM_ev:LAN_ed:Landing Page View",{type:"Business Boost Business Matters Landing Page View"},"","",{},"",{},"",{},"gt,fbc"],["/BUSINESS/CARDS/BUSINESS-PLUS-CREDIT-CARD.HTML","Business","Credit Card","BUS_PLUS","Business Plus Credit Card","","","","bc1","bpc","lan","","","pr:CC_si:NWB_pg:NWCC_ev:LAN_ed:Landing Page View",{type:"Credit Card Landing Page",card:"Business Plus Credit Card"},"","",{},"",{},"",{},"gt,fbc"],["/BUSINESS/CARDS/BUSINESS-CREDIT-CARD.HTML","Business","Credit Card","BUS_CC","Business Credit Card","","","","bc1","bcc","lan","","","pr:CC_si:NWB_pg:NWCC_ev:LAN_ed:Landing Page View",{type:"Credit Card Landing Page",card:"Business Credit Card"},"","",{},"",{},"",{},"gt,fbc"],["/BUSINESS/CARDS.HTML","Business","Credit Card","BUS_CCS","Business Credit Cards","","","","bc1","bc1","cat","","","pr:CC_si:NWB_pg:NWCS_ev:LAN_ed:Landing Page View",{type:"Credit Card Choice Landing Page"},"","",{},"",{},"",{},"gt,fbc"],["/BUSINESS/CARDS/ONECARD.HTML","Business","Credit Card","ONECARD","One Card","","","","","","","","","",{},"","",{},"",{},"",{},"none"],["/BUSINESS/BANK-ACCOUNTS.HTML","Business","Current Account","BBBA","Business Current Account","","","","bus","bca","cat","","","pr:CA_si:NWB_pg:BBAS_ev:LAN_ed:Landing Page View",{type:"Business Bank Accounts Landing Page View"},"","",{},"",{},"",{},"gt,fbc"],["/BUSINESS/BANK-ACCOUNTS/(AB/)?STARTUP-BANK-ACCOUNT.HTML","Business","Current Account","SBBAS","Small Business Startup Current Account","","","","bsua_lan","bus_40s","","","","pr:CA_si:NWB_pg:SUBA_ev:LAN_ed:Landing Page View",{type:"Start Up Bank Account Landing Page View"},"","",{},"",{},"",{},"gt,fbc"],["/BUSINESS/BANK-ACCOUNTS/(AB/)?BUSINESS-BANK-ACCOUNT.HTML|/BUSINESS/BANK-ACCOUNTS/PPC-BUSINESS-BANK-ACCOUNT.HTML","Business","Current Account","BUSCA","Business Current Account","","","","bcua_lan","bus_bca","","","","pr:CA_si:NWB_pg:STBA_ev:LAN_ed:Landing Page View",{type:"Standard SME Bank Account Landing Page View"},"","",{},"",{},"",{},"gt,fbc"],["/BUSINESS/BANK-ACCOUNTS/COMMUNITY-BANK-ACCOUNT.HTML","Business","Current Account","COMAC","Business Community Current Account","","","","bus","40c","lan","","","pr:CA_si:NWB_pg:NPBA_ev:LAN_ed:Landing Page View",{type:"Non-Profit Bank Account Landing Page View"},"","",{},"",{},"",{},"gt,fbc"],["/BUSINESS/BUSINESS-SERVICES/FREEAGENT.HTML","Business","Free Agent","FA","Free Agent","","","","bus","fra","lan","","","pr:FA_si:NWB_pg:NWFA_ev:LAN_ed:Landing Page View",{type:"NatWest FreeAgent Landing Page View"},"","",{},"",{},"",{},"gt,fbc"],["/BUSINESS/LOAN-AND-FINANCE/SOCIAL-AND-COMMUNITY-CAPITAL.HTML","Business","Lending","COML","Business Loan","","","","","","","","","",{},"","",{},"",{},"",{},"none"],["/BUSINESS/LOANS-AND-FINANCE/SMALL-BUSINESS-LOAN.HTML","Business","Lending","SBL","Business Loan","","","","bln","l2","lan","","","pr:BL_si:NWB_pg:NWSBL_ev:LAN_ed:Landing Page View",{type:"Small Business Loans Landing Page View"},"","",{},"",{},"",{},"gt,fbc"],["/BUSINESS/LOAN-AND-FINANCE/LENDING-ELIGIBILITY-CHECK.HTML","Business","Lending","BUSELIG","Business Lending","","","","bln","elg","lan","","","pr:BL_si:NWB_pg:ELCH_ev:LAN_ed:Landing Page View",{type:"Eligibility Check Landing Page View"},"","",{},"",{},"",{},"gt,fbc"],["/BUSINESS/LOANS-AND-FINANCE.HTML","Business","Lending","SBL","Small Business Loan","","","","bln","bln","cat","","","pr:BL_si:NWB_pg:NWBL_ev:LAN_ed:Landing Page View",{type:"Business Lending Landing Page View"},"","",{},"",{},"",{},"gt,fbc"],["/BUSINESS/LOANS-AND-FINANCE/INVOICE-FINANCE.HTML","Business","Lending","IVF","Invoice Financing","","","","bln","ivf","lan","","","pr:IF_si:NWB_pg:NWIF_ev:LAN_ed:Landing Page View",{type:"Invoice Finance Landing Page View"},"","",{},"",{},"",{},"gt,fbc"],["/BUSINESS/LOANS-AND-FINANCE/FIXED-RATE-LOAN.HTML","Business","Lending","FRBL","Business Loan","","","","bln","51","lan","","","pr:BL_si:NWB_pg:NWFRL_ev:LAN_ed:Landing Page View",{type:"Fixed Rate Business Loans Landing Page View"},"","",{},"",{},"",{},"gt,fbc"],["/BUSINESS/LOAN-AND-FINANCE/VARIABLE-RATE-LOAN.HTML","Business","Lending","VRBL","Business Loan","","","","bln","vrl","lan","","","pr:BL_si:NWB_pg:NWVRL_ev:LAN_ed:Landing Page View",{type:"Variable Rate Business Loans Landing Page View"},"","",{},"",{},"",{},"gt,fbc"],["/BUSINESS/LOAN-AND-FINANCE/INVOICE-FACTORING.HTML","Business","Lending","INVFACT","Invoice Financing","","","","bln","ivf","inf","","","pr:IF_si:NWB_pg:IFIF_ev:LAN_ed:Landing Page View",{type:"Invoice Factoring Landing Page View"},"","",{},"",{},"",{},"gt,fbc"],["/business/loans-and-finance/invoice-discounting.html","Business","Lending","INVDISC","Invoice Financing","","","","bln","ivf","ind","","","pr:IF_si:NWB_pg:IFID_ev:LAN_ed:Landing Page View",{type:"Invoice Discounting Landing Page View"},"","",{},"",{},"",{},"gt,fbc"],["/business/loans-and-finance/asset-based-lending.html","Business","Lending","INVABL","Invoice Financing","","","","bln","ivf","abl","","","pr:IF_si:NWB_pg:IFAB_ev:LAN_ed:Landing Page View",{type:"Asset Based Lending Landing Page View"},"","",{},"",{},"",{},"gt,fbc"],["/BUSINESS/LOANS-AND-FINANCE/COMMERCIAL-MORTGAGE.HTML","Business","Mortgage","COMMOR","Commecial Mortgages","","","","bln","com","lan1","","","pr:CM_si:NWB_pg:NWCM_ev:LAN_ed:Landing Page View",{type:"Commercial Mortgage Landing Page View"},"","",{},"",{},"",{},"gt,fbc"],["^/$|/BUSINESS.HTML|BUSINESS/HOME.HTML","Business","Non Product","","","","","","bus","hom","lan","","","",{},"8H3BNY","",{},"",{},"",{},"gt,mz"],["/business/loans-and-finance/business-overdraft.html","Business","Overdraft","BUSOVD","Business Overdraft","","","","bov","bov","lan","","","pr:BL_si:NWB_pg:NWOV_ev:LAN_ed:Landing Page View",{type:"Business Overdrafts Landing Page View"},"","",{},"",{},"",{},"gt,fbc"],["/BUSINESS/BUSINESS-SERVICES/RECEIPTS-MANAGEMENT.HTML","Business","Receipts","RCPT","Receipts","","","","","","","","","",{},"","",{},"",{},"",{},"none"],["/BUSINESS/SAVINGS/BUSINESS-RESERVE.HTML","Business","Savings","BRSA","Business Reserve Savings Account","","","","","","","","","",{},"","",{},"",{},"",{},"none"],["/BUSINESS/SAVINGS/CLIENT-DEPOSIT-MANAGER.HTML","Business","Savings","CDMSA","Client Deposit Savings Account","","","","","","","","","",{},"","",{},"",{},"",{},"none"],["/BUSINESS/SAVINGS/CLIENT-MONIES-SERVICE.HTML","Business","Savings","CMSA","Client Deposit Savings Account","","","","","","","","","",{},"","",{},"",{},"",{},"none"],["/BUSINESS/SAVINGS/LIQUIDITY-MANAGER.HTML","Business","Savings","LMNSA","Liquidity Manager Savings Accouny","","","","","","","","","",{},"","",{},"",{},"",{},"none"],["/BUSINESS/SAVINGS/TREASURY-RESERVE.HTML","Business","Savings","TRSA","Treasury Reserve Savings Account","","","","","","","","","",{},"","",{},"",{},"",{},"none"],["/business/support-centre/manage-your-account.html","Business","Support Centre","","","","","","","","","","","",{},"SPBR3X","",{},"",{},"",{},"mz"],["/business/support-centre/manage-your-account/manage-your-signatories.html","Business","Support Centre","","","","","","","","","","","",{},"SPBR3X","",{},"",{},"",{},"mz"],["/BUSINESS/TRADE-FINANCE/TRADE-LOAN(S)?.HTML","Business","Trade Hub","TRDLN","","","","","","","","","","",{},"","",{},"",{},"",{},""],["/BUSINESS/TRADE-FINANCE/DOCUMENTARY-COLLECTIONS.HTML","Business","Trade Hub","DOCCOLL","","","","","","","","","","",{},"","",{},"",{},"",{},""],["/BUSINESS/TRADE-FINANCE/LETTERS-OF-CREDIT.HTML","Business","Trade Hub","LOC","","","","","","","","","","",{},"","",{},"",{},"",{},""],["BUSINESS/WAYS-TO-BANK.HTML","Business","Ways to Bank","","Ways to Bank","","","","","","","","","",{},"SPBR3X","",{},"",{},"",{},"mz"],["BUSINESS/WAYS-TO-BANK/ONLINE-BANKING.HTML","Business","Ways to Bank","WTB_OLB","Ways To Bank","","","","bus","olb","lan","","","",{},"SPBR3X","",{},"",{},"",{},"gt,mz"],["BUSINESS/WAYS-TO-BANK/MOBILE-BANKING.HTML","Business","Ways to Bank","WTB_MOB","Ways to Bank","","","","bus","olb","mob","","","",{},"SPBR3X","",{},"",{},"",{},"gt,mz"],["BUSINESS/WAYS-TO-BANK/BANKLINE.HTML","Business","Ways to Bank","","Ways to Bank","","","","","","","","","",{},"SPBR3X","",{},"",{},"",{},"mz"],["BUSINESS/WAYS-TO-BANK/BANKLINE-MOBILE.HTML","Business","Ways to Bank","","Ways to Bank","","","","","","","","","",{},"SPBR3X","",{},"",{},"",{},"mz"],["/business/support-centre/service-status/coronavirus.html","Business","","","","","","","","","","","","",{},"","",{},"",{},"",{},""],["/business/support-centre/service-status/coronavirus/government-scheme.html","Business","","","","","","","","","","","","",{},"","",{},"",{},"",{},""],["/business/support-centre/service-status/coronavirus/coronavirus-business-interruption-loan-scheme.html","Business","","","","","","","","","","","","",{},"","",{},"",{},"",{},""],["/business/savings/business-currency-reserve-account.html","Business","Savings","BCRSA","Currency Reserve Account","","","","","","","","","",{},"","",{},"",{},"",{},""],["/business/loans-and-finance/real-estate-finance.html","Business","Lending","REFBL","Real Estate Finance","","","","prcm_0","bln_com","","","","",{},"","",{},"",{},"",{},""],["/business/loans-and-finance/asset-finance.html","Business","Lending","AFBL","Asset Finance","","","","","","","","","",{},"","",{},"",{},"",{},""],["/business/trade-finance/bonds-guarantees-and-standby-letters-of-credit.html","Business","Trade Hub","TFBNG","","","","","","","","","","",{},"","",{},"",{},"",{},""],["/business/support-centre/manage-your-account/manage-your-business-debit-card.html","Business","","BUSDC","","","","","","","","","","",{},"","",{},"",{},"",{},""],["/business/ways-to-bank/cash-coin-order-form.html","Business","","","","","Cash Coin Order Form","","","","","","","",{},"","",{},"",{},"",{},""],["/BUSINESS/BUSINESS-SERVICES/WOMEN-IN-BUSINESS/DREAM-BIGGER.HTML","Business","","","","","","","","","","","","",{},"","",{},"",{},"",{},"fbc"],["/business/itv-backing-business.html","Business","","","","","","","nbb_i0","bb_itv","","","","",{},"","",{},"",{},"",{},"gt,fbc"],["/business/bank-accounts/mettle-mobile-account.html","Business","","METL","","","","","","","","","","",{},"","",{},"",{},"",{},""],["/business/loans-and-finance/sustainable-finance/green-loans.html","Business","","GRNBL","","","","","","","","","","",{},"","",{},"",{},"",{},""],["/business/loans-and-finance/fixed-and-variable-rate-loans.html","Business","","FVRBL","","","","","","","","","","",{},"","",{},"",{},"",{},""],["/business/business-services/tyl.html","Business","","TYL","","","","","","","","","","",{},"","",{},"",{},"",{},""]]):"RBS"===_satellite.getVar("brandName")?(_satellite.logger.log("RBS Business matched - setting regex table",e),t=[["/BUSINESS/BUSINESS-SERVICES/ENTREPRENEUR-ACCELERATOR.HTML","Business","Accelerator","BUSENTACC","Entrepreneur Accelerator","","","","bus","acl","lan","","","pr:EA_si:RBB_pg:RBEA_ev:LAN_ed:Landing Page View",{type:"Entrepreneur Accelerator Landing Page View"},"","",{},"",{},"",{},"gt,fbc"],["/BUSINESS/BUSINESS-SERVICES/BOOST.HTML","Business","Boost","BST","Boost","","","","bus","bst","lan","","","pr:BO_si:RBB_pg:RBBO_ev:LAN_ed:Landing Page View",{type:"Business Boost Landing Page View"},"","",{},"",{},"",{},"gt,fbc"],["/BUSINESS/BUSINESS-SERVICES/BOOST/BUSINESS-GROWTH-ENABLERS.HTML","Business","Boost","BST","Boost","","","","bus","bst","cal","","","pr:BO_si:RBB_pg:RBBC_ev:LAN_ed:Landing Page View",{type:"Business Boost Events Landing Page View"},"","",{},"",{},"",{},"gt,fbc"],["/BUSINESS/RUNNING-A-BUSINESS/START.HTML","Business","Business Matters","BBBMS","Business Matters","","","","bus","bst","bms","","","",{},"","",{},"",{},"",{},"gt"],["/BUSINESS/RUNNING-A-BUSINESS/RUN.HTML","Business","Business Matters","BBBMR","Business Matters","","","","bus","bst","bmr","","","",{},"","",{},"",{},"",{},"gt"],["/BUSINESS/RUNNING-A-BUSINESS/GROW.HTML","Business","Business Matters","BBBMG","Business Matters","","","","bus","bst","bmg","","","",{},"","",{},"",{},"",{},"gt"],["/BUSINESS/RUNNING-A-BUSINESS.HTML","Business","Business Matters","BBM","Business Matters","","","","bus","bst","bum","","","pr:BO_si:RBB_pg:RBBM_ev:LAN_ed:Landing Page View",{type:"Business Boost Business Matters Landing Page View"},"","",{},"",{},"",{},"gt,fbc"],["/BUSINESS/CARDS/BUSINESS-PLUS-CREDIT-CARD.HTML","Business","Credit Card","BUS_PLUS","Business Plus Credit Card","","","","bc1","bpc","lan","","","pr:CC_si:RBB_pg:RBCC_ev:LAN_ed:Landing Page View",{type:"Credit Card Landing Page",card:"Business Plus Credit Card"},"","",{},"",{},"",{},"gt,fbc"],["/BUSINESS/CARDS/BUSINESS-CREDIT-CARD.HTML","Business","Credit Card","BUS_CC","Business Credit Card","","","","bc1_cat","bc1_bc1","","","","pr:CC_si:RBB_pg:RBCC_ev:LAN_ed:Landing Page View",{type:"Credit Card Landing Page",card:"Business Credit Card"},"","",{},"",{},"",{},"gt,fbc"],["/BUSINESS/CARDS.HTML","Business","Credit Card","BUS_CCS","Business Credit Cards","","","","bc1","bc1","cat","","","pr:CC_si:RBB_pg:RBCS_ev:LAN_ed:Landing Page View",{type:"Credit Card Choice Landing Page"},"","",{},"",{},"",{},"gt,fbc"],["/BUSINESS/CARDS/ONECARD.HTML","Business","Credit Card","ONECARD","One Card","","","","","","","","","",{},"","",{},"",{},"",{},"none"],["/BUSINESS/BANK-ACCOUNTS.HTML","Business","Current Account","BBBA","Business Current Account","","","","bus","bca","cat","","","pr:CA_si:RBB_pg:BBAS_ev:LAN_ed:Landing Page View",{type:"Business Bank Accounts Landing Page View"},"","",{},"",{},"",{},"gt,fbc"],["/BUSINESS/BANK-ACCOUNTS/(AB/)?STARTUP-BANK-ACCOUNT.HTML","Business","Current Account","SBBAS","Small Business Startup Current Account","","","","bsua_lan","bus_40s","","","","pr:CA_si:RBB_pg:SUBA_ev:LAN_ed:Landing Page View",{type:"Start Up Bank Account Landing Page View"},"","",{},"",{},"",{},"gt,fbc"],["/BUSINESS/BANK-ACCOUNTS/(AB/)?BUSINESS-BANK-ACCOUNT.HTML|/BUSINESS/BANK-ACCOUNTS/PPC-BUSINESS-BANK-ACCOUNT.HTML","Business","Current Account","BUSCA","Business Current Account","","","","bcua_lan","bus_bca","","","","pr:CA_si:RBB_pg:STBA_ev:LAN_ed:Landing Page View",{type:"Standard SME Bank Account Landing Page View"},"","",{},"",{},"",{},"gt,fbc"],["/BUSINESS/BANK-ACCOUNTS/COMMUNITY-BANK-ACCOUNT.HTML","Business","Current Account","COMAC","Business Community Current Account","","","","bus","40c","lan","","","pr:CA_si:RBB_pg:NPBA_ev:LAN_ed:Landing Page View",{type:"Non-Profit Bank Account Landing Page View"},"","",{},"",{},"",{},"gt,fbc"],["/BUSINESS/BUSINESS-SERVICES/FREEAGENT.HTML","Business","Free Agent","FA","Free Agent","","","","bus","fra","lan","","","pr:FA_si:RBB_pg:RBFA_ev:LAN_ed:Landing Page View",{type:"NatWest FreeAgent Landing Page View"},"","",{},"",{},"",{},"gt,fbc"],["/BUSINESS/LOAN-AND-FINANCE/SOCIAL-AND-COMMUNITY-CAPITAL.HTML","Business","Lending","COML","Business Loan","","","","","","","","","",{},"","",{},"",{},"",{},"none"],["/BUSINESS/LOANS-AND-FINANCE/SMALL-BUSINESS-LOAN.HTML","Business","Lending","SBL","Business Loan","","","","bln","l2","lan","","","pr:BL_si:RBB_pg:RBSBL_ev:LAN_ed:Landing Page View",{type:"Small Business Loans Landing Page View"},"","",{},"",{},"",{},"gt,fbc"],["/BUSINESS/LOAN-AND-FINANCE/LENDING-ELIGIBILITY-CHECK.HTML","Business","Lending","BUSELIG","Business Lending","","","","bln","elg","lan","","","pr:BL_si:RBB_pg:ELCH_ev:LAN_ed:Landing Page View",{type:"Eligibility Check Landing Page View"},"","",{},"",{},"",{},"gt,fbc"],["/BUSINESS/LOANS-AND-FINANCE.HTML","Business","Lending","SBL","Small Business Loan","","","","prbl_0","bln_l2","","","","pr:BL_si:RBB_pg:RBBL_ev:LAN_ed:Landing Page View",{type:"Business Lending Landing Page View"},"","",{},"",{},"",{},"gt,fbc"],["/BUSINESS/LOANS-AND-FINANCE/INVOICE-FINANCE.HTML","Business","Lending","IVF","Invoice Financing","","","","bln","ivf","lan","","","pr:IF_si:RBB_si:RBIF_ev:LAN_ed:Landing Page View",{type:"Invoice Finance Landing Page View"},"","",{},"",{},"",{},"gt,fbc"],["/BUSINESS/LOANS-AND-FINANCE/FIXED-RATE-LOAN.HTML","Business","Lending","FRBL","Business Loan","","","","bln","51","lan","","","pr:BL_si:RBB_pg:RBFRL_ev:LAN_ed:Landing Page View",{type:"Fixed Rate Business Loans Landing Page View"},"","",{},"",{},"",{},"gt,fbc"],["/BUSINESS/LOAN-AND-FINANCE/VARIABLE-RATE-LOAN.HTML","Business","Lending","VRBL","Business Loan","","","","bln","vrl","lan","","","pr:BL_si:RBB_pg:RBVRL_ev:LAN_ed:Landing Page View",{type:"Variable Rate Business Loans Landing Page View"},"","",{},"",{},"",{},"gt,fbc"],["/BUSINESS/LOAN-AND-FINANCE/INVOICE-FACTORING.HTML","Business","Lending","INVFACT","Invoice Financing","","","","bln","ivf","inf","","","pr:IF_si:RBB_pg:IFIF_ev:LAN_ed:Landing Page View",{type:"Invoice Factoring Landing Page View"},"","",{},"",{},"",{},"gt,fbc"],["/business/loans-and-finance/invoice-discounting.html","Business","Lending","INVDISC","Invoice Financing","","","","bln","ivf","ind","","","pr:IF_si:RBB_pg:IFID_ev:LAN_ed:Landing Page View",{type:"Invoice Discounting Landing Page View"},"","",{},"",{},"",{},"gt,fbc"],["/business/loans-and-finance/asset-based-lending.html","Business","Lending","INVABL","Invoice Financing","","","","bln","ivf","abl","","","pr:IF_si:RBB_pg:IFAB_ev:LAN_ed:Landing Page View",{type:"Asset Based Lending Landing Page View"},"","",{},"",{},"",{},"gt,fbc"],["/BUSINESS/LOANS-AND-FINANCE/COMMERCIAL-MORTGAGE.HTML","Business","Mortgage","COMMOR","Commecial Mortgages","","","","com_lan1","bln_com","","","","pr:CM_si:RBB_pg:RBCM_ev:LAN_ed:Landing Page View",{type:"Commercial Mortgage Landing Page View"},"","",{},"",{},"",{},"gt,fbc"],["^/$|/BUSINESS.HTML|BUSINESS/HOME.HTML","Business","Non Product","","","","","","bus","hom","lan","","","",{},"8H3BNY","",{},"",{},"",{},"gt,mz"],["/business/loans-and-finance/business-overdraft.html","Business","Overdraft","BUSOVD","Business Overdraft","","","","bov","bov","lan","","","pr:BL_si:RBB_pg:RBOV_ev:LAN_ed:Landing Page View",{type:"Business Overdrafts Landing Page View"},"","",{},"",{},"",{},"gt,fbc"],["/BUSINESS/BUSINESS-SERVICES/RECEIPTS-MANAGEMENT.HTML","Business","Receipts","RCPT","Receipts","","","","","","","","","",{},"","",{},"",{},"",{},"none"],["/BUSINESS/SAVINGS/BUSINESS-RESERVE.HTML","Business","Savings","BRSA","Business Reserve Savings Account","","","","","","","","","",{},"","",{},"",{},"",{},"none"],["/BUSINESS/SAVINGS/CLIENT-DEPOSIT-MANAGER.HTML","Business","Savings","CDMSA","Client Deposit Savings Account","","","","","","","","","",{},"","",{},"",{},"",{},"none"],["/BUSINESS/SAVINGS/CLIENT-MONIES-SERVICE.HTML","Business","Savings","CMSA","Client Deposit Savings Account","","","","","","","","","",{},"","",{},"",{},"",{},"none"],["/BUSINESS/SAVINGS/LIQUIDITY-MANAGER.HTML","Business","Savings","LMNSA","Liquidity Manager Savings Accouny","","","","","","","","","",{},"","",{},"",{},"",{},"none"],["/BUSINESS/SAVINGS/TREASURY-RESERVE.HTML","Business","Savings","TRSA","Treasury Reserve Savings Account","","","","","","","","","",{},"","",{},"",{},"",{},"none"],["/BUSINESS/TRADE-FINANCE/TRADE-LOAN(S)?.HTML","Business","Trade Hub","TRDLN","","","","","","","","","","",{},"","",{},"",{},"",{},""],["/BUSINESS/TRADE-FINANCE/DOCUMENTARY-COLLECTIONS.HTML","Business","Trade Hub","DOCCOLL","","","","","","","","","","",{},"","",{},"",{},"",{},""],["/BUSINESS/TRADE-FINANCE/LETTERS-OF-CREDIT.HTML","Business","Trade Hub","LOC","","","","","","","","","","",{},"","",{},"",{},"",{},""],["BUSINESS/WAYS-TO-BANK.HTML","Business","Ways to Bank","","Ways to Bank","","","","","","","","","",{},"SPBR3X","",{},"",{},"",{},"mz"],["BUSINESS/WAYS-TO-BANK/ONLINE-BANKING.HTML","Business","Ways to Bank","WTB_OLB","Ways To Bank","","","","bus","olb","lan","","","",{},"","",{},"",{},"",{},"gt"],["BUSINESS/WAYS-TO-BANK/MOBILE-BANKING.HTML","Business","Ways to Bank","WTB_MOB","Ways to Bank","","","","bus","olb","mob","","","",{},"SPBR3X","",{},"",{},"",{},"gt,mz"],["BUSINESS/WAYS-TO-BANK/DIGITAL-BANKING.HTML","Business","Ways to Bank","","Ways to Bank","","","","","","","","","",{},"SPBR3X","",{},"",{},"",{},"mz"],["BUSINESS/WAYS-TO-BANK/BANKLINE.HTML","Business","Ways to Bank","","Ways to Bank","","","","","","","","","",{},"SPBR3X","",{},"",{},"",{},"mz"],["/business/support-centre/service-status/coronavirus.html","Business","","","","","","","","","","","","",{},"","",{},"",{},"",{},""],["/business/support-centre/service-status/coronavirus/government-scheme.html","Business","","","","","","","","","","","","",{},"","",{},"",{},"",{},""],["/business/support-centre/service-status/coronavirus/coronavirus-business-interruption-loan-scheme.html","Business","","","","","","","","","","","","",{},"","",{},"",{},"",{},""],["/business/savings/business-currency-reserve-account.html","Business","Savings","BCRSA","Currency Reserve Account","","","","","","","","","",{},"","",{},"",{},"",{},""],["/business/loans-and-finance/real-estate-finance.html","Business","Lending","REFBL","Real Estate Finance","","","","prcm_0","bln_com","","","","",{},"","",{},"",{},"",{},""],["/business/loans-and-finance/asset-finance.html","Business","Lending","AFBL","Asset Finance","","","","","","","","","",{},"","",{},"",{},"",{},""],["/business/trade-finance/bonds-guarantees-and-standby-letters-of-credit.html","Business","Trade Hub","TFBNG","","","","","","","","","","",{},"","",{},"",{},"",{},""],["/business/support-centre/manage-your-account/manage-your-business-debit-card.html","Business","","BUSDC","","","","","","","","","","",{},"","",{},"",{},"",{},""],["/business/ways-to-bank/cash-coin-order-form.html","Business","","","","","Cash Coin Order Form","","","","","","","",{},"","",{},"",{},"",{},""],["/business/loans-and-finance/sustainable-finance/green-loans.html","Business","","GRNBL","","","","","","","","","","",{},"","",{},"",{},"",{},""],["/business/loans-and-finance/fixed-and-variable-rate-loans.html","Business","","FVRBL","","","","","","","","","","",{},"","",{},"",{},"",{},""],["/business/business-services/tyl.html","Business","","TYL","","","","","","","","","","",{},"","",{},"",{},"",{},""]]):"Ulster NI"===_satellite.getVar("brandName")?(_satellite.logger.log("UBN Business matched - setting regex table",e),t=[["cash-coin-order-form.html","","","","","","Cash Coin Order Form","","","","","","","",{},"","",{},"",{},"",{},""]]):"Ulster ROI"===_satellite.getVar("brandName")?(_satellite.logger.log("UBR Business matched - setting regex table",e),t=[["cash-coin-order-form.html","","","","","","Cash Coin Order Form","","","","","","","",{},"","",{},"",{},"",{},""]]):(_satellite.logger.warn("Brand not supported in product database - no variables will be set"),t=[]);for(let n=0;n<t.length;n++){if(new RegExp(t[n][0],"gi").test(e))return _satellite.logger.log("Commercial product data ran - match found",t[n][0]),{productArea:t[n][1],productCategory:t[n][2],productShort:t[n][3],productName:t[n][4],
toolName:t[n][5],formName:t[n][6],analyticsEvents:t[n][7],categoryCode:t[n][8],productCode:t[n][9],pageType:t[n][10],gtagCountType:t[n][11],gtagAllowCustom:t[n][12],facebookCustomEventName:t[n][13],facebookCustomEventArray:t[n][14],maritzCode:t[n][15],snapchatCustomEventName:t[n][16],snapchatCustomEventArray:t[n][17],twitterCustomEventName:t[n][18],twitterCustomEventArray:t[n][19],pinterestCustomEventName:t[n][20],pinterestCustomEventArray:t[n][21],tracking:t[n][22]};_satellite.logger.log("Commercial product data ran - no match found")}}catch(e){_satellite.logger.error("CommercialProductData failed to run",e)}}}},commercialAdwordsEvent:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{const e=_satellite.getVar("canonicalURL")?_satellite.getVar("canonicalURL"):_satellite.getVar("pathName");let t;"NatWest"===_satellite.getVar("brandName")?(_satellite.logger.log("NatWest Business matched - setting regex table",e),t=[["/BUSINESS/BANK-ACCOUNTS/(AB/)?BUSINESS-BANK-ACCOUNT.HTML|/BUSINESS/BANK-ACCOUNTS/PPC-BUSINESS-BANK-ACCOUNT.HTML","rAVUCJWs7tEDEM6QlPEC"],["/business/bank-accounts/startup-bank-account.html","dLXLCJis7tEDEM6QlPEC"]]):"RBS"===_satellite.getVar("brandName")?(_satellite.logger.log("RBS Business matched - setting regex table",e),t=[["/BUSINESS/BANK-ACCOUNTS/(AB/)?BUSINESS-BANK-ACCOUNT.HTML|/BUSINESS/BANK-ACCOUNTS/PPC-BUSINESS-BANK-ACCOUNT.HTML","RLwaCPPcttEDEM6QlPEC"],["/business/bank-accounts/startup-bank-account.html","hNeLCPbcttEDEM6QlPEC"]]):(_satellite.logger.warn("Brand not supported in product database - no variables will be set"),t=[]);for(let n=0;n<t.length;n++){if(new RegExp(t[n][0],"gi").test(e))return _satellite.logger.log("Commercial product data ran - match found",t[n][0]),{adWordsEvent:t[n][1]};_satellite.logger.log("Commercial product data ran - no match found")}}catch(e){_satellite.logger.error("CommercialProductData failed to run",e)}}}},marketingGoogleAdwordsIDV2:{modulePath:"natwest-core/src/lib/dataElements/mappingTable.js",settings:{mappingConfig:[{output:"%event.detail.marketingGoogleAdwordsIDV2%",comparison:"matchesRegex",caseInsensitive:!1,matchExpression:"^[^>]*>((?!undefined).)+$"},{output:"AW-1067886856",comparison:"startsWith",caseInsensitive:!1,matchExpression:"NatWest>"}],baseDataElement:"%brandName%>%event.detail.marketingGoogleAdwordsIDV2%"}},adwordsID:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{if("Business"==_satellite.getVar("digitalData.site.businessArea"))return"AW-774178894";if("Premier"===_satellite.getVar("digitalData.site.businessArea")||location.pathname.match(/\/investments/))return"AW-306772126";if(_satellite.getVar("productData")&&_satellite.getVar("productData").adwordsPixelID)return _satellite.getVar("productData").adwordsPixelID}catch(e){_satellite.logger.error("adwordsID failed to run",e)}}}},taggingTurbineVersion:{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"_satellite.buildInfo.turbineVersion"}},brandAndSiteArea:{forceLowerCase:!0,modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return`${_satellite.getVar("brandName")}|${_satellite.getVar("digitalData.site.businessArea")}`}}},pathName:{modulePath:"core/src/lib/dataElements/pageInfo.js",settings:{attribute:"pathname"}},contentSquareId:{modulePath:"mapping-table/src/lib/dataElements/mappingTable.js",settings:{0:{input:"Isle of Man Bank",method:"exact match",output:"ee8c91c83c7b4"},1:{input:"NatWest International",method:"exact match",output:"22af8f44f7af6"},2:{input:"RBS International",method:"exact match",output:"75d6714a42fab"},size:3,dataElement:"%brandName%",defaultValueEmpty:!0}},marketingFacebookEventNameV2:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(e){try{return"core.click"===e.$type?"InitiateCheckout":"ViewContent"}catch(e){_satellite.logger.error("[Data Element] Faile to get marketingFacebookEventNameV2",e)}}}},marketingGoogleAdwordsConversionEventV2:{modulePath:"natwest-core/src/lib/dataElements/mappingTable.js",settings:{mappingConfig:[{output:"%event.detail.marketingGoogleAdwordsConversionEventV2%",comparison:"matchesRegex",caseInsensitive:!1,matchExpression:"^[^>]*>[^>]*>((?!undefined).)+$"},{output:"qyBcCL7WnIQYEIjSmv0D",comparison:"matchesRegex",caseInsensitive:!1,matchExpression:"[^>]*Purchase & Balance Transfer Card[^>]*>"},{output:"0C-yCM3WnIQYEIjSmv0D",comparison:"matchesRegex",caseInsensitive:!1,matchExpression:"[^>]*Longer Balance Transfer Card[^>]*>"},{output:"mVM6CNzWnIQYEIjSmv0D",comparison:"matchesRegex",caseInsensitive:!1,matchExpression:"[^>]*Balance Transfer Credit Card[^>]*>"},{output:"7OgzCOvWnIQYEIjSmv0D",comparison:"matchesRegex",caseInsensitive:!1,matchExpression:"[^>]*The Brand Credit Card[^>]*>"},{output:"UqthCPrWnIQYEIjSmv0D",comparison:"matchesRegex",caseInsensitive:!1,matchExpression:"[^>]*XK.+Reward Credit Card[^>]*>"},{output:"_u9OCIHYnIQYEIjSmv0D",comparison:"matchesRegex",caseInsensitive:!1,matchExpression:"[^>]*Reward Black Credit Card[^>]*>"},{output:"QCyOCP_99LsZEIjSmv0D",comparison:"matchesRegex",caseInsensitive:!1,matchExpression:"[^>]*Travel Reward Credit Card[^>]*>"}],baseDataElement:"%productDetailsV2%>%url%>%event.detail.marketingGoogleAdwordsConversionEventV2%"}},"digitalData.event.linkDestination":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return digitalData&&digitalData.event?digitalData.event[digitalData.event.length-1].linkDestination:void 0}catch(e){_satellite.logger.error("digitalData.event.linkDestination failed to run",e)}}}},marketingLinkedinPartnerId:{modulePath:"natwest-core/src/lib/dataElements/mappingTable.js",settings:{mappingConfig:[{output:"5104154",comparison:"contains",caseInsensitive:!1,matchExpression:"www.ulsterbank.co.uk/savings/instant-access-accounts/loyalty-saver/Loyalty-Saver2-savings-ulsterbank.html"},{output:"4354689",comparison:"contains",caseInsensitive:!1,matchExpression:"www.natwest.com/savings/fixed-term-savings-account.html"}],baseDataElement:"%canonicalURL%"}},lpDesktopURLs:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return[]}}},ffMaritz:{defaultValue:"enabled",modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"ma",caseInsensitive:!0}},featureFlagsCCMChatEnabled:{modulePath:"natwest-core/src/lib/dataElements/mappingTable.js",settings:{mappingConfig:[{output:"true",comparison:"matchesRegex",caseInsensitive:!0,matchExpression:"Isle of Man Bank"},{output:"true",comparison:"matchesRegex",caseInsensitive:!0,matchExpression:"NatWest International"},{output:"true",comparison:"matchesRegex",caseInsensitive:!0,matchExpression:"Ulster NI"},{output:"true",comparison:"matchesRegex",caseInsensitive:!0,matchExpression:"RBS"},{output:"true",comparison:"matchesRegex",caseInsensitive:!0,matchExpression:"NatWest"},{output:"false",comparison:"matchesRegex",caseInsensitive:!1,matchExpression:".*"}],baseDataElement:"%brandName%"}},taggingEnvironmentStage:{modulePath:"core/src/lib/dataElements/runtimeEnvironment.js",settings:{attribute:"environmentStage"}},ecidVersion:{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"Visitor.version"}},productData:{storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{if(_satellite.productData||null===_satellite.productData)return _satellite.logger.log("Returning Product Data Cache"),_satellite.productData;let e;return"NatWest International"===_satellite.getVar("brandName")||"Isle of Man Bank"===_satellite.getVar("brandName")||"RBS International"===_satellite.getVar("brandName")?(_satellite.logger.log("Offshore product database in use"),e=_satellite.getVar("offshoreProductData")):"premier-banking"===_satellite.getVar("digitalData.site.businessArea")||location.pathname.match(/\/investments/)?(_satellite.logger.log("Premier product database in use"),e=_satellite.getVar("premierProductData")):"Personal"===_satellite.getVar("digitalData.site.businessArea")?(_satellite.logger.log("Retail product database in use"),e=_satellite.getVar("retailProductData")):"Business"===_satellite.getVar("digitalData.site.businessArea")?(_satellite.logger.log("Commerical product database in use"),e=_satellite.getVar("commercialProductData")):"Personal"===_satellite.getVar("digitalData.site.businessArea")?(_satellite.logger.log("Retail product database in use"),e=_satellite.getVar("retailProductData")):"Intermediary-solutions"===_satellite.getVar("digitalData.site.businessArea")?(_satellite.logger.log("Intermediary product database in use"),e=_satellite.getVar("intermediaryProductData")):(_satellite.logger.warn("No product database in use"),e=null),_satellite.productData=e,e}catch(e){_satellite.logger.error("Failed to get the right product database",e)}}}},aepDefaultConsent:{modulePath:"core/src/lib/dataElements/conditionalValue.js",settings:{comparison:{operator:"contains"},leftOperand:"%optanonActiveGroups%",rightOperand:"C0009",fallbackValue:"out",conditionalValue:"in"}},surveyHotjarId:{modulePath:"natwest-core/src/lib/dataElements/mappingTable.js",settings:{mappingConfig:[{output:"%event.detail.surveyHotjarId%",comparison:"matchesRegex",caseInsensitive:!1,matchExpression:"^[^>]*>[^>]*>((?!undefined).)+$"},{output:"%surveyAEMSettingsHotJarId%",comparison:"matchesRegex",caseInsensitive:!1,matchExpression:"^[^>]*>((?!undefined).)+>"},{output:"2807519",comparison:"matchesRegex",caseInsensitive:!1,matchExpression:"[^>]*businessbuilder[^>]*>"},{output:"2807519",comparison:"matchesRegex",caseInsensitive:!1,matchExpression:"[^>]*applying-for-a-mortgage[^>]*>"},{output:"2807519",comparison:"matchesRegex",caseInsensitive:!1,matchExpression:"[^>]*ways-to-borrow[^>]*>"},{output:"2807519",comparison:"matchesRegex",caseInsensitive:!1,matchExpression:"/current-accounts/overdrafts.html"},{output:"2807519",comparison:"matchesRegex",caseInsensitive:!1,matchExpression:"/current-accounts/overdrafts/olb/overdraft-calculator.html"},{output:"2807519",comparison:"matchesRegex",caseInsensitive:!1,matchExpression:"[^>]*support-for-rising-costs[^>]*>"},{output:"2807519",comparison:"matchesRegex",caseInsensitive:!1,matchExpression:"/business/green-banking/carbon-planner.html"},{output:"2807519",comparison:"matchesRegex",caseInsensitive:!1,matchExpression:"/business.html"},{output:"2807519",comparison:"matchesRegex",caseInsensitive:!1,matchExpression:"/mortgages/first-time-buyers.html"},{output:"2807519",comparison:"matchesRegex",caseInsensitive:!1,matchExpression:"/mortgages/remortgage-to-natwest.html"},{output:"2807519",comparison:"matchesRegex",caseInsensitive:!1,matchExpression:"/mortgages/moving-home.html"},{output:"2807519",comparison:"matchesRegex",caseInsensitive:!1,matchExpression:"/mortgages/applying-for-a-mortgage/mortgage-agreement-in-principle.html"},{output:"2807519",comparison:"matchesRegex",caseInsensitive:!1,matchExpression:"/mortgages/buy-to-let.html"},{output:"2807519",comparison:"matchesRegex",caseInsensitive:!1,matchExpression:"/mortgages/remortgage-to-natwest/remortgage-guide.html"},{output:"2807519",comparison:"matchesRegex",caseInsensitive:!1,matchExpression:"/current-accounts/existing-customers/student-account.html"},{output:"2807519",comparison:"matchesRegex",caseInsensitive:!1,matchExpression:"/current-accounts/existing-customers/graduate-account.html"},{output:"2807519",comparison:"matchesRegex",caseInsensitive:!1,matchExpression:"/know-your-credit-score.html"},{output:"2807519",comparison:"matchesRegex",caseInsensitive:!1,matchExpression:"/search-results.html"},{output:"2807519",comparison:"matchesRegex",caseInsensitive:!1,matchExpression:"/savings.html"},{output:"2807519",comparison:"matchesRegex",caseInsensitive:!1,matchExpression:"/savings/fixed-term-savings-account.html"},{output:"2807519",comparison:"matchesRegex",caseInsensitive:!1,matchExpression:"/savings/isa-overview/fixed-isa.html"},{output:"2807519",comparison:"matchesRegex",caseInsensitive:!1,matchExpression:"/mortgages/existing-customers.html"},{output:"2807519",comparison:"matchesRegex",caseInsensitive:!1,matchExpression:"/current-accounts/overdrafts/existing-customers.html"},{output:"2807519",comparison:"matchesRegex",caseInsensitive:!1,matchExpression:"/investments/natwest-invest.html"},{output:"2807519",comparison:"matchesRegex",caseInsensitive:!1,matchExpression:"/borrowing-needs/borrowing-needs-tool.html"},{output:"2807519",comparison:"matchesRegex",caseInsensitive:!1,matchExpression:"/investments.html"},{output:"2807519",comparison:"matchesRegex",caseInsensitive:!1,matchExpression:"/investments/pensions.html"},{output:"2807519",comparison:"matchesRegex",caseInsensitive:!1,matchExpression:"/investments/junior-isa.html"},{output:"2807519",comparison:"matchesRegex",caseInsensitive:!1,matchExpression:"/investments/five-ready-made-funds.html"},{output:"2807519",comparison:"matchesRegex",caseInsensitive:!1,matchExpression:"/investments/existing-customers/personal-portfolio-funds.html"},{output:"2807519",comparison:"matchesRegex",caseInsensitive:!1,matchExpression:"/investments/our-insights.html"}],baseDataElement:"%pathName%>%surveyAEMSettingsHotJarId%>%event.detail.surveyHotjarId%"}},cinParam:{modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"cin",caseInsensitive:!0}},marketingPinterestId:{defaultValue:"2612570069989",modulePath:"natwest-core/src/lib/dataElements/getFeatureFlagValue.js",settings:{key:"%pinterestID%"}},"digitalData.event.code":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return digitalData&&digitalData.event?digitalData.event[digitalData.event.length-1].code:void 0}catch(e){_satellite.logger.error("digitalData.event.code failed to run",e)}}}},trackingServerSecure:{defaultValue:"royalbankofscotland.d3.sc.omtrdc.net",storageDuration:"pageview",modulePath:"mapping-table/src/lib/dataElements/mappingTable.js",settings:{0:{input:"natwest",method:"exact match i",output:"sc.natwest.com"},1:{input:"rbs",method:"exact match i",output:"sc.rbs.co.uk"},2:{input:"ulster\\s?roi",method:"regex",output:"sc.ulsterbank.ie"},3:{input:"ulster\\s?ni",method:"regex",output:"sc.ulsterbank.co.uk"},4:{input:"holts",method:"starts with",output:"sc.holtsmilitarybank.co.uk"},5:{input:"iombank",method:"exact match i",output:"sc.iombank.com"},6:{input:"natwestinternational_com",method:"exact match i",output:"sc.natwestinternational.com"},7:{input:"NATWESTGROUP_COM",method:"exact match i",output:"sc.natwestgroup.com"},8:{input:"NATWESTGROUPREMEMBERS_COM",method:"exact match i",output:"sc.natwestgroupremembers.com"},9:{input:"lombard",method:"exact match i",output:"sc.lombard.co.uk"},size:10,dataElement:"%digitalData.site.brand%",defaultValueEmpty:!0}},ffGtag:{modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"enabled"}},taggingBuildDate:{modulePath:"core/src/lib/dataElements/runtimeEnvironment.js",settings:{attribute:"buildDate"}},autoConfigProductData:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{let e,t=[],n=_satellite.getVar("digitalData.site.businessArea")?.toLowerCase();if(_satellite.productData)_satellite.logger.log("Returning Product Data Cache"),e=_satellite.productData;else switch(n){case"personal":e=_satellite.getVar("retailProductData");break;case"business":e=_satellite.getVar("commercialProductData");break;case"premier-banking":e=_satellite.getVar("premierProductData");break;default:_satellite.logger.warn("No product database in use"),e=null}return e?.productName&&(t=[{id:(e?.productCode||"").toUpperCase(),name:e.productName,category:{name:`${e?.productArea}-${e?.productCategory}`,code:(e?.categoryCode||"").toUpperCase()}}]),JSON.stringify(t)}catch(e){_satellite.logger.error("[Data Element] Failed in autoConfigProductData",e)}}}},queryStrings:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){function e(e,t){var n=e.split("?");if(n.length>=2){for(var r=n.shift(),a=n.join("?"),o=encodeURIComponent(t)+"=",i=a.split(/[&;]/g),s=i.length;s-- >0;)-1!==i[s].lastIndexOf(o,0)&&i.splice(s,1);e=r+"?"+i.join("&")}return e}try{var t=location.search;return t=e(t,"cin"),t=e(t,"tk"),t=e(t,"ek"),t=e(t,"ts"),t=e(t,"sc_c07"),t=e(t,"CIN"),t=e(t,"TK"),t=e(t,"EK"),t=e(t,"TS"),t=e(t,"SC_C07"),t=e(t,"cookieGroups"),t=e(t,"adobe_mc")}catch(e){_satellite.logger.error("queryStrings failed to run",e)}}}},pageNameCleaned:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){const e=e=>{try{return e.toLowerCase().split(">").map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join(">")}catch(e){_satellite.logger.error("toTitleCase failed to run",e)}},t=e=>{try{const t=document.createElement("textarea");return t.innerHTML=e,t.value}catch(e){_satellite.logger.error("decodeEntities failed to run",e)}};try{var n=_satellite.getVar("digitalData.page.name");if(n)return n=(n=e(n=(n=t(n)).replace(/null/,"home"))).replace(/( )|(>Id)|(:NW>)|(:RBS>)|(:ULSTERROI>)|(:ULSTERNI>)|(INTERSTITIAL)/gi,"")}catch(e){return _satellite.logger.error("pageNameCleaned failed to run",e),window.location.href}}}},atVersion:{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"adobe.target.VERSION"}},lpMobileURLs:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return["/savings.html","/mortgages/manage-your-mortgage/borrowing-more.html","private.html","private/current-accounts.html","private/current-accounts-location.html"]}}},xtcamParam:{modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"xtcam",caseInsensitive:!0}},changeToCora:{modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"changeToCora",caseInsensitive:!0}},targetServer:{defaultValue:"tt.natwest.com",modulePath:"mapping-table/src/lib/dataElements/mappingTable.js",settings:{0:{input:"natwest",method:"exact match i",output:"tt.natwest.com"},1:{input:"rbs",method:"exact match i",output:"tt.rbs.co.uk"},2:{input:"ulsterroi",method:"exact match i",output:"tt.ulsterbank.ie"},3:{input:"ulsterni",method:"exact match i",output:"tt.ulsterbank.co.uk"},4:{input:"iombank",method:"exact match i",output:"tt.natwest.com"},size:5,dataElement:"%digitalData.site.brand%",defaultValueEmpty:!0}},disableThirdPartyCallsConditioned:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return!(_satellite.getVar("optanonActiveGroups").indexOf("C0004")>-1)||_satellite.getVar("disableThirdPartyCalls")}catch(e){_satellite.logger.error("[Data Element] Failed to load disableThirdPartyCallsConditioned",e)}}}},mortgageToolsNewExist:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{if(digitalData&&digitalData.user&&digitalData.user.customerType){var e=digitalData.user.customerType.split(" - ");if(3===e.length)return e[0]}}catch(e){_satellite.logger.error("mortgageToolsNewExist failed to run",e)}}}},extCam:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{const e=_satellite.getVar("extcamParam");return"object"==typeof e?e[e.length-1]:e}catch(e){_satellite.logger.error("[Data Element] Failed to set External Campaign Code",e)}}}},marketingFacebookLeadCssSelector:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{let e=`${document.location.hostname}${document.location.pathname}`,t=[{url:"www.natwest.com/banking-with-natwest/know-your-credit-score.html",cssSelector:".cta.cta-primary[title='Get your free score']"}].filter((t=>t.url===e));return t&&t.length>0?t[0].cssSelector:"faceke-selector-123"}catch(e){return _satellite.logger.error("[Data Element] Failed in marketingFacebookLeadCssSelector",e),"faceke-selector-123"}}}},intcamParam:{modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"intcam",caseInsensitive:!0}},launchEnvironment:{modulePath:"core/src/lib/dataElements/runtimeEnvironment.js",settings:{attribute:"environmentStage"}},adobeOptInStatus:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{let e={aa:!1,aam:!1,ecid:!1,target:!1};return _satellite.getVar("optanonActiveGroups").match(/C0009/g)&&(e.aa=!0,e.target=!0,e.ecid=!0),_satellite.getVar("optanonActiveGroups").match(/C0002.*C0009|C0009.*C0002/)&&(e.aam=!0),e}catch(e){_satellite.logger.error("adobeOptInStatus failed to run",e)}}}},retailProductData:{storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{const e=_satellite.getVar("canonicalURL")?_satellite.getVar("canonicalURL"):_satellite.getVar("pathName");let t;"NatWest"===_satellite.getVar("brandName")?(_satellite.logger.log("NatWest Retail Matched",e),t=[["/credit-cards/travel-reward-credit-card.html","Personal","Credit Card","","Travel Reward Credit Card","","","","cc1","xs","","","","",{},"","",{},"","",{},"ViewCategory",{},"2612403801337","","",""],["(/(THE-)?((ROYAL-BANK-CREDIT)|(NATWEST-CREDIT)|(ULSTER-BANK-CREDIT))-CARD.HTML)|(/THE_NATWEST_CREDIT_CARD.HTML)","Personal","Credit Card","CC_BRAND","The Brand Credit Card","","","","cc1","xl","lan","standard","true","",{},"SPBR3X","VIEW_CONTENT",{},"96d13be7-f103-4162-89f5-ad64c37420aa","",{},"ViewCategory",{},"2613340647527","","","gt,mz"],["REWARD(-|_)CREDIT(-|_)CARD","Personal","Credit Card","CC_REW","Reward Credit Card","","","","cc1","xk","lan","standard","true","",{},"","VIEW_CONTENT",{},"96d13be7-f103-4162-89f5-ad64c37420aa","",{},"ViewCategory",{},"2613340647527","","","gt"],["/credit-cards/balance-transfer-credit-card/balance-transfer.html|/credit-cards/balance-transfer.html","Personal","Credit Card","CC_BALTRANS","Balance Transfer Credit Card","","","","cc1","xa","lan","","true","N_Card_BT_LAN",{type:"tagName",site:_satellite.getVar("brandName")},"","VIEW_CONTENT",{},"96d13be7-f103-4162-89f5-ad64c37420aa","",{},"ViewCategory",{},"2613340647527","","","gt,fbc"],["/credit-cards/m/balance-transfer-credit-card.html","Personal","Credit Card","CC_BALTRANS","Balance Transfer Credit Card","","","","cc1","xa","agg","","","",{},"","",{},"","",{},"",{},"","","","gt"],["/credit-cards/balance-transfer-credit-card.html","Personal","Credit Card","CC_BALTRANS","Balance Transfer Credit Card","","","","","","","","","",{},"","VIEW_CONTENT",{},"96d13be7-f103-4162-89f5-ad64c37420aa","",{},"ViewCategory",{},"2613340647527","","","none"],["/credit-cards/longer-balance-transfer.html","Personal","Credit Card","CC_LONGERBAL","Longer Balance Transfer Card","","","","","","","","","",{},"","",{},"","",{},"",{},"","","",""],["STUDENT(-|_)CREDIT(-|_)CARD","Personal","Credit Card","CC_SCC","Student Credit Card","","","","cc1","yg","lan","","","N_MTA_Stdnt_LAN",{type:"tagName",site:_satellite.getVar("brandName")},"","",{},"","",{},"",{},"","","","gt,fbc"],["REWARD(-|_)BLACK(-|_)CREDIT(-|_)CARD","Personal","Credit Card","CC_REWBLK","Reward Black Credit Card","","","","cc1","xi","lan","","","",{},"","VIEW_CONTENT",{},"96d13be7-f103-4162-89f5-ad64c37420aa","",{},"ViewCategory",{},"2613340647527","","","gt"],["/CREDIT-CARDS/EXISTING-CUSTOMERS/INSTALMENT-LENDING.HTML","Personal","Credit Card","CC_INSTALMNT","","","","","cc1","cc1","ile","","","N_Card_Installment_Lending_LAN",{type:"tagName",site:_satellite.getVar("brandName")},"","",{},"","",{},"",{},"","","","gt,fbc"],["CREDIT-CARDS/CREDIT-CARD-HELP-AND-GUIDES.HTML","Personal","Credit Card","CC_HELP","","","","","cc1","cc1","gui","","","",{},"","VIEW_CONTENT",{},"96d13be7-f103-4162-89f5-ad64c37420aa","",{},"ViewCategory",{},"2613340647527","","","gt"],["/credit-cards/how-to-apply-for-credit-card.html","Personal","Credit Card","","","","","","","","","","","",{},"","VIEW_CONTENT",{},"96d13be7-f103-4162-89f5-ad64c37420aa","",{},"ViewCategory",{},"2613340647527","","",""],["/credit-cards/travel-credit-cards.html","Personal","Credit Card","","","","","","","","","","","",{},"","VIEW_CONTENT",{},"96d13be7-f103-4162-89f5-ad64c37420aa","",{},"ViewCategory",{},"2613340647527","","",""],["/credit-cards/low-interest-rate-credit-cards.html","Personal","Credit Card","","","","","","","","","","","",{},"","VIEW_CONTENT",{},"96d13be7-f103-4162-89f5-ad64c37420aa","",{},"ViewCategory",{},"2613340647527","","",""],["/credit-cards/existing-customers.html","Personal","Credit Card","CC_MYCC","","","","","","","","","","",{},"","",{},"","",{},"",{},"","","","none"],["/credit-cards/credit-cards-cashback.html","Personal","Credit Card","","","","","","","","","","","",{},"","VIEW_CONTENT",{},"96d13be7-f103-4162-89f5-ad64c37420aa","",{},"ViewCategory",{},"2613340647527","","",""],["/credit-cards/no-annual-fee-credit-cards.html","Personal","Credit Card","","","","","","","","","","","",{},"","VIEW_CONTENT",{},"96d13be7-f103-4162-89f5-ad64c37420aa","",{},"ViewCategory",{},"2613340647527","","",""],["/credit-cards/interest-free-credit-cards.html","Personal","Credit Card","","","","","","","","","","","",{},"","VIEW_CONTENT",{},"96d13be7-f103-4162-89f5-ad64c37420aa","",{},"ViewCategory",{},"2613340647527","","",""],["/CREDIT(-|_)CARDS.HTML","Personal","Credit Card","CC_GEN","Credit Cards Hub","","","","cc1","cc1","cat","","","",{},"SPBR3X","VIEW_CONTENT",{},"96d13be7-f103-4162-89f5-ad64c37420aa","",{},"ViewCategory",{},"2613340647527","","","gt,mz"],["/credit-cards/out-of-hours.html","Personal","Credit Card","","","","","","cc1","cc1","ooo","","","N_Card_OOH_LAN_NEW",{type:"tagName",site:_satellite.getVar("brandName")},"","",{},"","",{},"",{},"","","","gt,fbc"],["/credit-cards/purchase-and-balance-transfer.html","Personal","Credit Card","CC_PBT","Purchase & Balance Transfer Card","","","","cc1","pbt","lan","","","",{},"","VIEW_CONTENT",{},"96d13be7-f103-4162-89f5-ad64c37420aa","",{},"ViewCategory",{},"2613340647527","","","gt"],["CURRENT-ACCOUNTS/ADAPT(-|_)ACCOUNT","Personal","Current Account","MTA_CHILD","Natwest Adapt","","","","cac","v1","lan","","","",{},"","",{},"","",{},"",{},"","","","gt"],["/CURRENT-ACCOUNTS/FOUNDATION_ACCOUNT.HTML","Personal","Current Account","MTA_FOUND","Foundation Account","","","","cac","qf","lan","","","",{},"","",{},"","",{},"",{},"","","","gt"],["STUDENT(-|_)ACCOUNT","Personal","Current Account","MTA_STU","Student Account","","","","cac","17","lan","","true","N_MTA_Stdnt_LAN",{type:"tagName",site:_satellite.getVar("brandName")},"","VIEW_CONTENT",{item_category:"student"},"6725c926-55c0-423e-a931-217f367c4792","Site visit",{},"",{},"","389rCIapirwDEJGR6tQD","AW-983206033","gt,fbc,sc,tw"],["/CURRENT(-|_)ACCOUNTS/SELECT(-|_)ACCOUNT.HTML","Personal","Current Account","MTA_SEL","Select Account","","","","cac","zj","lan","standard","true","N_MTA_Sel_LAN_NEW",{type:"tagName",site:_satellite.getVar("brandName")},"","VIEW_CONTENT",{},"47bd0f66-5869-4418-b7dd-fb5bf0526453","",{},"",{},"","k81RCPDnx_kBEJPklvQD","AW-1048949267","gt,fbc,sc"],["/CURRENT(-|_)ACCOUNTS/REWARD(-|_)ACCOUNT.HTML","Personal","Current Account","MTA_REW","Reward","","","","cac","qa","lan","standard","true","N_MTA_Rew_LAN_NEW",{type:"tagName",site:_satellite.getVar("brandName")},"","VIEW_CONTENT",{},"47bd0f66-5869-4418-b7dd-fb5bf0526453","",{},"",{},"","yfrfCPHc3vkBEJPklvQD","AW-1048949267","gt,fbc,sc"],["REWARD(-|_)SILVER(-|_)ACCOUNT","Personal","Current Account","MTA_REWSIL","Reward Silver","","","","cac","qc","lan","standard","true","",{},"","VIEW_CONTENT",{},"47bd0f66-5869-4418-b7dd-fb5bf0526453","",{},"",{},"","","","gt,fbp,sc"],["REWARD(-|_)PLATINUM(-|_)ACCOUNT","Personal","Current Account","MTA_PLATREW","Reward Platinum","","","","cac","qd","lan","standard","true","",{},"","VIEW_CONTENT",{},"47bd0f66-5869-4418-b7dd-fb5bf0526453","",{},"",{},"","","","gt,fbp,sc"],["/CURRENT-ACCOUNTS/SWITCH-YOUR-BANKING-TO-NATWEST.HTML","Personal","Current Account","MTA_SW","","","","","cac","cac","lan","","","",{},"","VIEW_CONTENT",{},"47bd0f66-5869-4418-b7dd-fb5bf0526453","",{},"ViewCategory",{},"2612814085105","","","gt"],["/CURRENT(-|_)ACCOUNTS/CURRENT(-|_)ACCOUNT.HTML|/CURRENT(-|_)ACCOUNTS.HTML","Personal","Current Account","MTA_GEN","Current Account Hub","","","","cac","cac","cat","","true","",{},"","VIEW_CONTENT",{},"47bd0f66-5869-4418-b7dd-fb5bf0526453","",{},"ViewCategory",{},"2612814085105","","","gt,fbp"],["OVERDRAFTS.HTML","Personal","Overdraft","OVD_GEN","Overdraft Hub","","","","ovd","ovd","lan","","","",{},"","",{},"","",{},"",{},"","","","gt"],["NEW-OVERDRAFT.HTML","Personal","Overdraft","OVD_NEW","Overdraft","","","","ovd","ovd","lan","","","",{},"","",{},"","",{},"",{},"","","",""],["/current-accounts/overdrafts/manage-overdraft.html","Personal","Overdraft","OVD_CHANGE","","","","","","","","","","",{},"","",{},"","",{},"",{},"","","","none"],["GRADUATE(-|_)OVERDRAFT","Personal","Overdraft","OVD_GRAD","Overdraft","","","","","","","","","",{},"","",{},"","",{},"",{},"","","","none"],["STUDENT(-|_)OVERDRAFT","Personal","Overdraft","OVD_STU","Overdraft","","","","","","","","","",{},"","",{},"","",{},"",{},"","","","none"],["/current-accounts/overdrafts/olb/overdraft-calculator.html","Personal","Overdraft","OVD_CALC","Overdraft","","","","","","","","","",{},"","",{},"","",{},"",{},"","","","none"],["/current-accounts/overdrafts/overdraft-application-next-steps.html|/current-accounts/overdrafts/overdraft-application-next-steps-sao.html","Personal","Overdraft","","","","","","","","","","","",{},"AGUGAB","",{},"","",{},"",{},"","","","mz"],["/CURRENT-ACCOUNTS/ID-VERIFICATION-THANK-YOU.HTML","Personal","Current Account","","","","","","","","","","","",{},"YPT44P","",{},"","",{},"",{},"","","","mz"],["/current-accounts/next_steps.html|/current-accounts/next_steps_SAO.html","Personal","Current Account","","","","","","","","","","","",{},"AGUGAB","",{},"","",{},"",{},"","","","mz"],["/current-accounts/existing-customers.html","Personal","Current Account","","","","","","","","","","","",{},"SPBR3X","",{},"","",{},"",{},"","","","mz"],["/current-accounts/existing-customers/select-account.html","Personal","Current Account","","","","","","","","","","","",{},"SPBR3X","",{},"","",{},"",{},"","","","mz"],["/current-accounts/existing-customers/new-mastercard.html","Personal","Current Account","","","","","","n_cua0","cac_cac","","","","",{},"","",{},"","",{},"",{},"","","","gt"],["/myrewards","Personal","Current Account","MOB_REWARD","","","","","cac","rew","lan","","","N_MTA_NETDonation_LAN",{type:"tagName",site:_satellite.getVar("brandName")},"","",{},"","",{},"",{},"","","","gt,fbc"],["/current-accounts/existing-customers1/upgrade-reward.html","Personal","Current Account","MTA_GEN ","","","","","n_cua0","currntac","","","","",{},"","",{},"","",{},"",{},"","","","gt"],["/current-accounts/overdrafts","Personal","Overdraft","OVD_GEN","","","","","","","","","","",{},"","",{},"","",{},"",{},"","","",""],["/current-accounts/childrens-accounts.html","Personal","Current Account","MTA_YOUTH","Current Account Hub","","","","","","","","","",{},"","",{},"ddbddb72-ff44-4e4d-8630-18399b8deb30","",{},"",{},"","","AW-10937994359","gt,fbc,sc"],["/kids-prepaid-pocket-money-card.html","Personal","Current Account","MTA_YOUTH","Rooster Money","","","","","","","","","",{},"","",{},"ddbddb72-ff44-4e4d-8630-18399b8deb30","",{},"",{},"","","AW-10937994359","gt,fbc,sc"],["/current-accounts/","Personal","Current Account","MTA_GEN","","","","","","","","","","",{},"","",{},"","",{},"",{},"","","",""],["/FINANCIAL-HEALTH-CHECK.HTML","Personal","Financial Health Check","FIN_HC","Financial Health Check","","","","lif","fhc","lan","standard","","N_FHC_LAN_NEW",{type:"tagName",site:_satellite.getVar("brandName")},"","VIEW_CONTENT",{},"8360fa97-0d86-436e-b4bd-a30e06fdf745","",{},"viewcategory",{},"2612570577254","","","gt,fbc,pi,sc"],["/financial-health-check/(existing|new)-customer.html","Personal","Financial Health Check","FIN_HC","Financial Health Check","","Digital Financial Health Check","event61","lif","fhc","sta","","","AddToCart",{content_name:"financial-health-check"},"","ADD_CART",{},"8360fa97-0d86-436e-b4bd-a30e06fdf745","",{},"AddToCart",{},"2612570577254","","","gt,fb,sc,pi"],["/financial-health-check/(existing|new)-customer/fhc-results.html","Personal","Financial Health Check","FIN_HC","Financial Health Check","","Digital Financial Health Check","event62","lif","fhc","com","","","CompleteRegistration",{content_name:"FHC"
},"2ST9GT","CUSTOM_EVENT_1",{},"8360fa97-0d86-436e-b4bd-a30e06fdf745","",{},"Custom",{},"2612570577254","","","gt,fb,sc,pi,mz"],["BUILDINGS(-|_)INSURANCE","Personal","Insurance","INS_HOME","Buildings Insurance","","","","ins","bi","lan","standard","","",{},"","",{},"","",{},"",{},"","","","gt"],["STUDENT-AND-TENANTS-CONTENTS-INSURANCE","Personal","Insurance","INS_HOME","Student and Tenants Contents Insurance","","","","ins","sin","lan","","","",{},"","",{},"","",{},"",{},"","","","gt"],["INSURANCE/HOME-INSURANCE.HTML","Personal","Insurance","INS_HOME","Home Insurance","","","","ins","hom","lan","","","",{},"","VIEW_CONTENT",{},"0e020258-9d97-4969-8814-c0c2b80b0d1f","",{},"",{},"","","","gt"],["BUILDINGS-AND-CONTENTS-INSURANCE","Personal","Insurance","INS_HOME","Buildings and Contents Insurance","","","","ins","bci","lan","standard","","",{},"","",{},"","",{},"",{},"","","","gt"],["CONTENTS(-|_)INSURANCE","Personal","Insurance","INS_HOME","Contents Insurance","","","","ins","ci","lan","standard","","",{},"","",{},"","",{},"",{},"","","","gt"],["INSURANCE-AND-PROTECTION/CAR-INSURANCE.HTML","Personal","Insurance","INS_CAR","Car Insurance","","","","ins","car","lan","","","",{},"","",{},"","",{},"",{},"","","","gt"],["INCOME-PROTECTION-INSURANCE/","Personal","Insurance","INS_LIFE","Income Protection Insurance","","","","ins","inc","lan","","","",{},"","",{},"","",{},"",{},"","","","gt"],["INSURANCE/LIFE-INSURANCE.HTML","Personal","Insurance","INS_LIFE","Life Insurance","","","","ins","lif","lan","","","PageView",{},"","",{},"","",{},"",{},"","","","gt"],["OVER-50S-LIFE-ASSURANCE","Personal","Insurance","INS_LIFE","Over 50s Life Assurance","","","","ins","ov5","lan","","","",{},"","",{},"","",{},"",{},"","","","gt"],["INSURANCE/PET-INSURANCE.HTML","Personal","Insurance","INS_PET","Pet Insurance","","","","ins","pet","lan","","","",{},"","",{},"","",{},"",{},"","","","gt"],["RENTERS-CONTENTSINSURANCE|RENTERS_CONTENTS_INSURANCE","Personal","Insurance","INS_RENT","Renters Insurance","","","","ins","rin","lan","standard","","",{},"","",{},"","",{},"",{},"","","","gt"],["/INSURANCE.HTML","Personal","Insurance","INS_GEN","Home Insurance","","","","","","","","","",{},"","",{},"","",{},"",{},"","","","none"],["LIFE-MOMENTS/BUYING-A-CAR","Personal","Life Moments","LM_BUYCAR","","","","","","","","","","",{},"","",{},"","",{},"",{},"","","","none"],["LIFE-MOMENTS/HOME-IMPROVEMENTS","Personal","Life Moments","LM_HOMEIMP","","","","","","","","","","",{},"","",{},"","",{},"",{},"","","","none"],["LIFE-MOMENTS/MANAGING-YOUR-MONEY","Personal","Life Moments","LM_MYM","","","","","","","","","","",{},"","",{},"","",{},"",{},"","","","none"],["LIFE-MOMENTS/TRAVEL","Personal","Life Moments","LM_TRAV","","","","","","","","","","",{},"","",{},"","",{},"",{},"","","","none"],["/life-moments/planahead.html|/life-moments/planahead/social-landing-page.html","Personal","Life Moments","LM_PLANA","Plan Ahead","","","","lif","pla","lan","","","ViewContent",{content_name:"Plan Ahead"},"","",{},"","",{},"viewcategory",{},"2613668505042","","","gt,fbc,pi"],["PERSONAL-LOANS.HTML","Personal","Loan","LOAN_PERS","Personal Loan","","","","pln","l1","lan","","true","ViewContent",{content_name:"Loans"},"","VIEW_CONTENT",{},"83489a8b-e066-4545-9c1a-ae3aeaaa5b55","",{},"viewcategory",{product_name:"loans"},"2616958929310","d36QCNytufkBEOXExf4D","AW-1070686821","gt,fbc,pi"],["GUIDE(-|_)TO(-|_)LOANS.HTML","Personal","Loan","LOAN_PERS","Personal Loan","","","","","","","","","",{},"","",{},"","",{},"",{},"","","","none"],["/LOANS/BORROWING-MORE.HTML","Personal","Loan","LOAN_PERS","Personal Loan","","","","pln","l1","cat","","","",{},"","",{},"","",{},"",{},"","","","gt"],["LOANS-CALCULATOR.HTML","Personal","Loan","LOAN_PERS","Personal Loan","","","","pln","l1","cst","standard","","",{},"","VIEW_CONTENT",{},"83489a8b-e066-4545-9c1a-ae3aeaaa5b55","",{},"",{},"","","","gt"],["/LOANS/LANDING-PAGES/PERSONAL-LOAN.HTML","Personal","Loan","LOAN_PERS","Personal Loan","","","","pln","l1","lanl","standard","","ViewContent",{content_name:"Loans"},"","",{},"","",{},"viewcategory",{product_name:"loans"},"2616958929310","","","gt,fbc,pi"],["/LOANS/LANDING-PAGES/PERSONAL-LOAN-CALCULATOR.HTML","Personal","Loan","LOAN_PERS","Personal Loan","","","","pln","l1","cstl","","","ViewContent",{content_name:"Loans"},"","",{},"","",{},"viewcategory",{product_name:"loans"},"2616958929310","","","gt,fbc,pi"],["/LOANS/QUICKQUOTE.HTML","Personal","Loan","LOAN_PERS","Personal Loan","","","","","","","","","",{},"","VIEW_CONTENT",{},"83489a8b-e066-4545-9c1a-ae3aeaaa5b55","",{},"",{},"","","","none"],["/loans/sao-out-of-hours.html|/loans/out-of-hours-app.html","Personal","Loan","LOAN_PERS","","","","","","","","","","",{},"","",{},"","",{},"",{},"","","",""],["/LOANS/CAR-LOANS.HTML","Personal","Loan","LOAN_CAR","Personal Loan","","","","pln","l1c","lan","","true","ViewContent",{content_name:"Car"},"","VIEW_CONTENT",{},"83489a8b-e066-4545-9c1a-ae3aeaaa5b55","",{},"viewcategory",{product_name:"loans"},"2616958929310","","","gt,fbc,pi"],["/LOANS/DEBT-CONSOLIDATION(.*).HTML","Personal","Loan","LOAN_DEBTCONS","Personal Loan","","","","pln","l1","dcc","","","ViewContent",{content_name:"Debt Consolidation"},"","VIEW_CONTENT",{},"83489a8b-e066-4545-9c1a-ae3aeaaa5b55","",{},"viewcategory",{product_name:"loans"},"2616958929310","","","gt,fbc,pi"],["/LOANS/HOME-IMPROVEMENT-LOANS.HTML","Personal","Loan","LOAN_HOMEIMP","Personal Loan","","","","pln","l1","hic","","","ViewContent",{content_name:"Home Improvement"},"","VIEW_CONTENT",{},"83489a8b-e066-4545-9c1a-ae3aeaaa5b55","",{},"viewcategory",{product_name:"loans"},"2616958929310","","","gt,fbc,pi"],["/loans/holiday-loans-loans-for-a-holiday-natwest.html","Personal","Loan","LOAN_HOL","Personal Loan","","","","pln","l1","hoc","","","ViewContent",{content_name:"Holiday"},"","VIEW_CONTENT",{},"83489a8b-e066-4545-9c1a-ae3aeaaa5b55","",{},"viewcategory",{product_name:"loans"},"2616958929310","","","gt,fbc,pi"],["/LOANS/WEDDING-LOANS.HTML","Personal","Loan","LOAN_GM","Personal Loan","","","","pln","l1","wec","","","ViewContent",{content_name:"Wedding"},"","VIEW_CONTENT",{},"83489a8b-e066-4545-9c1a-ae3aeaaa5b55","",{},"viewcategory",{product_name:"loans"},"2616958929310","","","gt,fbc,pi"],["/LOANS/SHARED-(COMPONENTS|CONTENT-AREA)/APPLY-NOW-IMPORTANT-INFORMATION","Personal","Loan","LOAN_GM","Personal Loan","","","","pln","l1","pre","","","",{},"","",{},"","",{},"",{},"","","","gt,fbc"],["/LOANS.HTML|/LOANS1.HTML","Personal","Loan","LOAN_PERS","Personal Loan Hub","","","","pln","l1","lan","","true","ViewContent",{content_name:"Loans"},"","VIEW_CONTENT",{},"83489a8b-e066-4545-9c1a-ae3aeaaa5b55","",{},"viewcategory",{product_name:"loans"},"2616958929310","d36QCNytufkBEOXExf4D","AW-1070686821","gt,fbc,pi"],["/loans/home-improvement-loans/go-green-offer.html","Personal","Loan","LOAN_PERS","Personal Loan","","","","","","","","","",{},"","",{},"","",{},"",{},"","","","none"],["/mortgages.html","Personal","Mortgage","MOR_GEN","Mortgages Hub","","","","mor","mor","cat","","true","N_Mtg_HOMEPAGE_LAN_NEW",{type:"tagName",site:_satellite.getVar("brandName")},"","VIEW_CONTENT",{},"74b70822-00a1-464d-b79d-140dfaa8fb65","",{},"viewcategory",{},"2613957388307","","","gt,fbc,pi,sc"],["/MORTGAGES(-NEW)?/BUY-TO-LET.HTML","Personal","Mortgage","MOR_BTL","Mortgages","","","","mor","btl","lan","standard","","ViewContent",{content_name:"buy to let"},"","VIEW_CONTENT",{},"74b70822-00a1-464d-b79d-140dfaa8fb65","",{},"viewcategory",{},"2613957388307","","","gt,fbc,pi,sc"],["/mortgages/mortgage-calculator(s)?.html|/mortgages/mortgage-calculators/(how-much-can-i-borrow|mortgage-rate-finder-mortgage-calculator|remortgage-calculator-remortgage-rates).html","Personal","Mortgage","MOR_CALC","Mortgages","Retail: Mortgage Calculator Tool","","","mor","cal","lan","","","ViewContent",{content_name:"mort calculator"},"","VIEW_CONTENT",{},"74b70822-00a1-464d-b79d-140dfaa8fb65","",{},"viewcategory",{},"2613957388307","Y4MACKS45fYBEOLLkv8D","","gt,fbc,pi,sc"],["/MORTGAGES(-NEW)?/FIRST-TIME-BUYERS.HTML","Personal","Mortgage","MOR_FTB","Mortgages","","","","mor","ftb","lan","standard","","ViewContent",{content_name:"first time buyer"},"","VIEW_CONTENT",{},"74b70822-00a1-464d-b79d-140dfaa8fb65","",{},"viewcategory",{},"2613957388307","","","gt,fbc,pi,sc"],["/MORTGAGES(-NEW)?/MOVING-HOME.HTML","Personal","Mortgage","MOR_MH","Mortgages","","","","mor","mov","lan","standard","","ViewContent",{content_name:"moving home"},"","VIEW_CONTENT",{},"74b70822-00a1-464d-b79d-140dfaa8fb65","",{},"viewcategory",{},"2613957388307","","","gt,fbc,pi,sc"],["/MORTGAGES(-NEW)?/REMORTGAGE-TO-(RBS|NATWEST).HTML","Personal","Mortgage","MOR_RM","Mortgages","","","","mor","rem","lan","standard","","ViewContent",{content_name:"remortgage"},"","VIEW_CONTENT",{},"74b70822-00a1-464d-b79d-140dfaa8fb65","",{},"viewcategory",{},"2613957388307","","","gt,fbc,pi,sc"],["/MORTGAGES(-NEW)?/MANAGE-YOUR-MORTGAGE.HTML|/MORTGAGES/EXISTING-CUSTOMERS.HTML","Personal","Mortgage","MOR_SW","","","","","mor","swt","lan","standard","","ViewContent",{content_name:"existing customer"},"","VIEW_CONTENT",{},"74b70822-00a1-464d-b79d-140dfaa8fb65","",{},"viewcategory",{},"2613957388307","","","gt,fbc,pi,sc"],["/MORTGAGES(-NEW)?/APPLYING-FOR-A-MORTGAGE","Personal","Mortgage","MOR_GEN","Mortgages","","","","mor","hta","lan","","","ViewContent",{content_name:"Applying for NW mort"},"","VIEW_CONTENT",{},"74b70822-00a1-464d-b79d-140dfaa8fb65","",{},"viewcategory",{},"2613957388307","","","gt,fbc,pi"],["/MORTGAGES-NEW/APPLYING-FOR-A-MORTGAGE/PRE-APPLY-INFORMATION.HTML","Personal","Mortgage","MOR_GEN","Mortgages","Retail: Mortgage Intention To Lend Tool","Agreement-In-Principle","","mor","aip","lan","","","AIPPreApplication",{type:"aip_pre_apply",site:_satellite.getVar("brandName")},"","",{},"","",{},"",{},"","","","gt,fbc"],["/MORTGAGES/M/Z/NEW-HOME.HTML","Personal","Mortgage","MOR_GEN","Mortgages","","","","mor","new","zop","","","",{},"","",{},"","",{},"",{},"","","","gt"],["/MORTGAGES/M/Z/TO-RENT.HTML","Personal","Mortgage","MOR_GEN","Mortgages","","","","mor","ren","zop","","","",{},"","",{},"","",{},"",{},"","","","gt"],["/MORTGAGES/M/Z/PROPERTY-DETAILS.HTML","Personal","Mortgage","MOR_GEN","Mortgages","","","","mor","pop","zop","","","",{},"","",{},"","",{},"",{},"","","","gt"],["/MORTGAGES/M/Z/FOR-SALE.HTML","Personal","Mortgage","MOR_GEN","Mortgages","","","","mor","sal","zop","","","",{},"","",{},"","",{},"",{},"","","","gt"],["/MORTGAGES/MORTGAGE-AGREEMENT-IN-PRINCIPLE.HTML","Personal","Mortgage","MOR_GEN","Mortgages","","","","","","","","","",{},"","",{},"74b70822-00a1-464d-b79d-140dfaa8fb65","",{},"",{},"2613957388307","","AW-1071949282","gt,fbc,mz,sc"],["/mortgages/mortgage-comparison/95-percent-mortgages.html","Personal","Mortgage","MOR_GEN","Mortgages","","","","mor","95p","lan","","","ViewContent",{content_name:"95% mort"},"","VIEW_CONTENT",{},"74b70822-00a1-464d-b79d-140dfaa8fb65","",{},"viewcategory",{},"2613957388307","","","gt,fbc,pi,sc"],["/MORTGAGES/MORTGAGE-TYPES-AND-RATES.HTML","Personal","Mortgage","MOR_GEN","Mortgages","","","","mor","rat","lan","","","ViewContent",{content_name:"mort rates and types"},"","VIEW_CONTENT",{},"74b70822-00a1-464d-b79d-140dfaa8fb65","",{},"viewcategory",{},"2613957388307","","","gt,fbc,pi,sc"],["/MORTGAGES/PAPERLESS-MORTGAGES.HTML","Personal","Mortgage","MOR_GEN","Mortgages","","","","mor","pap","lan","","","ViewContent",{content_name:"paperless mort"},"","VIEW_CONTENT",{},"74b70822-00a1-464d-b79d-140dfaa8fb65","",{},"viewcategory",{},"2613957388307","","","gt,fbc,pi,sc"],["/MORTGAGES/OFFERS-AND-SCHEMES/CASHBACK-MORTGAGES.HTML|/MORTGAGES/CASHBACK.HTML","Personal","Mortgage","MOR_GEN","Mortgages","","","","mor","cas","lan","","","ViewContent",{content_name:"cashback mort"},"","VIEW_CONTENT",{},"74b70822-00a1-464d-b79d-140dfaa8fb65","",{},"viewcategory",{},"2613957388307","","","gt,fbc,pi,sc"],["/MORTGAGES/M/A/RBS-BTL-MORTGAGES.HTML","Personal","Mortgage","MOR_GEN","Mortgages","","","","mor","btl","lan","","","",{},"","",{},"","",{},"",{},"","","","gt"],["/MORTGAGES/MORTGAGE-TYPES-AND-RATES/OFFSET-FLEXIBLE-MORTGAGE.HTML","Personal","Mortgage","MOR_GEN","Mortgages","","","","mor","off","lan","","","ViewContent",{content_name:"offset flex mort"},"","VIEW_CONTENT",{},"74b70822-00a1-464d-b79d-140dfaa8fb65","",{},"viewcategory",{},"2613957388307","","","gt,fbc,pi,sc"],["/MORTGAGES/OFFERS-AND-SCHEMES.HTML","Personal","Mortgage","MOR_GEN","Mortgages","","","","mor","osc","lan","","","ViewContent",{content_name:"mort offers and schemes"},"","VIEW_CONTENT",{},"74b70822-00a1-464d-b79d-140dfaa8fb65","",{},"viewcategory",{},"2613957388307","","","gt,fbc,pi,sc"],["/MORTGAGES/SWITCH-MORTGAGE-DEAL","Personal","Mortgage","MOR_SW","Mortgage Switch","","","","","","","","","",{},"","",{},"","",{},"",{},"","","","none"],["/mortgages/mortgage-calculators/equity-calculator.html","Personal","Mortgage","MOR_CALC","Mortgages","Mortgage Equity Calculator","","","","","","","","",{},"","",{},"","",{},"",{},"","","","none"],["/mortgages/mortgage-types-and-rates/green-mortgages.html","Personal","Mortgage","MOR_GEN","Mortgages","","","","mor","gre","lan","","","",{},"","",{},"","",{},"",{},"","","","gt"],["/mortgages/welcome-from-ulsterbank.html","Personal","Mortgage","MOR_GEN","Mortgages","","","","n_mtg0","mor_ubni","","","","",{},"","VIEW_CONTENT",{},"74b70822-00a1-464d-b79d-140dfaa8fb65","",{},"",{},"","","","gt"],["^/$|PERSONAL.HTML|/HOME.HTML","Personal","Non Product","","","","","","bra","hom","lan","","","",{param_name:"tagName",site:_satellite.getVar("brandName")},"8H3BNY","",{},"","",{},"",{},"","","","gt,mz,fbc"],["/LOGOUT.HTML","Personal","Non Product","","","","","","bra","lon","lan","","","",{},"","",{},"","",{},"",{},"","","","gt"],["CASH(-|_)ISA.HTML|_INSTANT_ACCESS_ISA.HTML","Personal","Savings","SAV_CISA","Cash ISA","","","","dep","70","lan","","","",{},"","",{},"","",{},"",{},"","","","gt"],["/savings-investments.html","Personal","Savings","SAV_GEN","","","","","","","","","","",{},"","",{},"","",{},"",{},"","","",""],["/savings-investments/easy-access-savingshtml","Personal","Savings","SAV_EAS","Savings Easy Access Hub","","","","","","","","","",{},"","",{},"","",{},"",{},"","","",""],["/SAVINGS/ISA-OVERVIEW/CASH-ISA/NEXT-STEPS.HTML","Personal","Savings","SAV_CISA","Cash ISA","","","","","","","","","",{},"","",{},"","",{},"",{},"","","","mz"],["FIXED(-|_)ISA.HTML|FIXED(-|_)RATE(-|_)ISA.HTML","Personal","Savings","SAV_FRISA","Fixed Rate ISA","","","","dep","s6","lan","standard","","",{},"","",{},"","",{},"",{},"","","","gt"],["/SAVINGS/ISA-OVERVIEW/FIXED-ISA/NEXT-STEPS.HTML","Personal","Savings","SAV_FRISA","","","","","","","","","","",{},"AGUGAB","",{},"","",{},"",{},"","","","mz"],["FIRST(-|_)SAVER.HTML","Personal","Savings","SAV_FS","First Saver","","","","dep","36","lan","","","",{},"","",{},"","",{},"",{},"","","","gt"],["/SAVINGS/FIRST-SAVER/NEXT-STEPS.HTML","Personal","Savings","SAV_FS","","","","","","","","","","",{},"AGUGAB","",{},"","",{},"",{},"","","","mz"],["INSTANT-ACCESS-ACCOUNTS/LOYALTY-SAVER.HTML","Personal","Savings","SAV_LS","Loyalty Saver","","","","","","","","","",{},"","",{},"","",{},"",{},"","","","none"],["INSTANT(-|_)SAVER.HTML","Personal","Savings","SAV_IS","Instant Saver","","","","dep","z2","lan","standard","","",{},"","",{},"","",{},"",{},"","","","gt"],["/SAVINGS/INSTANT-SAVER/NEXT-STEPS.HTML","Personal","Savings","SAV_IS","","","","","","","","","","",{},"","",{},"","",{},"",{},"","","","mz"],["ISA(-|_)OVERVIEW.HTML","Personal","Savings","","","","","","dep","isa","cat","","","",{},"","",{},"","",{},"",{},"","","","gt"],["SAVINGS(_|-)BUILDER.HTML","Personal","Savings","SAV_SB","Savings Builder","","","","dep","q4","lan","standard","","",{},"","",{},"","",{},"",{},"","","","gt"],["/SAVINGS/SAVINGS-BUILDER/NEXT-STEPS.HTML","Personal","Savings","SAV_SB","","","","","","","","","","",{},"AGUGAB","",{},"","",{},"",{},"","","","mz"],["/SAVINGS/ISA-OVERVIEW/INSTANT-ACCESS-ISA/NEXT-STEPS.HTML","Personal","Savings","","","","","","","","","","","",{},"","",{},"","",{},"",{},"","","","mz"],["/SAVINGS/NEXT-STEPS-SAO.HTML","Personal","Savings","","","","","","","","","","","",{},"","",{},"","",{},"",{},"","","","mz"],["digital-regular-saver.html","Personal","Savings","SAV_DRS","Digital Regular Saver","","","","dep","xj","lan","","","ViewContent",{content_name:"digital regular saver"},"","",{},"","",{},"viewcategory",{product_name:"digital regular saver"},"2618276805869","","","gt,fbc"],["/savings/premium-saver.html","Personal","Savings","SAV_PS","Premium Saver","","","","dep","q5","lan","","","",{},"","",{},"","",{},"",{},"","","","gt"],["/support-centre.html","Personal","Support Centre","","","","","","","","","","","",{},"SPBR3X","",{},"","",{},"",{},"","","","mz"],["/support-centre/how-to-complain/complaint-form.html","Personal","Support Centre","","","","Customer Complaints - New Complaint","","","","","","","",{},"","",{},"","",{},"",{},"","","","none"],["/banking-with-natwest/natwest-app/features/account-aggregation.html","Personal","Ways to Bank","WTB_ACCONE","","","","","","","","","","",{},"","",{},"","",{},"",{},"","","","none"],["HELP-AND-SUPPORT/HELP-WITH-MOBILE-APP.HTML","Personal","Ways to Bank","WTB_MOBHELP","","","","","","","","","","",{},"","",{},"","",{},"",{},"","","","none"],["/banking-with-natwest/natwest-app/features/spending-and-budgets.html","Personal","Ways to Bank","WTB_SPEND","","","","","wtb","spe","lan","","","",{},"","",{},"","",{},"",{},"","","","gt"],["/banking-with-natwest.html","Personal","Ways to Bank","","","","","","wtb","bwn","cat","","","N_MOB_OnlineBanking_LAN",{type:"tagName",site:_satellite.getVar("brandName")},"","",{},"","",{},"",{},"","","","gt,fbc"],["/banking-with-natwest/natwest-app.html","Personal","Ways to Bank","WTB_MOBP","","","","","wtb","mob","lan","","","N_MOB_Download_NatWestApp_LAN",{type:"tagName",site:_satellite.getVar("brandName")},"","",{},"","",{},"",{},"","","","gt,fbc"],["/banking-with-natwest/natwest-app/features/my-loyalty-cards.html","Personal","Ways to Bank","WTB_LOYCRD","","","","","","","","","","",{},"","",{},"","",{},"",{},"","","","none"],["/banking-with-natwest/natwest-app/features.html","Personal","Ways to Bank","WTB_APPFEAT","","","","","","","","","","",{},"","",{},"","",{},"",{},"","","","none"],["/banking-with-natwest/natwest-app/features/know-my-credit-score.html","Personal","Ways to Bank","WTB_KMCS","","","","","","","","","","",{},"","",{},"","",{},"",{},"","","","none"],["/banking-with-natwest/how-to/report-lost-and-stolen-cards.html","Personal","Ways to Bank","WTB_CARDLOST","","","","","","","","","","",{},"","",{},"","",{},"",{},"","","","none"],["/banking-with-natwest/how-to/get-cash-using-the-app.html","Personal","Ways to Bank","WTB_GETCASH","","","","","","","","","","",{},"","",{},"","",{},"",{},"","","","none"],["/banking-with-natwest/how-to/going-paperless.html","Personal","Ways to Bank","WTB_GOPAPERLESS","","","","","","","","","","",{},"","",{},"","",{},"",{},"","","","none"],["/how-to/pay-in-cheques.html","Personal","Ways to Bank","WTB_CHEQUE","","","","","","","","","","",{},"","",{},"","",{},"",{},"","","","none"],["MOBILE-APP-PAYMENTS.HTML","Personal","Ways to Bank","MOB_PAY","","","","","","","","","","",{},"","",{},"","",{},"",{},"","","","none"],["/ways-to-bank/sending-money-abroad.html","Personal","Ways to Bank","SENDABR","","","","","wtb","sma","lan","","","ViewContent",{content_name:"sending-money-abroad"},"","",{},"","Site Visit",{},"",{},"","","","gt,fbc,tw"],["WAYS-TO-BANK(-R)?/TABLET-BANKING|/WAYS-TO-BANK(-R)?/TABLET-APP.HTML","Personal","Ways to Bank","","","","","","","","","","","",{},"","",{},"","",{},"",{},"","","","none"],["/ways-to-bank/getting-emergency-cash.html","Personal","Ways to Bank","","","","","","wtb","emc","con","","","",{},"","",{},"","",{},"",{},"","","","gt"],["/banking-with-natwest/other-ways-to-bank-with-natwest/natwest-video-banking-service.html","Personal","Ways to Bank","","","","","","wtb","vid","con","","","N_MOB_VideoBanking_LAN",{type:"tagName",site:_satellite.getVar("brandName")},"","VIEW_CONTENT",{},"8360fa97-0d86-436e-b4bd-a30e06fdf745","",{},"viewcategory",{},"2612570577254","","","gt,fbc,sc,pi"],["(SECURITY-CENTRE.HTML)|(MOBILE-APP/SECURITY.HTML)","Personal","Ways to Bank","","","","","","wtb","sec","con","","","",{},"","",{},"","",{},"",{},"","","","gt"],["/WAYS-TO-BANK(-R)?/TELEPHONE(-|_)BANKING.HTML|/banking-with-natwest/other-ways-to-bank-with-natwest/natwest-telephone-banking.html","Personal","Ways to Bank","","","","","","wtb","tel","con","","","N_WTB_TelBanking_LAN",{type:"tagName",site:_satellite.getVar("brandName")},"SPBR3X","",{},"","",{},"",{},"","","","gt,mz,fbc"],["/WAYS-TO-BANK(-R)?/MOBILE-APP/TECHXPERTS.HTML","Personal","Ways to Bank","","","","","","wtb","txp","con","","","",{},"","",{},"","",{},"",{},"","","","gt"],["/WAYS-TO-BANK(-R)?/MOBILE-APP/GETCASH.HTML","Personal","Ways to Bank","","","","","","wtb","gtc","con","","","",{},"","",{},"","",{},"",{},"","","","gt"],["/WAYS-TO-BANK(-R)?/DIGITAL-BANKING.HTML","Personal","Ways to Bank","","","","","","wtb","olb","lan","","","",{},"","",{},"","",{},"",{},"","","","gt"],["/WAYS-TO-BANK(-R)?/COMMUNITY-BANKER.HTML","Personal","Ways to Bank","","","","","","wtb","com","con","","","",{},"","",{},"","",{},"",{},"","","","gt"],["/WAYS-TO-BANK(-R)?/BRANCH-BANKING.HTML","Personal","Ways to Bank","","","","","","wtb","brn","con","","","",{},"","",{},"","",{},"",{},"","","","gt"],["/ways-to-bank/understanding-your-statement.html","Personal","Ways to Bank","","","","","","","","","","","",{},"SPBR3X","",{},"","",{},"",{},"","","","mz"],["/banking-with-natwest/register-for-online-banking.html","Personal","Ways to Bank","","","","","","wtb","bwn","olb","","","AddToCart",{content_name:"online-banking"},"SPBR3X","",{},"","",{},"",{},"","","","gt,fbc,mz"],["/EASIER-BANKING.HTML","Personal","Ways to Bank","","","","","","wtb","eas","lan","","","N_EASIER_BANKING_LAN",{type:"tagName",site:_satellite.getVar("brandName")},"","",{},"","",{},"",{},"","","","gt,fbc,twp,scp"],["/banking-with-natwest/supporting-critical-workers.html","Personal","Ways to Bank","","","","","","bw","scw","lan","","","N_MTA_NHS_LAN",{type:"tagName",site:_satellite.getVar("brandName")},"","",{},"","",{},"",{},"","","","gt,fbc"],["/banking-with-natwest/banking-for-everyone.html","Personal","Ways to Bank","","","","","","bw","bfe","lan","","true","N_MTA_Covid_HelpPage_LAN",{type:"tagName",site:_satellite.getVar("brandName")},"","",{},"","",{},"",{},"","","","gt,fbc"],["/WAYSTOPAY.HTML","Personal","Ways to Pay","","","","","","wtp","wtp","lan","","","ViewContent",{content_name:" Ways to Pay"},"","",{},"","",{},"",{},"","","","gt,fbc"],["/((CURRENT(-|_)ACCOUNTS|MORTGAGES/SECURE|(-|_)COMPARE(-|_)SAVINGS(-|_)ACCOUNTS/.*|(-|_)SAVINGS(-|_)BUILDER|(-|_)PREMIUM(-|_)SAVER)(/OVERDRAFTS?)?/(OVERDRAFT-)?(APPLICATION-)?(NEXT(-|_)STEPS(-SAO)?)|SAVINGS(.*)CONFIRMATION)\\.HTML","Personal","","","","","","","","","","","","",{},"AGUGAB","",{},"","",{},"",{},"","","","mz"],["/mortgages/manage-your-mortgage/redemption-request-form.html","Personal","","","","","Mortgage Redemption Request Form","","","","","","","",{},"","",{},"","",{},"",{},"","","","none"],["/support-centre/feedback-form.html","Personal","","","","","Feedback Form","","","","","","","",{},"","",{},"","",{},"",{},"","","","none"],["/support-centre/how-to-complain/complaint-update-form.html","Personal","","","","","Customer Complaints - Update Request","","","","","","","",{},"","",{},"","",{},"",{},"","","","none"],["/support-centre/existing-complaint-form.html","Personal","","","","","Customer Complatins - Existing Complaint","","","","","","","",{},"","",{},"","",{},"",{},"","","","none"],["/support-centre/contact-us-form.html","Personal","","","","","Contact Us Form","","","","","","","",{},"","",{},"","",{},"",{},"","","","none"],["/credit-cards/","Personal","Credit Card","CC_GEN","","","","","","","","","","",{},"","",{},"","",{},"",{},"","","",""],["OVERDRAFTS.HTML","Personal","Overdraft","OVD_GEN","Overdraft Hub","","","","ovd","ovd","lan","","","",{},"","",{},"","",{},"",{},"","","","gt"],["/current-accounts/overdrafts","Personal","Overdraft","OVD_GEN","","","","","","","","","","",{},"","",{},"","",{},"",{},"","","",""],["/life-moments/Struggling-financially/cost-of-living.html","Personal","Life Moments","LM_COL","","","","","","","","","","",{},"","",{},"","",{},"",{},"","","",""],["/insurance","Personal","Insurance","INS_GEN","","","","","","","","","","",{},"","",{},"","",{},"",{},"","","",""],["/life-moments","Personal","Life Moments","LM_GEN","","","","","","","","","","",{},"","",{},"","",{},"",{},"","","",""],["/loans","Personal","Loan","LOAN_GEN","","","","","","","","","","",{},"","",{},"","",{},"",{},"","","",""],["/mortgages","Personal","Mortgage","MOR_GEN","","","","","","","","","","",{},"","",{},"","",{},"",{},"","","",""],["SAVINGS.HTML","Personal","Savings","SAV_GEN","Savings Hub","","","","dep","dep","cat","","","",{},"","",{},"","",{},"",{},"","","","gt"],["/savings/fixed-term-savings-account.html","Personal","Savings","SAV_FTSA","Fixed Term Savings Account","","","","","","","","","",{},"","",{},"","",{},"",{},"","","",""],["/savings/flexible-saver.html","Personal","Savings","SAV_FLEX","Flexible Saver","","","","","","","","","",{},"","",{},"","",{},"",{},"","","",""],["/savings","Personal","Savings","SAV_GEN","","","","","","","","","","",{},"","",{},"","",{},"",{},"","","",""],["/gdpr-triage-page/gdpr-e-form-page.html","","","","","","GDPR Form","event61","","","","","","",{},"","",{},"","",{},"",{},"","","",""],["/gdpr-triage-page/gdpr-results-page.html","","","","","","GDPR Form","event62","","","","","","",{},"","",{},"","",{},"",{},"","","",""],["/ukraine-refugees.html","Personal","Current Account","MTA_UKR","","","","","","","","","","",{},"","",{},"","",{},"",{},"","","",""],["/banking-with-natwest/our-purpose/climate/travel/home-charging.html","","","LM_OCTO","","","","","","","","","","",{},"","",{},"","",{},"",{},"","","",""],["/borrowing-needs.html","Personal","","LOAN_NEEDS","","","","","","","","","","",{},"","",{},"","",{},"",{},"","","",""],["/buy-now-pay-later.html","Personal","Credit Card","CC_BNPL","Buy Now Pay Later","","","","cc1","xo","lan","","","ViewContent",{},"","VIEW_CONTENT",{item_category:"CC1_XO"},"135208dc-e6f5-47e8-8592-0fdeb611d574","",{},"ViewCategory",{product_name:"Buy Now Pay Later"},"2613134071494","","",""],["/savings/limited-edition-saver.html","Personal","Savings","SAV_LES","Limited Edition Saver","","","","dep","q6","","","","",{},"","",{},"","",{},"",{},"","","",""]]):"RBS"===_satellite.getVar("brandName")?(_satellite.logger.log("RBS Retail Matched",e),t=[["(/(THE-)?((ROYAL-BANK-CREDIT)|(NATWEST-CREDIT)|(ULSTER-BANK-CREDIT))-CARD.HTML)","Personal","Credit Card","CC_BRAND","The Brand Credit Card","","","","cc1","xl","lan","standard","","",{},"","",{},"","",{},"",{},"","","","gt"],["REWARD(-|_)CREDIT(-|_)CARD","Personal","Credit Card","CC_REW","Reward Credit Card","","","","cc1","xk","lan","standard","true","",{},"","",{},"","",{},"",{},"","","","gt"],["/credit-cards/balance-transfer-credit-card/longer-balance-transfer.html|/credit-cards/longer-balance-transfer.html","Personal","Credit Card","CC_LONGERBAL","Longer Balance Transfer Card","","","","cc1","xm","lan","","true","R_CC1_XM_LAN",{type:"tagName",site:_satellite.getVar("brandName")},"","",{},"","",{},"",{},"","","","gt,fbc"],["/credit-cards/out-of-hours.html","Personal","Credit Card","","","","","","cc1","cc1","ooo","","","R_Card_OOH_LAN_NEW",{type:"tagName",site:_satellite.getVar("brandName")},"","",{},"","",{},"",{},"","","","gt,fbc"],["/credit-cards/m/longer-balance-transfer-credit-card.html","Personal","Credit Card","CC_LONGERBAL","Longer Balance Transfer Credit Card","","","","cc1","xm","agg","","","",{},"","",{},"","",{},"",{},"","","","gt"],["/credit-cards/balance-transfer-credit-card/no-fee-balance-transfer.html|/credit-cards/balance-transfer-credit-card/balance-transfer.html|/credit-cards/balance-transfer.html","Personal","Credit Card","CC_BALTRANS","Balance Transfer Credit Card","","","","cc1","xa","lan","","","R_Card_BT_LAN",{type:"tagName",site:_satellite.getVar("brandName")},"","",{},"","",{},"",{},"","","","gt,fbc"],["/credit-cards/m/balance-transfer-credit-card.html","Personal","Credit Card","CC_BALTRANS","Balance Transfer Credit Card","","","","cc1","xa","agg","","","",{},"","",{},"","",{},"",{},"","","","gt"],["/credit-cards/balance-transfer-credit-card.html","Personal","Credit Card","CC_BALTRANS","Balance Transfer Credit Card","","","","","","","","","",{},"","",{},"","",{},"",{},"","","","none"],["STUDENT(-|_)CREDIT(-|_)CARD","Personal","Credit Card","CC_SCC","Student Credit Card","","","","cc1","yg","lan","","","R_MTA_Stdnt_LAN",{type:"tagName",site:_satellite.getVar("brandName")},"","",{},"","",{},"",{},"","","","gt,fbc"],["REWARD(-|_)BLACK(-|_)CREDIT(-|_)CARD","Personal","Credit Card","CC_REWBLK","Reward Black Credit Card","","","","cc1","xi","lan","","","",{},"","",{},"","",{},"",{},"","","","gt"],["/CREDIT-CARDS/EXISTING-CUSTOMERS/INSTALMENT-LENDING.HTML","Personal","Credit Card","CC_INSTALMNT","","","","","cc1","cc1","ile","","","R_Card_Installment_Lending_LAN",{type:"tagName",site:_satellite.getVar("brandName")},"","",{},"","",{},"",{},"","","","gt,fbc"],["CREDIT-CARDS/CREDIT-CARD-HELP-AND-GUIDES.HTML","Personal","Credit Card","CC_HELP","","","","","cc1","cc1","gui","","","",{},"","",{},"","",{},"",{},"","","","gt"],["/credit-cards/existing-customers.html","Personal","Credit Card","CC_MYCC","","","","","","","","","","",{},"","",{},"","",{},"",{},"","","","none"],["/credit-cards/purchase-and-balance-transfer.html","Personal","Credit Card","CC_PBT","Purchase & Balance Transfer Card","","","","cc1","pbt","lan","","","",{},"","",{},"","",{},"",{},"","","","gt"],["ADAPT(-|_)ACCOUNT","Personal","Current Account","MTA_CHILD","Natwest Adapt","","","","cac","v1","lan","","","",{},"","",{},"","",{},"",{},"","","","gt"],["REVOLVE(-|_)ACCOUNT","Personal","Current Account","MTA_CHILD","Revolve","","","","cac","v1","lan","","","",{},"","",{},"","",{},"",{},"","","","gt"],["/CURRENT-ACCOUNTS/FOUNDATION_ACCOUNT.HTML","Personal","Current Account","MTA_FOUND","Foundation Account","","","","cac","qf","lan","","","",{},"","",{},"","",{},"",{},"","","","gt"],["STUDENT(-|_)ACCOUNT","Personal","Current Account","MTA_STU","Student Account","","","","cac","17","lan","","true","R_MTA_Stdnt_LAN",{type:"tagName",site:_satellite.getVar("brandName")},"","VIEW_CONTENT",{item_category:"student"},"70b5810e-0f5f-435a-8e04-a0b1bd863b34","Site visit",{},"",{},"","","","gt,fbc,sc,tw"],["GRADUATE(-|_)ACCOUNT","Personal","Current Account","MTA_GRAD","Graduate Current Account","","","","cac","grd","lan","","","",{},"","",{},"","",{},"",{},"","","","gt"],["/CURRENT(-|_)ACCOUNTS/SELECT(-|_)ACCOUNT.HTML|/CURRENT-ACCOUNTS/CURRENT-BANK-ACCOUNTS/SELECT_ACCOUNT.HTML|/CURRENT-ACCOUNTS/ACCOUNTS/SELECT-ACCOUNT-SWITCHER-VERSION1.HTML","Personal","Current Account","MTA_SEL","Select Account","","","","cac","zj","lan","standard","true","R_MTA_Sel_LAN_NEW",{type:"tagName",site:_satellite.getVar("brandName")},"","VIEW_CONTENT",{},"bb1d20b2-314b-4a51-b3a4-36b0e2e65341","",{},"",{},"","jdaVCIH5x_kBEPjF4_wD","AW-1066984184","gt,fbc,sc"],["/CURRENT-ACCOUNTS/CURRENT-BANK-ACCOUNTS/SELECT_ACCOUNT1.HTML|/CURRENT-ACCOUNTS/ACCOUNTS/SELECT-ACCOUNT-SWITCHER-VERSION1.HTML","Personal","Current Account","MTA_SEL","Select Account","","","","cac","zj","swi","","","R_MTA_SEL_SWITCHER_LAN_NEW",{type:"tagName",site:_satellite.getVar("brandName")},"","",{},"","",{},"",{},"","","","gt,fbc"],["/CURRENT(-|_)ACCOUNTS/REWARD(-|_)ACCOUNT.HTML","Personal","Current Account","MTA_REW","Reward","","","","cac","qa","lan","standard","true","R_MTA_Rew_LAN_NEW",{type:"tagName",site:_satellite.getVar("brandName")
},"","VIEW_CONTENT",{},"bb1d20b2-314b-4a51-b3a4-36b0e2e65341","",{},"",{},"","WnxmCMPt3vkBEPjF4_wD","AW-1066984184","gt,fbc,sc"],["REWARD(-|_)SILVER(-|_)ACCOUNT","Personal","Current Account","MTA_REWSIL","Reward Silver","","","","cac","qc","lan","standard","","",{},"","VIEW_CONTENT",{},"bb1d20b2-314b-4a51-b3a4-36b0e2e65341","",{},"",{},"","","","gt,fbp,sc"],["REWARD(-|_)PLATINUM(-|_)ACCOUNT","Personal","Current Account","MTA_PLATREW","Reward Platinum","","","","cac","qd","lan","standard","","",{},"","VIEW_CONTENT",{},"bb1d20b2-314b-4a51-b3a4-36b0e2e65341","",{},"",{},"","","","gt,fbp,sc"],["/CURRENT-ACCOUNTS/SWITCH-YOUR-BANKING-TO-NATWEST.HTML","Personal","Current Account","MTA_SW","","","","","cac","cac","lan","","","",{},"","",{},"","",{},"",{},"","","","gt"],["/CURRENT-ACCOUNTS/SWITCH-YOUR-BANK-ACCOUNT-TO-RBS.HTML","Personal","Current Account","MTA_SW","","","","","cac","cac","lan","","","",{},"","VIEW_CONTENT",{},"bb1d20b2-314b-4a51-b3a4-36b0e2e65341","",{},"ViewCategory",{},"2614044632789","","","gt"],["/current-accounts/childrens-accounts.html","Personal","Current Account","MTA_YOUTH","Current Account Hub","","","","","","","","","",{},"","",{},"","",{},"",{},"","","",""],["/kids-prepaid-pocket-money-card.html","Personal","Current Account","MTA_YOUTH","Rooster Money","","","","","","","","","",{},"","",{},"","",{},"",{},"","","",""],["/CURRENT(-|_)ACCOUNTS/CURRENT(-|_)ACCOUNT.HTML|/CURRENT(-|_)ACCOUNTS.HTML|/CURRENT-ACCOUNTS/FEATURED-ACCOUNTS-.HTML|/CURRENT-ACCOUNTS/ACCOUNTS/PPC_CURRENT_ACCOUNTS.HTML","Personal","Current Account","MTA_GEN","Current Account Hub","","","","cac","cac","cat","","","",{},"","VIEW_CONTENT",{},"bb1d20b2-314b-4a51-b3a4-36b0e2e65341","",{},"ViewCategory",{},"2614044632789","","","gt,fbp"],["/CURRENT-ACCOUNTS/ID-VERIFICATION-THANK-YOU.HTML","Personal","Current Account","","","","","","","","","","","",{},"YPT44P","",{},"","",{},"",{},"","","","mz"],["/current-accounts/next_steps.html|/current-accounts/next_steps_SAO.html","Personal","Current Account","","","","","","","","","","","",{},"AGUGAB","",{},"","",{},"",{},"","","","mz"],["/current-accounts/existing-customers/new-mastercard.html","Personal","Current Account","","","","","","r_cua0","cac_cac","","","","",{},"","",{},"","",{},"",{},"","","","gt"],["/myrewards","Personal","Current Account","MOB_REWARD","","","","","cac","rew","lan","","","R_MTA_NETDonation_LAN",{type:"tagName",site:_satellite.getVar("brandName")},"","",{},"","",{},"",{},"","","","gt,fbc"],["/current-accounts/existing-customers1/upgrade-reward.html","Personal","Current Account","MTA_GEN ","","","","","r_cua00","cac_cac","","","","",{},"","",{},"","",{},"",{},"","","","gt"],["OVERDRAFTS.HTML","Personal","Overdraft","OVD_GEN","Overdraft Hub","","","","ovd","ovd","lan","","","",{},"","",{},"","",{},"",{},"","","","gt"],["NEW-OVERDRAFT.HTML","Personal","Overdraft","OVD_NEW","Overdraft","","","","ovd","ovd","lan","","","",{},"","",{},"","",{},"",{},"","","","gt"],["/current-accounts/overdrafts/change-your-overdraft.html","Personal","Overdraft","OVD_CHANGE","","","","","","","","","","",{},"","",{},"","",{},"",{},"","","","none"],["GRADUATE(-|_)OVERDRAFT","Personal","Overdraft","OVD_GRAD","Overdraft","","","","","","","","","",{},"","",{},"","",{},"",{},"","","","none"],["STUDENT(-|_)OVERDRAFT","Personal","Overdraft","OVD_STU","Overdraft","","","","","","","","","",{},"","",{},"","",{},"",{},"","","","none"],["/current-accounts/overdrafts/overdraft-calculator.html","Personal","Overdraft","OVD_CALC","Overdraft","","","","","","","","","",{},"","",{},"","",{},"",{},"","","","none"],["/current-accounts/overdrafts/overdraft-application-next-steps.html|/current-accounts/overdrafts/overdraft-application-next-steps-sao.html","Personal","Overdraft","","","","","","","","","","","",{},"AGUGAB","",{},"","",{},"",{},"","","","mz"],["/current-accounts/overdrafts","Personal","Overdraft","OVD_GEN","","","","","","","","","","",{},"","",{},"","",{},"",{},"","","",""],["/current-accounts/","Personal","Current Account","MTA_GEN","","","","","","","","","","",{},"","",{},"","",{},"",{},"","","",""],["/FINANCIAL-HEALTH-CHECK.HTML","Personal","Financial Health Check","FIN_HC","Financial Health Check","","","","lif","fhc","lan","standard","","R_FHC_LAN_NEW",{type:"tagName",site:_satellite.getVar("brandName")},"","VIEW_CONTENT",{},"8360fa97-0d86-436e-b4bd-a30e06fdf745","",{},"viewcategory",{},"2612520823049","","","gt,fbc,pi,sc"],["/financial-health-check/(existing|new)-customer.html","Personal","Financial Health Check","","Financial Health Check","","Digital Financial Health Check","event61","lif","fhc","sta","","","AddToCart",{content_name:"financial-health-check"},"","ADD_CART",{},"8360fa97-0d86-436e-b4bd-a30e06fdf745","",{},"AddToCart",{},"2612520823049","","","gt,fb,sc,pi"],["/financial-health-check/(existing|new)-customer/fhc-results.html","Personal","Financial Health Check","","Financial Health Check","","Digital Financial Health Check","event62","lif","fhc","com","","","CompleteRegistration",{content_name:"FHC"},"2ST9GT","CUSTOM_EVENT_1",{},"8360fa97-0d86-436e-b4bd-a30e06fdf745","",{},"Custom",{},"2612520823049","","","gt,fb,sc,pi,mz"],["BUILDINGS(-|_)INSURANCE","Personal","Insurance","INS_HOME","Buildings Insurance","","","","ins","bi","lan","standard","","",{},"","",{},"","",{},"",{},"","","","gt"],["STUDENT-AND-TENANTS-CONTENTS-INSURANCE","Personal","Insurance","INS_HOME","Student and Tenants Contents Insurance","","","","ins","sin","lan","","","",{},"","",{},"","",{},"",{},"","","","gt"],["INSURANCE/HOME-INSURANCE.HTML","Personal","Insurance","INS_HOME","Home Insurance","","","","ins","hom","lan","","","",{},"","",{},"","",{},"",{},"","","","gt"],["BUILDINGS-AND-CONTENTS-INSURANCE","Personal","Insurance","INS_HOME","Buildings and Contents Insurance","","","","ins","bci","lan","standard","","",{},"","",{},"","",{},"",{},"","","","gt"],["CONTENTS(-|_)INSURANCE","Personal","Insurance","INS_HOME","Contents Insurance","","","","ins","ci","lan","standard","","",{},"","",{},"","",{},"",{},"","","","gt"],["INSURANCE-AND-PROTECTION/CAR-INSURANCE.HTML","Personal","Insurance","INS_CAR","Car Insurance","","","","ins","car","lan","","","",{},"","",{},"","",{},"",{},"","","","gt"],["INCOME-PROTECTION-INSURANCE/","Personal","Insurance","INS_LIFE","Income Protection Insurance","","","","ins","inc","lan","","","",{},"","",{},"","",{},"",{},"","","","gt"],["INSURANCE/LIFE-INSURANCE.HTML","Personal","Insurance","INS_LIFE","Life Insurance","","","","ins","lif","lan","","","PageView",{},"","",{},"","",{},"",{},"","","","gt"],["OVER-50S-LIFE-ASSURANCE","Personal","Insurance","INS_LIFE","Over 50s Life Assurance","","","","ins","ov5","lan","","","",{},"","",{},"","",{},"",{},"","","","gt"],["INSURANCE/PET-INSURANCE.HTML","Personal","Insurance","INS_PET","Pet Insurance","","","","ins","pet","lan","","","",{},"","",{},"","",{},"",{},"","","","gt"],["RENTERS-CONTENTSINSURANCE|RENTERS_CONTENTS_INSURANCE","Personal","Insurance","INS_RENT","Renters Insurance","","","","ins","rin","lan","standard","","",{},"","",{},"","",{},"",{},"","","","gt"],["/INSURANCE.HTML","Personal","Insurance","INS_GEN","Home Insurance","","","","","","","","","",{},"","",{},"","",{},"",{},"","","","none"],["LIFE-MOMENTS/BUYING-A-CAR","Personal","Life Moments","LM_BUYCAR","","","","","","","","","","",{},"","",{},"","",{},"",{},"","","","none"],["LIFE-MOMENTS/HOME-IMPROVEMENTS","Personal","Life Moments","LM_HOMEIMP","","","","","","","","","","",{},"","",{},"","",{},"",{},"","","","none"],["LIFE-MOMENTS/MANAGING-YOUR-MONEY","Personal","Life Moments","LM_MYM","","","","","","","","","","",{},"","",{},"","",{},"",{},"","","","none"],["LIFE-MOMENTS/TRAVEL","Personal","Life Moments","LM_TRAV","","","","","","","","","","",{},"","",{},"","",{},"",{},"","","","none"],["/life-moments/buying-a-home.html","Personal","Life Moments","","","","","","","","","","","",{},"","VIEW_CONTENT",{},"74b70822-00a1-464d-b79d-140dfaa8fb65","",{},"",{},"","","",""],["PERSONAL-LOANS.HTML","Personal","Loan","LOAN_PERS","Personal Loan","","","","pln","l1","lan","","true","ViewContent",{content_name:"Loans"},"","VIEW_CONTENT",{},"83489a8b-e066-4545-9c1a-ae3aeaaa5b55","",{},"viewcategory",{product_name:"loans"},"2613845698543","Z0pYCJe80PkBEI-6x_wD","AW-1066523919","gt,fbc,pi"],["GUIDE(-|_)TO(-|_)LOANS.HTML","Personal","Loan","LOAN_PERS","Personal Loan","","","","","","","","","",{},"","",{},"","",{},"",{},"","","","none"],["/LOANS/BORROWING-MORE.HTML","Personal","Loan","LOAN_PERS","Personal Loan","","","","pln","l1","cat","","true","",{},"","",{},"","",{},"",{},"","","","gt"],["LOANS-CALCULATOR.HTML","Personal","Loan","LOAN_PERS","Personal Loan","","","","pln","l1","cst","standard","","",{},"","VIEW_CONTENT",{},"83489a8b-e066-4545-9c1a-ae3aeaaa5b55","",{},"",{},"","","","gt"],["/LOANS/LANDING-PAGES-LOAN.HTML","Personal","Loan","LOAN_PERS","Personal Loan","","","","pln","l1","lanl","standard","","ViewContent",{content_name:"Loans"},"","",{},"","",{},"viewcategory",{product_name:"loans"},"2613845698543","","","gt,fbc,pi"],["/LOANS/LANDING-PAGES-LOAN-CALCULATOR.HTML","Personal","Loan","LOAN_PERS","Personal Loan","","","","pln","l1","cstl","","","ViewContent",{content_name:"Loans"},"","",{},"","",{},"viewcategory",{product_name:"loans"},"2613845698543","","","gt,fbc,pi"],["/LOANS/QUICKQUOTE.HTML","Personal","Loan","LOAN_PERS","Personal Loan","","","","","","","","","",{},"","",{},"","",{},"",{},"","","","none"],["/LOANS/SHARED-(COMPONENTS|CONTENT-AREA)/APPLY-NOW-IMPORTANT-INFORMATION","Personal","Loan","LOAN_PERS","Personal Loan","","","","pln","l1","pre","","","",{},"","",{},"","",{},"",{},"","","","gt,fbc"],["/loans/sao-out-of-hours.html|/loans/out-of-hours-app.html","Personal","Loan","LOAN_PERS","","","","","","","","","","",{},"","",{},"","",{},"",{},"","","",""],["/loans/QuickQuote.html","Personal","Loan","LOAN_PERS","Personal Loan","","","","","","","","","",{},"","VIEW_CONTENT",{},"83489a8b-e066-4545-9c1a-ae3aeaaa5b55","",{},"",{},"","","",""],["LARGE-LOANS","Personal","Loan","LOAN_LARGE","Large Personal Loans","","","","","","","","","",{},"","",{},"","",{},"",{},"","","","none"],["/LOANS/CAR-LOANS.HTML","Personal","Loan","LOAN_CAR","Personal Loan","","","","pln","l1c","lan","","","ViewContent",{content_name:"Car"},"","VIEW_CONTENT",{},"83489a8b-e066-4545-9c1a-ae3aeaaa5b55","",{},"viewcategory",{product_name:"loans"},"2613845698543","","","gt,fbc,pi"],["/LOANS/DEBT-CONSOLIDATION(.*).HTML","Personal","Loan","LOAN_DEBTCONS","Personal Loan","","","","pln","l1","dcc","","","ViewContent",{content_name:"Debt Consolidation"},"","VIEW_CONTENT",{},"83489a8b-e066-4545-9c1a-ae3aeaaa5b55","",{},"viewcategory",{product_name:"loans"},"2613845698543","","","gt,fbc,pi"],["/LOANS/HOME-IMPROVEMENT-LOANS.HTML","Personal","Loan","LOAN_HOMEIMP","Personal Loan","","","","pln","l1","hic","","","ViewContent",{content_name:"Home Improvement"},"","VIEW_CONTENT",{},"83489a8b-e066-4545-9c1a-ae3aeaaa5b55","",{},"viewcategory",{product_name:"loans"},"2613845698543","","","gt,fbc,pi"],["/loans/holiday-loans-loans-for-a-holiday.html","Personal","Loan","LOAN_HOL","Personal Loan","","","","pln","l1","hoc","","","ViewContent",{content_name:"Holiday"},"","VIEW_CONTENT",{},"83489a8b-e066-4545-9c1a-ae3aeaaa5b55","",{},"viewcategory",{product_name:"loans"},"2613845698543","","","gt,fbc,pi"],["/LOANS/WEDDING-LOANS.HTML","Personal","Loan","LOAN_GM","Personal Loan","","","","pln","l1","wec","","","ViewContent",{content_name:"Wedding"},"","VIEW_CONTENT",{},"83489a8b-e066-4545-9c1a-ae3aeaaa5b55","",{},"viewcategory",{product_name:"loans"},"2613845698543","","","gt,fbc,pi"],["/loans/home-improvement-loans/go-green-offer.html","Personal","Loan","","Personal Loan","","","","","","","","","",{},"","",{},"","",{},"",{},"","","","none"],["/MORTGAGES(-NEW)?(-ALT)?.HTML","Personal","Mortgage","MOR_GEN","Mortgages Hub","","","","mor","mor","cat","","","ViewContent",{content_name:"mort catgegory page"},"","VIEW_CONTENT",{},"74b70822-00a1-464d-b79d-140dfaa8fb65","",{},"",{},"","","","gt,fbc"],["/MORTGAGES(-NEW)?/BUY-TO-LET.HTML","Personal","Mortgage","MOR_BTL","Mortgages","","","","mor","btl","lan","standard","true","ViewContent",{content_name:"buy to let"},"","VIEW_CONTENT",{},"74b70822-00a1-464d-b79d-140dfaa8fb65","",{},"",{},"","","","gt"],["/mortgages/mortgage-calculator.html|/mortgages/mortgage-calculators/(how-much-can-i-borrow|mortgage-rate-finder-mortgage-calculator|remortgage-calculator-remortgage-rates).html","Personal","Mortgage","MOR_CALC","Mortgages","Retail: Mortgage Calculator Tool","","","mor","cal","lan","","","ViewContent",{content_name:"mort calculator"},"","VIEW_CONTENT",{},"74b70822-00a1-464d-b79d-140dfaa8fb65","",{},"",{},"","","","gt"],["/MORTGAGES(-NEW)?/FIRST-TIME-BUYERS.HTML","Personal","Mortgage","MOR_FTB","Mortgages","","","","mor","ftb","lan","standard","","ViewContent",{content_name:"first time buyer"},"","VIEW_CONTENT",{},"74b70822-00a1-464d-b79d-140dfaa8fb65","",{},"",{},"","","","gt"],["/MORTGAGES(-NEW)?/MOVING-HOME.HTML","Personal","Mortgage","MOR_MH","Mortgages","","","","mor","mov","lan","standard","","ViewContent",{content_name:"moving home"},"","VIEW_CONTENT",{},"74b70822-00a1-464d-b79d-140dfaa8fb65","",{},"",{},"","","","gt"],["/MORTGAGES(-NEW)?/REMORTGAGE-TO-(RBS|NATWEST).HTML","Personal","Mortgage","MOR_RM","Mortgages","","","","mor","rem","lan","standard","","ViewContent",{content_name:"remortgage"},"","VIEW_CONTENT",{},"","",{},"",{},"","","","gt"],["/MORTGAGES(-NEW)?/MANAGE-YOUR-MORTGAGE.HTML|/MORTGAGES/EXISTING-CUSTOMERS.HTML","Personal","Mortgage","MOR_SW","","","","","mor","swt","lan","standard","","ViewContent",{content_name:"existing customer"},"","",{},"","",{},"",{},"","","","gt"],["/MORTGAGES(-NEW)?/APPLYING-FOR-A-MORTGAGE","Personal","Mortgage","MOR_GEN","Mortgages","","","","mor","hta","lan","","","ViewContent",{content_name:"Applying for RBS mort"},"","VIEW_CONTENT",{},"74b70822-00a1-464d-b79d-140dfaa8fb65","",{},"",{},"","","","gt"],["/MORTGAGES-NEW/APPLYING-FOR-A-MORTGAGE/PRE-APPLY-INFORMATION.HTML","Personal","Mortgage","MOR_GEN","Mortgages","Retail: Mortgage Intention To Lend Tool","Agreement-In-Principle","","mor","aip","lan","","","AIPPreApplication",{type:"aip_pre_apply",site:_satellite.getVar("brandName")},"","",{},"","",{},"",{},"","","","gt,fbc"],["/MORTGAGES/M/Z/NEW-HOME.HTML","Personal","Mortgage","MOR_GEN","Mortgages","","","","mor","new","zop","","","",{},"","",{},"","",{},"",{},"","","","gt"],["/MORTGAGES/M/Z/TO-RENT.HTML","Personal","Mortgage","MOR_GEN","Mortgages","","","","mor","ren","zop","","","",{},"","",{},"","",{},"",{},"","","","gt"],["/MORTGAGES/M/Z/PROPERTY-DETAILS.HTML","Personal","Mortgage","MOR_GEN","Mortgages","","","","mor","pop","zop","","","",{},"","",{},"","",{},"",{},"","","","gt"],["/MORTGAGES/M/Z/FOR-SALE.HTML","Personal","Mortgage","MOR_GEN","Mortgages","","","","mor","sal","zop","","","",{},"","",{},"","",{},"",{},"","","","gt"],["/MORTGAGES/MORTGAGE-AGREEMENT-IN-PRINCIPLE.HTML","Personal","Mortgage","","Mortgages","","","","","","","","","",{},"","",{},"74b70822-00a1-464d-b79d-140dfaa8fb65","",{},"",{},"2613971770946","","AW-1066647322","gt,fbc,mz"],["/MORTGAGES/OFFERS-AND-SCHEMES/95-PERCENT-MORTGAGES.HTML|/MORTGAGES/95-PERCENT-MORTGAGES.HTML","Personal","Mortgage","MOR_GEN","Mortgages","","","","mor","95p","lan","","","ViewContent",{content_name:"95% mort"},"","",{},"","",{},"",{},"","","","gt"],["/MORTGAGES/MORTGAGE-TYPES-AND-RATES.HTML","Personal","Mortgage","MOR_GEN","Mortgages","","","","mor","rat","lan","","","ViewContent",{content_name:"mort rates and types"},"","VIEW_CONTENT",{},"74b70822-00a1-464d-b79d-140dfaa8fb65","",{},"",{},"","","","gt"],["/MORTGAGES/PAPERLESS-MORTGAGES.HTML","Personal","Mortgage","MOR_GEN","Mortgages","","","","mor","pap","lan","","","ViewContent",{content_name:"paperless mort"},"","",{},"","",{},"",{},"","","","gt"],["/MORTGAGES/OFFERS-AND-SCHEMES/CASHBACK-MORTGAGES.HTML|/MORTGAGES/CASHBACK.HTML","Personal","Mortgage","MOR_GEN","Mortgages","","","","mor","cas","lan","","","ViewContent",{content_name:"cashback mort"},"","",{},"","",{},"",{},"","","","gt"],["/MORTGAGES/M/A/RBS-BTL-MORTGAGES.HTML","Personal","Mortgage","MOR_GEN","Mortgages","","","","mor","btl","lan","","","ViewContent",{content_name:"buy to let 2"},"","",{},"","",{},"",{},"","","","gt"],["/MORTGAGES/MORTGAGE-TYPES-AND-RATES/OFFSET-FLEXIBLE-MORTGAGE.HTML","Personal","Mortgage","MOR_GEN","Mortgages","","","","mor","off","lan","","","ViewContent",{content_name:"offset flex mort"},"","",{},"","",{},"",{},"","","","gt"],["/MORTGAGES/OFFERS-AND-SCHEMES.HTML","Personal","Mortgage","MOR_GEN","Mortgages","","","","mor","osc","lan","","","ViewContent",{content_name:"mort offers and schemes"},"","",{},"","",{},"",{},"","","","gt"],["/MORTGAGES/SWITCH-MORTGAGE-DEAL","Personal","Mortgage","MOR_SW","Mortgage Switch","","","","","","","","","",{},"","VIEW_CONTENT",{},"74b70822-00a1-464d-b79d-140dfaa8fb65","",{},"",{},"","","","none"],["/mortgages/mortgage-calculators/equity-calculator.html","Personal","Mortgage","","Mortgages","Mortgage Equity Calculator","","","","","","","","",{},"","",{},"","",{},"",{},"","","","none"],["/mortgages/mortgage-types-and-rates/green-mortgages.html","Personal","Mortgage","MOR_GEN","Mortgages","","","","mor","gre","lan","","","",{},"","VIEW_CONTENT",{},"74b70822-00a1-464d-b79d-140dfaa8fb65","",{},"",{},"","","","gt"],["^/$|PERSONAL.HTML|/HOME.HTML","Personal","Non Product","","","","","","bra","hom","lan","","","R_HomePage_LAN",{param_name:"tagName",site:_satellite.getVar("brandName")},"8H3BNY","",{},"","",{},"",{},"","","","gt,mz,fbc"],["/LOGOUT.HTML","Personal","Non Product","","","","","","bra","lon","lan","","","",{},"","",{},"","",{},"",{},"","","","gt"],["CASH(-|_)ISA.HTML|_INSTANT_ACCESS_ISA.HTML","Personal","Savings","SAV_CISA","Cash ISA","","","","dep","70","lan","","","",{},"","",{},"","",{},"",{},"","","","gt"],["/SAVINGS/ISA-OVERVIEW/CASH-ISA/NEXT-STEPS.HTML","Personal","Savings","SAV_CISA","","","","","","","","","","",{},"","",{},"","",{},"",{},"","","","mz"],["FIXED(-|_)ISA.HTML|FIXED(-|_)RATE(-|_)ISA.HTML","Personal","Savings","SAV_FRISA","Fixed Rate ISA","","","","dep","s6","lan","standard","","",{},"","",{},"","",{},"",{},"","","","gt"],["/SAVINGS/ISA-OVERVIEW/FIXED-ISA/NEXT-STEPS.HTML","Personal","Savings","SAV_FRISA","","","","","","","","","","",{},"AGUGAB","",{},"","",{},"",{},"","","","mz"],["FIRST(-|_)SAVER.HTML","Personal","Savings","SAV_FS","First Saver","","","","dep","36","lan","","","",{},"","",{},"","",{},"",{},"","","","gt"],["/SAVINGS/FIRST-SAVER/NEXT(-|_)STEPS.HTML","Personal","Savings","SAV_FS","","","","","","","","","","",{},"AGUGAB","",{},"","",{},"",{},"","","","mz"],["INSTANT-ACCESS-ACCOUNTS/LOYALTY-SAVER.HTML","Personal","Savings","SAV_LS","Loyalty Saver","","","","","","","","","",{},"","",{},"","",{},"",{},"","","","none"],["INSTANT(-|_)SAVER.HTML","Personal","Savings","SAV_IS","Instant Saver","","","","dep","z2","lan","standard","","",{},"","",{},"","",{},"",{},"","","","gt"],["/SAVINGS/INSTANT-SAVER/NEXT-STEPS.HTML","Personal","Savings","SAV_IS","","","","","","","","","","",{},"","",{},"","",{},"",{},"","","","mz"],["ISA(-|_)OVERVIEW.HTML","Personal","Savings","","","","","","dep","isa","cat","","","",{},"","",{},"","",{},"",{},"","","","gt"],["/SAVINGS/PREMIUM-SAVER/NEXT-STEPS.HTML","Personal","Savings","SAV_PS","","","","","","","","","","",{},"","",{},"","",{},"",{},"","","","mz"],["SAVINGS(_|-)BUILDER(1)?.HTML","Personal","Savings","SAV_SB","Savings Builder","","","","dep","q4","lan","standard","","",{},"","",{},"","",{},"",{},"","","","gt"],["/SAVINGS/SAVINGS-BUILDER/NEXT-STEPS.HTML","Personal","Savings","SAV_SB","","","","","","","","","","",{},"AGUGAB","",{},"","",{},"",{},"","","","mz"],["/SAVINGS/ISA-OVERVIEW/INSTANT-ACCESS-ISA/NEXT-STEPS.HTML","Personal","Savings","","","","","","","","","","","",{},"","",{},"","",{},"",{},"","","","mz"],["/SAVINGS/NEXT-STEPS-SAO.HTML","Personal","Savings","","","","","","","","","","","",{},"","",{},"","",{},"",{},"","","","mz"],["/savings/digital-regular-saver.html","Personal","Savings","SAV_DRS","Digital Regular Saver","","","","dep","xj","lan","","","ViewContent",{content_name:"digital regular saver"},"","",{},"","",{},"viewcategory",{product_name:"digital regular saver"},"2613315041193","","","gt,fbc,pi"],["/savings/premium-saver.html","Personal","Savings","SAV_PS","Premium Saver","","","","dep","q5","lan","","","",{},"","",{},"","",{},"",{},"","","","gt"],["/support-centre/how-to-complain/complaint-form.html","Personal","Support Centre","","","","Customer Complaints - New Complaint","","","","","","","",{},"","",{},"","",{},"",{},"","","","none"],["/WAYS-TO-BANK/MOBILE-APP/ACCOUNT-AGGREGATION.HTML","Personal","Ways to Bank","WTB_ACCONE","","","","","","","","","","",{},"","",{},"","",{},"",{},"","","","none"],["HELP-AND-SUPPORT/HELP-WITH-MOBILE-APP.HTML","Personal","Ways to Bank","WTB_MOBHELP","","","","","","","","","","",{},"","",{},"","",{},"",{},"","","","none"],["/WAYS-TO-BANK/MOBILE-APP/SPENDING.HTML","Personal","Ways to Bank","WTB_SPEND","","","","","wtb","spe","lan","","","R_MobileApp_Spending_Lan",{param_name:"tagName",site:_satellite.getVar("brandName")},"","",{},"","",{},"",{},"","","","gt, fbc"],["/banking-with-royal-bank-of-scotland.html","Personal","Ways to Bank","","","","","","wtb","wtb","lan","","","R_MOB_BANKING_LAN",{type:"tagName",site:_satellite.getVar("brandName")},"","",{},"","",{},"",{},"","","","gt,fbc"],["/banking-with-royal-bank-of-scotland/royal-bank-app.html","Personal","Ways to Bank","WTB_MOBP","","","","","wtb","mob","lan","","","R_MOB_WTB_MOBAPP_LAN",{type:"tagName",site:_satellite.getVar("brandName")},"","",{},"","",{},"",{},"","","","gt,fbc"],["/banking-with-royal-bank-of-scotland/royal-bank-app/features/my-loyalty-cards.html","Personal","Ways to Bank","WTB_LOYCRD","","","","","","","","","","",{},"","",{},"","",{},"",{},"","","","none"],["/banking-with-royal-bank-of-scotland/royal-bank-app/features.html","Personal","Ways to Bank","WTB_APPFEAT","","","","","","","","","","",{},"","",{},"","",{},"",{},"","","","none"],["/banking-with-royal-bank-of-scotland/royal-bank-app/features/know-my-credit-score.html","Personal","Ways to Bank","WTB_KMCS","","","","","","","","","","",{},"","",{},"","",{},"",{},"","","","none"],["/banking-with-royal-bank-of-scotland/how-to/report-lost-and-stolen-cards.html","Personal","Ways to Bank","WTB_CARDLOST","","","","","","","","","","",{},"","",{},"","",{},"",{},"","","","none"],["/banking-with-royal-bank-of-scotland/how-to/get-cash-using-the-app.html","Personal","Ways to Bank","WTB_GETCASH","","","","","","","","","","",{},"","",{},"","",{},"",{},"","","","none"],["/banking-with-royal-bank-of-scotland/how-to/going-paperless.html","Personal","Ways to Bank","WTB_GOPAPERLESS","","","","","","","","","","",{},"","",{},"","",{},"",{},"","","","none"],["/how-to/pay-in-cheques.html","Personal","Ways to Bank","WTB_CHEQUE","","","","","","","","","","",{},"","",{},"","",{},"",{},"","","","none"],["/ways-to-bank/getting-emergency-cash.html","Personal","Ways to Bank","","","","","","wtb","emc","con","","","",{},"","",{},"","",{},"",{},"","","","gt"],["/banking-with-royal-bank-of-scotland/register-for-digital-banking.html","Personal","Ways to Bank","","","","","","wtb","olb","lan","","","AddToCart",{content_name:"digital-banking"},"","",{},"","",{},"",{},"","","","gt,fbc"],["/banking-with-royal-bank-of-scotland/other-ways-to-bank-with-royal-bank/royal-bank-video-banking-service.html","Personal","Ways to Bank","","","","","","wtb","vid","con","","","",{},"","",{},"8360fa97-0d86-436e-b4bd-a30e06fdf745","",{},"viewcategory",{},"2612520823049","","","gt,fbc,sc,pi"],["/WAYS-TO-BANK(-R)?/TELEPHONE(-|_)BANKING.HTML|/banking-with-royal-bank-of-scotland/other-ways-to-bank-with-royal-bank/royal-bank-telephone-banking.html","Personal","Ways to Bank","","","","","","wtb","tel","con","","","R_MOB_WTB_TELBANKING_LAN",{type:"tagName",site:_satellite.getVar("brandName")},"","",{},"","",{},"",{},"","","","gt,fbc"],["/EASIER-BANKING.HTML","Personal","Ways to Bank","","","","","","wtb","eas","lan","","","R_EASIER_BANKING_LAN",{type:"tagName",site:_satellite.getVar("brandName")},"","",{},"","",{},"",{},"","","","gt,fbc,twp,scp"],["/banking-with-royal-bank-of-scotland/supporting-critical-workers.html","Personal","Ways to Bank","","","","","","bw","scw","lan","","","R_MTA_NHS_LAN",{type:"tagName",site:_satellite.getVar("brandName")},"","",{},"","",{},"",{},"","","","gt,fpc"],["/banking-with-royal-bank-of-scotland/banking-for-everyone.html","Personal","Ways to Bank","","","","","","bw","bfe","lan","","","R_MTA_Covid_HelpPage_LAN",{type:"tagName",site:_satellite.getVar("brandName")},"","",{},"","",{},"",{},"","","","gt,fbc"],["(SECURITY-CENTRE.HTML)|(MOBILE-APP/SECURITY.HTML)","Personal","Ways to Bank","","","","","","wtb","sec","con","","","",{},"","",{},"","",{},"",{},"","","","gt"],["WAYS-TO-BANK(-R)?/TABLET-BANKING|/WAYS-TO-BANK(-R)?/TABLET-APP.HTML","Personal","Ways to Bank","","","","","","","","","","","",{},"","",{},"","",{},"",{},"","","","none"],["/WAYS-TO-BANK(-R)?/BRANCH-BANKING.HTML","Personal","Ways to Bank","","","","","","wtb","brn","con","","","",{},"","",{},"","",{},"",{},"","","","gt"],["/WAYS-TO-BANK(-R)?/COMMUNITY-BANKER.HTML","Personal","Ways to Bank","","","","","","wtb","com","con","","","",{},"","",{},"","",{},"",{},"","","","gt"],["/WAYS-TO-BANK(-R)?/MOBILE-APP/TECHXPERTS.HTML","Personal","Ways to Bank","","","","","","wtb","txp","con","","","",{},"","",{},"","",{},"",{},"","","","gt"],["/WAYS-TO-BANK(-R)?/MOBILE-APP/GETCASH.HTML","Personal","Ways to Bank","","","","","","wtb","gtc","con","","","",{},"","",{},"","",{},"",{},"","","","gt"],["/WAYSTOPAY.HTML","Personal","Ways to Pay","","","","","","wtp","wtp","lan","","","ViewContent",{content_name:" Ways to Pay"},"","",{},"","",{},"",{},"","","","gt,fbc"],["/((CURRENT(-|_)ACCOUNTS|MORTGAGES/SECURE|(-|_)COMPARE(-|_)SAVINGS(-|_)ACCOUNTS/.*|(-|_)SAVINGS(-|_)BUILDER|(-|_)PREMIUM(-|_)SAVER)(/OVERDRAFTS?)?/(OVERDRAFT-)?(APPLICATION-)?(NEXT(-|_)STEPS(-SAO)?)|SAVINGS(.*)CONFIRMATION)\\.HTML","Personal","","","","","","","","","","","","",{},"AGUGAB","",{},"","",{},"",{},"","","","mz"],["/mortgages/manage-your-mortgage/redemption-request-form.html","Personal","","","","","Mortgage Redemption Request Form","","","","","","","",{},"","",{},"","",{},"",{},"","","","none"],["/support-centre/feedback-form.html","Personal","","","","","Feedback Form","","","","","","","",{},"","",{},"","",{},"",{},"","","","none"],["/support-centre/how-to-complain/complaint-update-form.html","Personal","","","","","Customer Complaints - Update Request","","","","","","","",{},"","",{},"","",{},"",{},"","","","none"],["/support-centre/existing-complaint-form.html","Personal","","","","","Customer Complaints - Existing Complaint","","","","","","","",{},"","",{},"","",{},"",{},"","","","none"],["/support-centre/contact-us-form.html","Personal","","","","","Contact Us Form","","","","","","","",{},"","",{},"","",{},"",{},"","","","none"],["/CREDIT(-|_)CARDS.HTML","Personal","Credit Card","CC_GEN","Credit Cards Hub","","","","cc1","cc1","cat","","","",{},"","",{},"","",{},"",{},"","","","gt"],["/credit-cards/","Personal","Credit Card","CC_GEN","","","","","","","","","","",{},"","",{},"","",{},"",{},"","","",""],["/insurance","Personal","Insurance","INS_GEN","","","","","","","","","","",{},"","",{},"","",{},"",{},"","","",""],["/life-moments/Struggling-financially/cost-of-living.html","Personal","Life Moments","LM_COL","","","","","","","","","","",{},"","",{},"","",{},"",{},"","","",""],["/life-moments","Personal","Life Moments","LM_GEN","","","","","","","","","","",{},"","",{},"","",{},"",{},"","","",""],["/mortgages","Personal","Mortgage","MOR_GEN","","","","","","","","","","",{},"","",{},"","",{},"",{},"","","",""],["SAVINGS.HTML","Personal","Savings","SAV_GEN","Savings Hub","","","","dep","dep","cat","","","",{},"","",{},"","",{},"",{},"","","","gt"],["/savings/fixed-term-savings-account.html","Personal","Savings","SAV_FTSA","Fixed Term Savings Account","","","","","","","","","",{},"","",{},"","",{},"",{},"","","",""],["/savings/flexible-saver.html","Personal","Savings","SAV_FLEX","Flexible Saver","","","","","","","","","",{},"","",{},"","",{},"",{},"","","",""],["/savings","Personal","Savings","SAV_GEN","","","","","","","","","","",{},"","",{},"","",{},"",{},"","","",""],["/LOANS.HTML|/LOANS1.HTML","Personal","Loan","LOAN_PERS","Personal Loan Hub","","","","pln","l1","lan","","true","ViewContent",{content_name:"Loans"},"","VIEW_CONTENT",{},"83489a8b-e066-4545-9c1a-ae3aeaaa5b55","",{},"viewcategory",{product_name:"loans"},"2613845698543","Z0pYCJe80PkBEI-6x_wD","AW-1066523919","gt,fbc,pi"],["/loans","Personal","Loan","LOAN_GEN","","","","","","","","","","",{},"","",{},"","",{},"",{},"","","",""],["/gdpr-triage-page/gdpr-e-form-page.html","","","","","","GDPR Form","event61","","","","","","",{},"","",{},"","",{},"",{},"","","",""],["/gdpr-triage-page/gdpr-results-page.html","","","","","","GDPR Form","event62","","","","","","",{},"","",{},"","",{},"",{},"","","",""],["/ukraine-refugees.html","Personal","Current Account","MTA_UKR","","","","","","","","","","",{},"","",{},"","",{},"",{},"","","",""],["/borrowing-needs.html","Personal","","LOAN_NEEDS","","","","","","","","","","",{},"","",{},"","",{},"",{},"","","",""],["/banking-with-royal-bank-of-scotland/our-purpose/climate/travel/home-charging.html","","","LM_OCTO","","","","","","","","","","",{},"","",{},"","",{},"",{},"","","",""],["/savings/limited-edition-saver.html","Personal","Savings","SAV_LES","Limited Edition Saver","","","","dep","q6","","","","",{},"","",{},"","",{},"",{},"","","",""]]):"Ulster NI"===_satellite.getVar("brandName")?(_satellite.logger.log("UBN Retail Matched",e),
t=[["/current-accounts/overdrafts/overdraft-calculator.html","Personal","Overdraft","OVD_CALC","Overdraft","","","","","","","","","",{},"","",{},"","",{},"",{},"","","","none"],["/help-and-support/how-to-make-a-complaint/complaint-form.html","","","","","","Customer Complaints - New Complaint","","","","","","","",{},"","",{},"","",{},"",{},"","","",""],["/business/help-and-support/change-order/cash-coin-order-form.html","","","","","","Cash Coin Order Form","","","","","","","",{},"","",{},"","",{},"",{},"","","",""],["/credit-cards/purchase-and-balance-transfer.html","Personal","Credit Card","CC_PBT","Purchase & Balance Transfer Card","","","","","","","","","",{},"","",{},"","",{},"",{},"","","",""],["/credit-cards/balance-transfer.html","Personal","Credit Card","CC_BALTRANS","Balance Transfer Credit Card","","","","","","","","","",{},"","",{},"","",{},"",{},"","","",""],["/credit-cards/longer-balance-transfer.html","Personal","Credit Card","CC_LONGERBAL","Longer Balance Transfer Card","","","","","","","","","",{},"","",{},"","",{},"",{},"","","",""],["/CREDIT-CARDS.HTML","Personal","Credit Card","CC_GEN","Credit Cards Hub","","","","cc1","cc1","cat","","","",{},"","",{},"","",{},"",{},"","","","gt"],["/CREDIT-CARDS/THE-ULSTER-BANK-CREDIT-CARD.HTML","Personal","Credit Card","CC_BRAND","The Brand Credit Card","","","","cc1","xl","lan","","","",{},"","",{},"","",{},"",{},"","","","gt"],["/CREDIT-CARDS/STUDENT-CREDIT-CARD.HTML","Personal","Credit Card","CC_SCC","Student Credit Card","","","","cc1","yg","lan","","","",{},"","",{},"","",{},"",{},"","","","gt"],["/CREDIT-CARDS/THE-ULSTER-BANK-CREDIT-CARD/APPLY-NOW.HTML","Personal","Credit Card","CC_BRAND","The Brand Credit Card","","","","cc1","xl","pre","","","",{},"","",{},"","",{},"",{},"","","","gt"],["/credit-cards/balance-transfer-credit-card.html","Personal","Credit Card","CC_BALTRANS","Balance Transfer Credit Card","","","","","","","","","",{},"","",{},"","",{},"",{},"","","","none"],["/CURRENT-ACCOUNTS/GRADUATE-ACCOUNT.HTML","Personal","Current Account","MTA_GRAD","Graduate Current Account","","","","","","","","","",{},"","",{},"","",{},"",{},"","","",""],["/CURRENT-ACCOUNTS/CURRENT-ACCOUNT/NEXT-STEPS.HTML","Personal","Current Account","MTA_GEN","Current Account Hub","","","","","","","","","",{},"AGUGAB","",{},"","",{},"",{},"","","","mz"],["/CURRENT-ACCOUNTS/CURRENT-ACCOUNT.HTML","Personal","Current Account","MTA_SEL","Select Account","","","","cac","q1","lan","","","",{},"","",{},"","",{},"",{},"","","","gt"],["/CURRENT-ACCOUNTS/STUDENT-ACCOUNT.HTML","Personal","Current Account","MTA_STU","Student Account","","","","","","","","","",{},"","",{},"","",{},"",{},"","","",""],["/CURRENT-ACCOUNTS/CURRENT-ACCOUNT/APPLY-NOW.HTML","Personal","Current Account","MTA_CURR","Current Account","","","","cac","q1","pre","","","",{},"","",{},"","",{},"",{},"","","","gt"],["/CURRENT-ACCOUNTS/STUDENT-ACCOUNT/APPLY-NOW.HTML","Personal","Current Account","MTA_STU","Student Account","","","","","","","","","",{},"","",{},"","",{},"",{},"","","",""],["/CURRENT-ACCOUNTS/SWITCH-TO-ULSTER-BANK.HTML","Personal","Current Account","MTA_GEN","Current Account Hub","","","","","","","","","",{},"","",{},"","",{},"",{},"","","",""],["/CURRENT-ACCOUNTS/UFIRSTGOLD-ACCOUNT.HTML","Personal","Current Account","MTA_UFIRST","ufirstgold Current Account","","","","cac","07","lan","","","",{},"","",{},"","",{},"",{},"","","","gt"],["/current-accounts/manage-your-current-account/new-mastercard.html","Personal","Current Account","","","","","","u_cua0","cac_cac","","","","",{},"","",{},"","",{},"",{},"","","","gt"],["/current-accounts/childrens-accounts.html","Personal","Current Account","MTA_YOUTH","Current Account Hub","","","","","","","","","",{},"","",{},"","",{},"",{},"","","",""],["/kids-prepaid-pocket-money-card.html","Personal","Current Account","MTA_YOUTH","Rooster Money","","","","","","","","","",{},"","",{},"","",{},"",{},"","","",""],["/CURRENT-ACCOUNTS.HTML","Personal","Current Account","MTA_GEN","Current Account Hub","","","","cac","cac","cat","","","",{},"","",{},"","",{},"",{},"","","","gt"],["/young-people/adapt-teenage-current-account.html","Personal","Current Account","MTA_CHILD","Adapt","","","","","","","","","",{},"","",{},"","",{},"",{},"","","",""],["/current-accounts/foundation-account.html","Personal","Current Account","MTA_FOUND","Foundation Account","","","","","","","","","",{},"","",{},"","",{},"",{},"","","",""],["/current-accounts/debit-cards/Ulster-Bank-Rewards.html","Personal","Current Account","MTA_REW","","","","","","","","","","",{},"","",{},"","",{},"",{},"","","",""],["/FINANCIAL-HEALTH-CHECK.HTML","Personal","Financial Health Check","FIN_HC","Financial Health Check","","","","2019_00","","landi0","","","",{},"","",{},"","",{},"",{},"","","","gt"],["/PERSONAL-LOANS/CAR-LOANS.HTML","Personal","Loan","LOAN_CAR","Personal Loan","","","","pln","l1","car","","","",{},"","",{},"","",{},"",{},"","","","gt"],["/PERSONAL-LOANS/DEBT-CONSOLIDATION-LOANS.HTML","Personal","Loan","LOAN_DEBTCONS","Personal Loan","","","","pln","l1","deb","","","",{},"","",{},"","",{},"",{},"","","","gt"],["/PERSONAL-LOANS/HOME-IMPROVEMENT-LOANS.HTML","Personal","Loan","LOAN_HOMEIMP","Personal Loan","","","","pln","l1","hom","","","",{},"","",{},"","",{},"",{},"","","","gt"],["/PERSONAL-LOANS/HOLIDAY-LOANS.HTML","Personal","Loan","LOAN_HOL","Personal Loan","","","","","","","","","",{},"","",{},"","",{},"",{},"","","",""],["/PERSONAL-LOANS/LARGE-LOANS.HTML","Personal","Loan","LOAN_LARGE","Personal Loan","","","","pln","l1","lar","","","",{},"","",{},"","",{},"",{},"","","","gt"],["/PERSONAL-LOANS/LOANS.HTML","Personal","Loan","LOAN_PERS","Personal Loan Hub","","","","pln","l1","cat","","","",{},"","",{},"","",{},"",{},"","","","gt"],["/PERSONAL-LOANS.HTML","Personal","Loan","LOAN_PERS","Personal Loan Hub","","","","pln","l1","cat","","","",{},"","",{},"","",{},"",{},"","","","gt"],["/PERSONAL-LOANS/BORROWING-MORE.HTML","Personal","Loan","LOAN_PERS","Personal Loan","","","","pln","l1","bom","","","",{},"","",{},"","",{},"",{},"","","","gt"],["/PERSONAL-LOANS/LOAN-CALCULATOR.HTML","Personal","Loan","LOAN_PERS","Personal Loan","Retail: Personal Loan Calculator Tool","","","","","","","","",{},"","",{},"","",{},"",{},"","","",""],["/PERSONAL-LOANS/QUICK-QUOTE.?M?.HTML","Personal","Loan","LOAN_PERS","Personal Loan","","","","","","","","","",{},"","",{},"","",{},"",{},"","","",""],["/MORTGAGES.HTML","Personal","Mortgage","MOR","Mortgages Hub","","","","u_mtg0","mor","","","","",{},"","",{},"","",{},"",{},"","","","gt"],["/MORTGAGES/MANAGE-YOUR-ULSTER-BANK-MORTGAGE.HTML","Personal","Mortgage","MOR_EXST","Mortgages","","","","","","","","","",{},"","",{},"","",{},"",{},"","","",""],["/MORTGAGES/SECURE/APPLICATION-NEXT-STEPS.HTML","Personal","Mortgage","","","","","","","","","","","",{},"AGUGAB","",{},"","",{},"",{},"","","","mz"],["/GLOBALS/ANYTIME-LOGOUT.HTML","Personal","Non Product","","","","","","2015u0","","ulste186","","","",{},"","",{},"","",{},"",{},"","","","gt"],["^/$|/PERSONAL.HTML","Personal","Non Product","","","","","","2015u0","","2015u00","","","",{},"","",{},"","",{},"",{},"","","","gt"],["/current-accounts/overdrafts.html","Personal","Overdraft","OVD_GEN","Overdraft Hub","","","","","","","","","",{},"","",{},"","",{},"",{},"","","",""],["/OVERDRAFTS/GRADUATE-OVERDRAFTS.HTML","Personal","Overdraft","OVD_GRAD","Overdraft","","","","","","","","","",{},"","",{},"","",{},"",{},"","","",""],["/OVERDRAFTS/STUDENT-OVERDRAFTS.HTML","Personal","Overdraft","OVD_STU","Overdraft","","","","","","","","","",{},"","",{},"","",{},"",{},"","","",""],["/OVERDRAFTS/NEXT-STEPS.HTML","Personal","Overdraft","","Overdraft","","","","","","","","","",{},"AGUGAB","",{},"","",{},"",{},"","","","mz"],["/SAVINGS/CASH-ISA.HTML","Personal","Savings","SAV_CISA","Cash ISA","","","","","","","","","",{},"","",{},"","",{},"",{},"","","",""],["/savings/instant-access-accounts/loyalty-saver/Loyalty-Saver2-savings-ulsterbank.html","Personal","Savings","IASLS","Loyalty Saver","","","","","","","","","",{},"","",{},"","",{},"",{},"","","",""],["/SAVINGS.HTML","Personal","Savings","SAV_GEN","Savings Hub","","","","","","","","","",{},"","",{},"","",{},"",{},"","","",""],["/SAVINGS/MANAGE-YOUR-SAVINGS/GETTING-STARTED.HTML","Personal","Savings","","","","","","","","","","","",{},"AGUGAB","",{},"","",{},"",{},"","","","mz"],["/young-people/savings-accounts.html","Personal","Savings","SAV_URFIRST","urfirst Savings Account","","","","","","","","","",{},"","",{},"","",{},"",{},"","","",""],["/HELP-AND-SUPPORT/TRAVEL-AND-INTERNATIONAL/INTERNATIONAL-PAYMENTS.HTML","Personal","Ways to Bank","","","","","","","","","","","",{},"","",{},"","",{},"",{},"","","",""],["/HELP-AND-SUPPORT/HELP-WITH-MOBILE-APP.HTML","Personal","Ways to Bank","WTB_MOBHELP","","","","","","","","","","",{},"","",{},"","",{},"",{},"","","",""],["/WAYS-TO-BANK/MOBILE-BANKING/MOBILE-APP-PAYMENTS.HTML","Personal","Ways to Bank","MOB_PAY","","","","","","","","","","",{},"","",{},"","",{},"",{},"","","",""],["/help-and-support/travel-and-international/international-payments/sending-money-abroad.html","Personal","Ways to Bank","WTB_SENDABR","","","","","","","","","","",{},"","",{},"","",{},"",{},"","","",""],["/banking-with-ulster-bank/register-for-ulster-bank-anytime-banking.html","Personal","Ways to Bank","WTB_OLB","","","","","","","","","","",{},"","",{},"","",{},"",{},"","","",""],["/banking-with-ulster-bank/download-the-ulster-bank-app/features/know-my-credit-score.html","Personal","Ways to Bank","WTB_KMCS","","","","","","","","","","",{},"","",{},"","",{},"",{},"","","",""],["/banking-with-ulster-bank/download-the-ulster-bank-app.html","Personal","Ways to Bank","WTB_MOBP","","","","","","","","","","",{},"","",{},"","",{},"",{},"","","",""],["/overdrafts/change-your-overdraft-limit.html","Personal","Overdraft","OVD_CHANGE","","","","","","","","","","",{},"","",{},"","",{},"",{},"","","",""],["/how-to/pay-in-cheques.html","Personal","Ways to Bank","WTB_CHEQUE","","","","","","","","","","",{},"","",{},"","",{},"",{},"","","",""],["/ukraine-refugees.html","Personal","Current Account","MTA_UKR","","","","","","","","","","",{},"","",{},"","",{},"",{},"","","",""],["/banking-with-ulster-bank/our-purpose/climate/travel/ev-charge-point-offer.html","","","LM_OCTO","","","","","","","","","","",{},"","",{},"","",{},"",{},"","","",""]]):"Ulster ROI"===_satellite.getVar("brandName")?(_satellite.logger.log("UBR Retail Matched",e),t=[["/MORTGAGES/HOW-MUCH-CAN-I-BORROW-MORTGAGE-CALCULATOR.HTML|/mortgages/mortgage-calculator.html","Personal","Mortgage","","Mortgages","","","","mor_cal","","lan_roi","","","",{},"","",{},"","",{},"",{},"","","","gt"],["/help-and-support/how-to-make-a-complaint/complaint-form.html","","","","","","Customer Complaints - New Complaint","","","","","","","",{},"","",{},"","",{},"",{},"","","",""],["/business/ways-to-bank/cash-coin-order-form.html","","","","","","Cash Coin Order Form","","","","","","","",{},"","",{},"","",{},"",{},"","","",""],["/help-and-support/foreign-currency-order.html","","","","","","Foreign Currency Order Form","","","","","","","",{},"","",{},"","",{},"",{},"","","",""],["/CURRENT-ACCOUNTS/GRADUATE-ACCOUNT.HTML","Personal","Current Account","MTA_GRAD","Graduate Current Account","","","","2019_002","","curre0","","","",{},"","",{},"","",{},"",{},"","","","gt"],["/CURRENT-ACCOUNTS/CURRENT-ACCOUNT.HTML","Personal","Current Account","MTA_CURR","Current Account","","","","2019_00","","curre0","","","",{},"","",{},"","",{},"",{},"","","","gt"],["/CURRENT-ACCOUNTS.HTML","Personal","Current Account","MTA_GEN","Current Account Hub","","","","2019_0","","curre0","","","",{},"","",{},"","",{},"",{},"","","","gt"],["/CURRENT-ACCOUNTS/STANDARD-ACCOUNT.HTML","Personal","Current Account","MTA_STAND","Standard Current Account","","","","2019_000","","curre0","","","",{},"","",{},"","",{},"",{},"","","","gt"],["/CURRENT-ACCOUNTS/STUDENT-ACCOUNT.HTML","Personal","Current Account","MTA_STU","Student Account","","","","2019_001","","curre0","","","",{},"","",{},"","",{},"",{},"","","","gt"],["/CURRENT-ACCOUNTS/FOUNDATION-ACCOUNT.HTML","Personal","Current Account","MTA_FOUND","Foundation Current Account","","","","2019_006","","curre0","","","",{},"","",{},"","",{},"",{},"","","","gt"],["/INSURANCE-AND-PROTECTION/CAR-INSURANCE.HTML","Personal","Insurance","INS_CAR","Car Insurance","","","","","","","","","",{},"","",{},"","",{},"",{},"","","",""],["/INSURANCE-AND-PROTECTION/HOME-INSURANCE.HTML","Personal","Insurance","INS_HOME","Home Insurance","","","","","","","","","",{},"","",{},"","",{},"",{},"","","",""],["/INSURANCE-AND-PROTECTION.HTML","Personal","Insurance","INS_GEN","","","","","","","","","","",{},"","",{},"","",{},"",{},"","","",""],["/PERSONAL-LOANS/CAR-LOANS.HTML","Personal","Loan","LOAN_CAR","Personal Loan","","","","2019_00","","2015u000","","","",{},"","",{},"","",{},"",{},"","","","gt"],["/PERSONAL-LOANS/DEBT-CONSOLIDATION-LOANS.HTML","Personal","Loan","LOAN_DEBTCONS","Personal Loan","","","","2019_001","","2015u000","","","",{},"","",{},"","",{},"",{},"","","","gt"],["/PERSONAL-LOANS/HOME-IMPROVEMENT-LOANS.HTML","Personal","Loan","LOAN_HOMEIMP","Personal Loan","","","","2019_000","","2015u000","","","",{},"","",{},"","",{},"",{},"","","","gt"],["/PERSONAL-LOANS/HOLIDAY-LOANS.HTML","Personal","Loan","LOAN_HOL","Personal Loan","","","","2019_002","","2015u000","","","",{},"","",{},"","",{},"",{},"","","","gt"],["/PERSONAL-LOANS.HTML","Personal","Loan","LOAN_PERS","Personal Loan Hub","","","","2019_0","","2015u000","","","",{},"","",{},"","",{},"",{},"","","","gt"],["/PERSONAL-LOANS/BORROWING-MORE.HTML","Personal","Loan","LOAN_PERS","Personal Loan","","","","","","","","","",{},"","",{},"","",{},"",{},"","","",""],["/PERSONAL-LOANS/WEDDING-LOANS.HTML","Personal","Loan","","Personal Loan","","","","2019_003","","2015u000","","","",{},"","",{},"","",{},"",{},"","","","gt"],["/PERSONAL-LOANS/APPLY-NOW-HERO.HTML","Personal","Loan","","Personal Loan","","","","2015u000","","2015u000","","","",{},"","",{},"","",{},"",{},"","","","gt"],["/PERSONAL-LOANS/APPLY-NOW.HTML","Personal","Loan","","Personal Loan","","","","2015u00p","","2015u0","","","",{},"","",{},"","",{},"",{},"","","","gt"],["/PERSONAL-LOANS/PARENTAL-EDUCATION-LOANS.HTML","Personal","Loan","","Personal Loan","","","","2019_004","","2015u000","","","",{},"","",{},"","",{},"",{},"","","","gt"],["/MORTGAGES.HTML","Personal","Mortgage","MOR","Mortgages Hub","","","","2019_0","","mortg14","","","",{},"","",{},"","",{},"",{},"","","","gt"],["/MORTGAGES/MANAGE-YOUR-ULSTER-BANK-MORTGAGE.HTML","Personal","Mortgage","MOR_EXST","","","","","2019_002","","mortg14","","","",{},"","",{},"","",{},"",{},"","","","gt"],["/MORTGAGES/FIRST-TIME-BUYERS.HTML","Personal","Mortgage","MOR_FTB","Mortgages","","","","2019_00","","mortg14","","","",{},"","",{},"","",{},"",{},"","","","gt"],["/MORTGAGES/SWITCH-YOUR-MORTGAGE.HTML","Personal","Mortgage","MOR_SW","Mortgages","","","","2019_000","","mortg14","","","",{},"","",{},"","",{},"",{},"","","","gt"],["/MORTGAGES/TALK-TO-US.HTML","Personal","Mortgage","","Mortgages","","","","2015_00b","","mortg14","","","",{},"","",{},"","",{},"",{},"","","","gt"],["/MORTGAGES/CAMPAIGNS/SWITCH-OR-MOVE.HTML","Personal","Mortgage","","Mortgages","","","","2019_001","","mortg14","","","",{},"","",{},"","",{},"",{},"","","","gt"],["/MORTGAGES/CAMPAIGNS/FIRST-FIVE.HTML","Personal","Mortgage","","Mortgages","","","","2019_000","","landi0","","","",{},"","",{},"","",{},"",{},"","","","gt"],["/MORTGAGES/BUY-TO-LET-MORTGAGES.HTML","Personal","Mortgage","","Mortgages","","","","2019_005","","2015u000","","","",{},"","",{},"","",{},"",{},"","","","gt"],["/MORTGAGES/MORTGAGE-RATES.HTML","Personal","Mortgage","","Mortgages","","","","2019_003","","mortg14","","","",{},"","",{},"","",{},"",{},"","","","gt"],["/MORTGAGES/MOVING-HOME.HTML","Personal","Mortgage","","Mortgages","","","","2019_005","","mortg14","","","",{},"","",{},"","",{},"",{},"","","","gt"],["/MORTGAGES/CAMPAIGNS/MORTGAGES.HTML","Personal","Mortgage","","Mortgages","","","","cam_roi","","mor_cam","","","",{},"","",{},"","",{},"",{},"","","","gt"],["/MORTGAGES/CAMPAIGNS/FIRST-TIME-BUYER.HTML","Personal","Mortgage","","Mortgages","","","","ftb_roi","","mor_cam","","","",{},"","",{},"","",{},"",{},"","","","gt"],["/MORTGAGES/CAMPAIGNS/MORTGAGE-CALCULATORS.HTML","Personal","Mortgage","","Mortgages","","","","cal_roi","","mor_cam","","","",{},"","",{},"","",{},"",{},"","","","gt"],["/MORTGAGES/TALK-TO-US/MOBILE-MORTGAGE-TEAM.HTML","Personal","Mortgage","","Mortgages","","","","lan_roi","","mor_mob","","","",{},"","",{},"","",{},"",{},"","","","gt"],["/MORTGAGES/MORTGAGE-AGREEMENT-IN-PRINCIPLE.HTML","Personal","Mortgage","","Mortgages Application","","","","lan_roi","","mor_aip","","","",{},"","",{},"","",{},"",{},"","","","gt"],["/MORTGAGES/SECURE/MORTGAGE-OVERPAYMENT-TOOL.HTML","Personal","Mortgage","","Mortgages","","","","lan_roi","","mor_ovp","","","",{},"","",{},"","",{},"",{},"","","","gi"],["/OVERDRAFTS.HTML","Personal","Overdraft","OVD","Overdraft","","","","","","","","","",{},"","",{},"","",{},"",{},"","","",""],["/OVERDRAFTS/GRADUATE-OVERDRAFTS.HTML","Personal","Overdraft","OVD_GRAD","Overdraft","","","","","","","","","",{},"","",{},"","",{},"",{},"","","",""],["/OVERDRAFTS/STUDENT-OVERDRAFTS.HTML","Personal","Overdraft","OVD_STU","Overdraft","","","","","","","","","",{},"","",{},"","",{},"",{},"","","",""],["/PRIVATE-BANKING.HTML","Personal","Private Banking","UBPRIV","Private Banking","","","","","","","","","",{},"","",{},"","",{},"",{},"","","",""],["/SAVINGS/MEDIUM-TERM-ACCOUNTS/FIXED-TERM-DEPOSIT.HTML","Personal","Savings","FTDA","Fixed Term Deposit Account","","","","","","","","","",{},"","",{},"","",{},"",{},"","","",""],["/SAVINGS/INSTANT-ACCESS-ACCOUNTS/LOYALTY-SAVER.HTML","Personal","Savings","IASLS","Loyalty Saver","","","","","","","","","",{},"","",{},"","",{},"",{},"","","",""],["/SAVINGS.HTML","Personal","Savings","SAV_GEN","Savings Hub","","","","","","","","","",{},"","",{},"","",{},"",{},"","","",""],["/SAVINGS/REGULAR-SAVINGS-ACCOUNTS.HTML","Personal","Savings","SAV_SIDA","Special Interest Deposit Account","","","","","","","","","",{},"","",{},"","",{},"",{},"","","",""],["/savings/regular-savings-accounts/home-saver.html","Personal","Savings","","Home Saver","","","","lan_roi","","dep_ua","","","",{},"","",{},"","",{},"",{},"","","","gt"],["/savings/regular-savings-accounts/home-saver/apply-now.html","Personal","Savings","","Home Saver","","","","apl_roi","","dep_ua","","","",{},"","",{},"","",{},"",{},"","","","gt"],["/HELP-AND-SUPPORT/TRAVEL-AND-INTERNATIONAL/INTERNATIONAL-PAYMENTS.HTML","Personal","Ways to Bank","INTPAY","","","","","","","","","","",{},"","",{},"","",{},"",{},"","","",""],["/HELP-AND-SUPPORT/HELP-WITH-MOBILE-APP.HTML","Personal","Ways to Bank","WTB_MOBHELP","","","","","","","","","","",{},"","",{},"","",{},"",{},"","","",""],["/WAYS-TO-BANK/MOBILE-BANKING/MOBILE-APP-PAYMENTS.HTML","Personal","Ways to Bank","MOB_PAY","","","","","","","","","","",{},"","",{},"","",{},"",{},"","","",""],["/WAYS-TO-BANK/MOBILE-BANKING.HTML","Personal","Ways to Bank","WTB_MOB","","","","","","","","","","",{},"","",{},"","",{},"",{},"","","",""],["/WAYS-TO-BANK/ONLINE-BANKING.HTML","Personal","Ways to Bank","WTB_OLB","","","","","","","","","","",{},"","",{},"","",{},"",{},"","","",""],["/mortgages/campaigns/move.html","Personal","Mortgage","","Mortgages","","","","mov_roi","","mor_cam","","","",{},"","",{},"","",{},"",{},"","","","gt"],["/mortgages/campaigns/switch.html","Personal","Mortgage","","Mortgages","","","","swi_roi","","mor_cam","","","",{},"","",{},"","",{},"",{},"","","","gt"]]):(_satellite.logger.warn("Brand not supported in product database - no variables will be set"),t=[]);for(let n=0;n<t.length;n++){if(new RegExp(t[n][0],"gi").test(e))return _satellite.logger.log("Retail Match Found",t[n][0]),{productArea:t[n][1],productCategory:t[n][2],productShort:t[n][3],productName:t[n][4],toolName:t[n][5],formName:t[n][6],analyticsEvents:t[n][7],categoryCode:t[n][8],productCode:t[n][9],pageType:t[n][10],gtagCountType:t[n][11],gtagAllowCustom:t[n][12],facebookCustomEventName:t[n][13],facebookCustomEventArray:t[n][14],maritzCode:t[n][15],snapchatCustomEventName:t[n][16],snapchatCustomEventArray:t[n][17],snapchatPixelID:t[n][18],twitterCustomEventName:t[n][19],twitterCustomEventArray:t[n][20],pinterestCustomEventName:t[n][21],pinterestCustomEventArray:t[n][22],pinterestPixelID:t[n][23],adWordsEvent:t[n][24],adwordsPixelID:t[n][25],tracking:t[n][26]};_satellite.logger.log("Retail No match found")}}catch(e){_satellite.logger.error("Retail productData failed to run",e)}}}},offshoreProductData:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{const e=_satellite.getVar("canonicalURL")?_satellite.getVar("canonicalURL"):_satellite.getVar("pathName");let t;"NatWest International"===_satellite.getVar("brandName")?(_satellite.logger.log("NatWest International - setting regex table",e),t=[["/CURRENT-ACCOUNTS.HTML","Personal","Current Account","MTA","Current Account Hub","","","","","","","","","",{},"","",{},"",{},"",{},""],["/CURRENT-ACCOUNTS/OVERDRAFTS.HTML","Personal","Overdraft","OVD","Overdraft Hub","","","","","","","","","",{},"","",{},"",{},"",{},""],["/CURRENT-ACCOUNTS/SELECT-ACCOUNT.HTML","Personal","Current Account","MTA_SEL","Select Account","","","","","","","","","",{},"","",{},"",{},"",{},""],["/CURRENT-ACCOUNTS/UNDER-18-BANK-ACCOUNT.HTML","Personal","Current Account","MTA_APT","Adapt Current Account","","","","","","","","","",{},"","",{},"",{},"",{},""],["/CURRENT-ACCOUNTS/GOLD-ACCOUNT.HTML","Personal","Current Account","MTA_GLD","Gold Account","","","","","","","","","",{},"","",{},"",{},"",{},""],["/CURRENT-ACCOUNTS/SWITCH-BANK-ACCOUNT.HTML","Personal","Current Account","MTA_SWT","MTA Switch","","","","","","","","","",{},"","",{},"",{},"",{},""],["/LOANS.HTML","Personal","Loan","LOAN_PERS","Personal Loan","","","","","","","","","",{},"","",{},"",{},"",{},""],["/LOANS/LOAN-CALCULATOR.HTML","Personal","Loan","LOAN_CALC","Personal Loan Caclculator","","","","","","","","","",{},"","",{},"",{},"",{},""],["/LOANS/UNDERSTANDING-PERSONAL-LOANS.HTML","Personal","Loan","LOAN_PERS","Understanding Personal Loans","","","","","","","","","",{},"","",{},"",{},"",{},""],["/MORTGAGES.HTML","Personal","Mortgage","MOR","Mortgages Hub","","","","","","","","","",{},"","",{},"",{},"",{},""],["/MORTGAGES/MORTGAGE-CALCULATOR.HTML","Personal","Mortgage","MOR_CALC","Mortgages","","","","","","","","","",{},"","",{},"",{},"",{},""],["/MORTGAGES/MORTGAGE-RATE-FINDER.HTML","Personal","Mortgage","MOR_RT","Mortgages","","","","","","","","","",{},"","",{},"",{},"",{},""],["/MORTGAGES/FIRST-TIME-BUYER.HTML","Personal","Mortgage","MOR_FTB","Mortgages","","","","","","","","","",{},"","",{},"",{},"",{},""],["/MORTGAGES/REMORTGAGE.HTML","Personal","Mortgage","MOR_RM","Mortgages","","","","","","","","","",{},"","",{},"",{},"",{},""],["/MORTGAGES/MOVING-HOME.HTML","Personal","Mortgage","MOR_MH","Mortgages","","","","","","","","","",{},"","",{},"",{},"",{},""],["/MORTGAGES/BUY-TO-LET.HTML","Personal","Mortgage","MOR_BTL","Mortgages","","","","","","","","","",{},"","",{},"",{},"",{},""],["/MORTGAGES/UK.HTML","Personal","Mortgage","MOR","Mortgages","","","","","","","","","",{},"","",{},"",{},"",{},""],["/MORTGAGES/BORROW-MORE.HTML","Personal","Mortgage","MOR","Mortgages","","","","","","","","","",{},"","",{},"",{},"",{},""],["/MORTGAGES/CHANGE-MORTGAGE-DEALS.HTML","Personal","Mortgage","MOR_SW","Mortgages","","","","","","","","","",{},"","",{},"",{},"",{},""],["/MORTGAGES/GREEN-MORTGAGES.HTML","Personal","Mortgage","MOR_GN","Mortgages","","","","","","","","","",{},"","",{},"",{},"",{},""],["/MORTGAGES/JARGON-BUSTER.HTML","Personal","Mortgage","MOR_JB","Mortgages","","","","","","","","","",{},"","",{},"",{},"",{},""],["/MORTGAGES/MORTGAGE-TYPES.HTML","Personal","Mortgage","MOR_TYP","Mortgages","","","","","","","","","",{},"","",{},"",{},"",{},""],["/MORTGAGES/MORTGAGE-APPLICATION-PORTAL.HTML","Personal","Mortgage","MOR_AP","Mortgages","","","","","","","","","",{},"","",{},"",{},"",{},""],["/SAVINGS.HTML","Personal","Savings","SAV","Savings Hub","","","","","","","","","",{},"","",{},"",{},"",{},""],["/SAVINGS/INSTANT-SAVER.HTML","Personal","Savings","SAV_IS","Instant Saver","","","","","","","","","",{},"","",{},"",{},"",{},""],["/SAVINGS/SAVINGS-BUILDER.HTML","Personal","Savings","SAV_SB","Savings Builder","","","","","","","","","",{},"","",{},"",{},"",{},""],["/SAVINGS/PREMIUM-SAVER.HTML","Personal","Savings","SAV_PS","Premium Saver","","","","","","","","","",{},"","",{},"",{},"",{},""],["/SAVINGS/FIRST-SAVER.HTML","Personal","Savings","SAV_FS","First Saver","","","","","","","","","",{},"","",{},"",{},"",{},""],["/SAVINGS/FIXED-TERM-SAVINGS.HTML","Personal","Savings","SAV_FTS","Fixed Term Saver","","","","","","","","","",{},"","",{},"",{},"",{},""],["/SAVINGS/CASH-MANAGEMENT.HTML","Personal","Savings","SAV_CM","Cash Management Account","","","","","","","","","",{},"","",{},"",{},"",{},""],["/SAVINGS/SAVINGS-GOAL.HTML","Personal","Savings","SAV_GL","Savings Goal","","","","","","","","","",{},"","",{},"",{},"",{},""],["/BUSINESS/BUSINESS-BANK-ACCOUNT.HTML","Business","Business Bank Account","BUS_MTA","Business Bank Account Hub","","","","","","","","","",{},"","",{},"",{},"",{},""],["/BUSINESS/BUSINESS-BANK-ACCOUNT/SWITCH-YOUR-ACCOUNT.HTML","Business","Business Switch Account","BUS_MTA_SWT","Switch Business Account","","","","","","","","","",{},"","",{},"",{},"",{},""],["/BUSINESS/BUSINESS-BORROWING/OVERDRAFTS.HTML","Business","Business Overdraft","BUS_OVD","Business Overdraft Hub","","","","","","","","","",{},"","",{},"",{},"",{},""],["/BUSINESS/BUSINESS-SAVINGS.HTML","Business","Business Savings","BUS_SAV","Business Savings Hub","","","","","","","","","",{},"","",{},"",{},"",{},""],["/BUSINESS/BUSINESS-SAVINGS/BUSINESS-RESERVE-ACCOUNT.HTML","Business","Savings","BUS_SAV_BR","Business Reserve Savings","","","","","","","","","",{},"","",{},"",{},"",{},""],["/BUSINESS/BUSINESS-SAVINGS/NOTICE-DEPOSIT-ACCOUNT.HTML","Business","Savings","BUS_SAV_ND","Notice Deposit Account","","","","","","","","","",{},"","",{},"",{},"",{},""],["/BUSINESS/BUSINESS-SAVINGS/CASH-MANAGEMENT.HTML","Business","Savings","BUS_SAV_CMA","Cash Management Account","","","","","","","","","",{},"","",{},"",{},"",{},""],["/INTERNATIONAL-BANKING/CURRENT-ACCOUNTS/INTERNATIONAL-SELECT-ACCOUNT.HTML","International","International Current Account","INT_MTA_SEL","International Select Account","","","","","","","","","",{},"","",{},"",{},"",{},""],["/INTERNATIONAL-BANKING/CURRENT-ACCOUNTS/CASH-MANAGEMENT-ACCOUNT.HTML","International","International Cash Management Account","INT_CMA","International Cash Management Account","","","","","","","","","",{},"","",{},"",{},"",{},""],["/INTERNATIONAL-BANKING/SAVINGS.HTML","International","International Savings","INT_SAV","International Savings Hub","","","","","","","","","",{},"","",{},"",{},"",{},""],["/INTERNATIONAL-BANKING/SAVINGS/INSTANT-SAVER.HTML","International","International Savings","INT_SAV_IN","International Instant Saver Account","","","","","","","","","",{},"","",{},"",{},"",{},""],["/INTERNATIONAL-BANKING/SAVINGS/INTERNATIONAL-PREMIUM-SAVER.HTML","International","International Savings","INT_SAV_PM","International Premium Saver Account","","","","","","","","","",{},"","",{},"",{},"",{},""],["/INTERNATIONAL-BANKING/SAVINGS/SAVINGS-BUILDER.HTML","International","International Savings","INT_SAV_SB","International Savings Builder Account","","","","","","","","","",{},"","",{},"",{},"",{},""],["/INTERNATIONAL-BANKING/SAVINGS/US-DOLLAR-FIXED-TERM-DEPOSIT.HTML","International","International Savings","INT_SAV_FTD","International Fixed Term Deposit","","","","","","","","","",{},"","",{},"",{},"",{},""],["/INTERNATIONAL-BANKING/MORTGAGES.HTML","International","International Mortgages","INT_MORT","International Mortgages","","","","","","","","","",{},"","",{},"",{},"",{},""],["/INTERNATIONAL-BANKING/MORTGAGES/UK-GREEN-MORTGAGES.HTML","International","International Mortgages","INT_MORT","International Green Mortgages","","","","","","","","","",{},"","",{},"",{},"",{},""],["/INTERNATIONAL-BANKING/MORTGAGES/BROKERS.HTML","International","International Mortgages","INT_MORT_BRK","International Mortgage Brokers","","","","","","","","","",{},"","",{},"",{},"",{},""],["/international-banking/forms/call-back-request.html","","","","","","Call Back Request Form","","","","","","","",{},"","",{},"",{},"",{},""],["/global/forms/complaint-form.html","","","","","","Customer Complaints - New Complaint","","","","","","","",{},"","",{},"",{},"",{},""],["/global/forms/staff-nomination-form.html","","","","","","Staff Nomination Form","","","","","","","",{},"","",{},"",{},"",{},""],["/global/forms/feedback-form.html","","","","","","Feedback Form","","","","","","","",{},"","",{},"",{},"",{},""],["/global/forms/mortgage-statement-request.html","","","","","","Mortgage Statement Request Form","","","","","","","",{},"","",{},"",{},"",{},""],["/global/forms/probate","","","","","","Probate Form","","","","","","","",{},"","",{},"",{},"",{},""],["/forms/international-mortgage-document-request-form.html","","","","","","Mortgage Document Request Form","","","","","","","",{},"","",{},"",{},"",{},""],["/global/forms/mortgage-repayment-holiday.html","","","","","","Mortgage Repayment Holiday Request Form","","","","","","","",{},"","",{},"",{},"",{},""],["/global/forms/loan-repayment-holiday.html","","","","","","Loan Repayment Holiday Request Form","","","","","","","",{},"","",{},"",{},"",{},""],["/global/forms/loan-repayment-holiday/apply-new-loan.html","","","","","","Apply For a New Loan Form","","","","","","","",{},"","",{},"",{},"",{},""],["/global/forms/guaranteed-business-loan-form.html","","","","","","Guaranteed Business Loan Form","","","","","","","",{},"","",{},"",{},"",{},""],["/global/forms/mortgage-repayment-holiday/extend-holiday.html","","","","","","Extend Mortgage Repayment Holiday Form","","","","","","","",{},"","",{},"",{},"",{},""]]):"Isle of Man Bank"===_satellite.getVar("brandName")?(_satellite.logger.log("IOM - setting regex table",e),
t=[["/PRODUCTS/CURRENT-ACCOUNTS-OVERDRAFTS.HTML","Personal","Current Account","MTA","Current Account Hub","","","","","","","","","",{},"","",{},"",{},"",{},""],["/PRODUCTS/CURRENT-ACCOUNTS-OVERDRAFTS/OVERDRAFTS.HTML","Personal","Overdraft","OVD","Overdraft Hub","","","","","","","","","",{},"","",{},"",{},"",{},""],["/PRODUCTS/CURRENT-ACCOUNTS-OVERDRAFTS/SELECT-ACCOUNT.HTML","Personal","Current Account","MTA_SEL","Select Account","","","","","","","","","",{},"","",{},"",{},"",{},""],["/PRODUCTS/CURRENT-ACCOUNTS-OVERDRAFTS/CARD-PLUS-ACCOUNT.HTML","Personal","Current Account","MTA_APT","Adapt Current Account","","","","","","","","","",{},"","",{},"",{},"",{},""],["/PRODUCTS/CURRENT-ACCOUNTS-OVERDRAFTS/GOLD-ACCOUNT.HTML","Personal","Current Account","MTA_GLD","Gold Account","","","","","","","","","",{},"","",{},"",{},"",{},""],["/PRODUCTS/CURRENT-ACCOUNTS-OVERDRAFTS/FOUNDATION-ACCOUNT.HTML","Personal","Current Account","MTA_FND","Foundation Account","","","","","","","","","",{},"","",{},"",{},"",{},""],["/PRODUCTS/CURRENT-ACCOUNTS-OVERDRAFTS/SWITCHING-TO-US.HTML","Personal","Current Account","MTA_SWT","Switch","","","","","","","","","",{},"","",{},"",{},"",{},""],["/PRODUCTS/LOANS.HTML","Personal","Loan","LOAN","Personal Loan","","","","","","","","","",{},"","",{},"",{},"",{},""],["/PRODUCTS/MORTGAGES.HTML","Personal","Mortgage","MOR","Mortgages Hub","","","","","","","","","",{},"","",{},"",{},"",{},""],["/PRODUCTS/MORTGAGES/.*.HTML","Personal","Mortgage","MOR","Mortgages","","","","","","","","","",{},"","",{},"",{},"",{},""],["/PRODUCTS/SAVINGS.HTML","Personal","Savings","SAV","Savings Hub","","","","","","","","","",{},"","",{},"",{},"",{},""],["/PRODUCTS/SAVINGS/INSTANT-SAVER.HTML","Personal","Savings","SAV_IS","Instant Saver","","","","","","","","","",{},"","",{},"",{},"",{},""],["/PRODUCTS/SAVINGS/SAVINGS-BUILDER.HTML","Personal","Savings","SAV_SB","Savings Builder","","","","","","","","","",{},"","",{},"",{},"",{},""],["/PRODUCTS/SAVINGS/PREMIUM-SAVER.HTML","Personal","Savings","SAV_PS","Premium Saver","","","","","","","","","",{},"","",{},"",{},"",{},""],["/PRODUCTS/SAVINGS/FIRST-SAVER.HTML","Personal","Savings","SAV_FS","First Saver","","","","","","","","","",{},"","",{},"",{},"",{},""],["/PRODUCTS/SAVINGS/FIXED-TERM-SAVINGS.HTML","Personal","Savings","SAV_FTS","Fixed Term Saver","","","","","","","","","",{},"","",{},"",{},"",{},""],["/BUSINESS/PRODUCTS/ACCOUNTS-OVERDRAFTS.HTML","Business","Business bank Account","BUS MTA","Business Bank Account Hub","","","","","","","","","",{},"","",{},"",{},"",{},""],["/BUSINESS/PRODUCTS/ACCOUNTS-OVERDRAFTS/BUSINESS-OVERDRAFTS.HTML","Business","Business Overdraft","BUS OVD","Business Overdraft Hub","","","","","","","","","",{},"","",{},"",{},"",{},""],["/BUSINESS/PRODUCTS/ACCOUNTS-OVERDRAFTS/BUSINESS-BANK-ACCOUNT.HTML","Business","Buesiness Bank Account","BUS_MTA","Business Bank Account","","","","","","","","","",{},"","",{},"",{},"",{},""],["/BUSINESS/PRODUCTS/ACCOUNTS-OVERDRAFTS/SWITCH-BUSINESS-BANK-ACCOUNT.HTML","Business","Switch Account","BUS_MTA_SWT","Switch Business Account","","","","","","","","","",{},"","",{},"",{},"",{},""],["/BUSINESS/PRODUCTS/VARIABLE-RATE-LOANS.HTML","Business","Business Loan","BUS_LOAN","Business Loan","","","","","","","","","",{},"","",{},"",{},"",{},""],["/BUSINESS/PRODUCTS/SAVINGS.HTML","Business","Business Savings","BUS_SAV","Business Savings Hub","","","","","","","","","",{},"","",{},"",{},"",{},""],["/BUSINESS/PRODUCTS/SAVINGS/BUSINESS-RESERVE.HTML","Business","Savings","BUS_SAV_BR","Business Reserve Savings","","","","","","","","","",{},"","",{},"",{},"",{},""],["/BUSINESS/PRODUCTS/SAVINGS/NOTICE-DEPOSIT-ACCOUNT.HTML","Business","Savings","BUS_SAV_ND","Notice Deposit Account","","","","","","","","","",{},"","",{},"",{},"",{},""],["/BUSINESS/PRODUCTS/SAVINGS/CLIENT-DEPOSIT-MANAGER.HTML","Business","Savings","BUS_SAV_CDM","Client Deposit Manager","","","","","","","","","",{},"","",{},"",{},"",{},""],["/global/forms/complaint-form.html","","","","","","Customer Complaints - New Complaint","","","","","","","",{},"","",{},"",{},"",{},""],["/global/forms/staff-nomination-form.html","","","","","","Staff Nomination Form","","","","","","","",{},"","",{},"",{},"",{},""],["/global/forms/feedback-form.html","","","","","","Feedback Form","","","","","","","",{},"","",{},"",{},"",{},""],["/global/forms/probate-form","","","","","","Probate Form","","","","","","","",{},"","",{},"",{},"",{},""],["/global/forms/get-in-touch.html","","","","","","Get in Touch Form","","","","","","","",{},"","",{},"",{},"",{},""],["/global/forms/institutional-enquiry-form.html","","","","","","Institutional Enquiry Form","","","","","","","",{},"","",{},"",{},"",{},""]]):"RBS International"===_satellite.getVar("brandName")?(_satellite.logger.log("RBS International - setting regex table",e),t=[["/institutional-banking/forms/jersey-enquiry.html","","","","","","Jersey Enquiry Form","","","","","","","",{},"","",{},"",{},"",{},""],["/institutional-banking/forms/luxembourg-enquiry.html","","","","","","Luxembourg Enquiry Form","","","","","","","",{},"","",{},"",{},"",{},""],["/institutional-banking/forms/make-a-complaint-online.html","","","","","","Customer Complaints - New Complaint","","","","","","","",{},"","",{},"",{},"",{},""],["/institutional-banking/forms/feedback.html","","","","","","Feedback Form","","","","","","","",{},"","",{},"",{},"",{},""],["/institutional-banking/forms/nominate-our-staff.html","","","","","","Staff Nomination Form","","","","","","","",{},"","",{},"",{},"",{},""],["/institutional-banking/forms/london-enquiry.html","","","","","","London Enquiry Form","","","","","","","",{},"","",{},"",{},"",{},""]]):(_satellite.logger.warn("Brand not supported in product database - no variables will be set"),t=[]);for(let n=0;n<t.length;n++){if(new RegExp(t[n][0],"gi").test(e))return _satellite.logger.log("Offshore match found",t[n][0]),{productArea:t[n][1],productCategory:t[n][2],productShort:t[n][3],productName:t[n][4],toolName:t[n][5],formName:t[n][6],analyticsEvents:t[n][7],categoryCode:t[n][8],productCode:t[n][9],pageType:t[n][10],gtagCountType:t[n][11],gtagAllowCustom:t[n][12],facebookCustomEventName:t[n][13],facebookCustomEventArray:t[n][14],maritzCode:t[n][15],snapchatCustomEventName:t[n][16],snapchatCustomEventArray:t[n][17],twitterCustomEventName:t[n][18],twitterCustomEventArray:t[n][19],pinterestCustomEventName:t[n][20],pinterestCustomEventArray:t[n][21],tracking:t[n][22]};_satellite.logger.log("Offshore product data ran - no match found")}}catch(e){_satellite.logger.error("Offshore productData failed to run",e)}}}},"digitalData.event.event":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return digitalData&&digitalData.event?digitalData.event[digitalData.event.length-1].event:void 0}catch(e){_satellite.logger.error("digitalData.event.event failed to run",e)}}}},retailProgressBarDisplayed:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){const e=(e,t)=>t.some((t=>e.includes(t)));try{const t=document.location.pathname,n=["/business","/corporates","/premier-banking"];return!(!document.querySelector("#stepProgress, #progressBar")||e(t,n))}catch(e){return _satellite.logger.error("Failed to evaluate multi-step SPA page condition",e),!1}}}},stagingParam:{storageDuration:"session",modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"staging",caseInsensitive:!0}},pinterestID:{modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"2612570069989"}},applyInternalTrackingCodeFixFn:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(e){try{let t="";return e.intCam&&(t=e.intCam,t.match(/PC\_PC\_/)&&(t=tm_intcam.replace("PC_","")),t.match(/P1-/)?(t=t.replace("HP-P1-DEF-Default","PC_HP-P1-DEF-UnKnown3-DEF"),t=t.replace("HP-P-P1-DEF-Default","PC_HP-P-P1-DEF-UnKnown3-DEF"),t=t.replace("HP-B-P1-DEF-Default","PC_HP-B-P1-DEF-UnKnown3-DEF")):t.match(/P2-/)?(t=t.replace("HP-P2-DEF-Default","PC_HP-P2-DEF-UnKnown3-DEF"),t=t.replace("HP-P-P2-DEF-Default","PC_HP-P-P2-DEF-UnKnown3-DEF"),t=t.replace("HP-B-P2-DEF-Default","PC_HP-B-P2-DEF-UnKnown3-DEF")):t.match(/P3-/)?(t=t.replace("HP-P3-DEF-Default","PC_HP-P3-PR3-UnKnown1-DEF"),t=t.replace("HP-P-P3-DEF-Default","PC_HP-P-P3-PR3-UnKnown1-DEF"),t=t.replace("HP-B-P3-DEF-Default","PC_HP-B-P3-PR3-UnKnown1-DEF")):t.match(/TB-/)&&(t=t.replace("HP-TB-DEF-Default","PC_HP-TB-DEF-5links-DEF"),t=t.replace("HP-P-TB-DEF-Default","PC_HP-P-TB-DEF-5links-DEF"),t=t.replace("HP-B-TB-DEF-Default","PC_HP-B-TB-DEF-5links-DEF"))),t}catch(e){return _satellite.logger.error("[Data Element] Failed in applyInternalTrackingCodeFix",e),""}}}},facebookPixelID:{modulePath:"mapping-table/src/lib/dataElements/mappingTable.js",settings:{0:{input:"natwest|personal",method:"exact match i",output:"1443587282641770"},1:{input:"rbs|personal",method:"exact match i",output:"1146334449184351"},2:{input:"natwest|premier-banking",method:"exact match i",output:"1443587282641770"},3:{input:"rbs|premier-banking",method:"exact match i",output:"1146334449184351"},4:{input:"natwest|business",method:"exact match i",output:"367766530673646"},5:{input:"rbs|business",method:"exact match i",output:"360161918091050"},6:{input:"ulster ni|personal",method:"exact match i",output:"182889860517737"},size:7,dataElement:"%brandAndSiteArea%",defaultValueEmpty:!0}},intermediaryProductData:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{const e=_satellite.getVar("canonicalURL")?_satellite.getVar("canonicalURL"):_satellite.getVar("pathName");let t;"NatWest"===_satellite.getVar("brandName")?(_satellite.logger.log("NatWest Intermediary Matched",e),t=[["/intermediary-solutions/products.html","Intermediary","","","","","","","n_mor0","nwis","","","","",{},"","",{},"","",{},"",{},"","","","gt"],["/intermediary-solutions/btl-hub.html","Intermediary","","","","","","","n_mor00","nwis","","","","",{},"","",{},"","",{},"",{},"","","","gt"],["/intermediary-solutions/adbo-switch.html","Intermediary","","","","","","","n_mor000","nwis","","","","",{},"","",{},"","",{},"",{},"","","",""]]):(_satellite.logger.warn("Brand not supported in product database - no variables will be set"),t=[]);for(let n=0;n<t.length;n++){if(new RegExp(t[n][0],"gi").test(e))return _satellite.logger.log("Intermediary Match Found",t[n][0]),{productArea:t[n][1],productCategory:t[n][2],productShort:t[n][3],productName:t[n][4],toolName:t[n][5],formName:t[n][6],analyticsEvents:t[n][7],categoryCode:t[n][8],productCode:t[n][9],pageType:t[n][10],gtagCountType:t[n][11],gtagAllowCustom:t[n][12],facebookCustomEventName:t[n][13],facebookCustomEventArray:t[n][14],maritzCode:t[n][15],snapchatCustomEventName:t[n][16],snapchatCustomEventArray:t[n][17],snapchatPixelID:t[n][18],twitterCustomEventName:t[n][19],twitterCustomEventArray:t[n][20],pinterestCustomEventName:t[n][21],pinterestCustomEventArray:t[n][22],pinterestPixelID:t[n][23],adWordsEvent:t[n][24],adwordsPixelID:t[n][25],tracking:t[n][26]};_satellite.logger.log("Intermediary No match found")}}catch(e){_satellite.logger.error("Intermediary productData failed to run",e)}}}},edgeDomain:{defaultValue:"edge.adobedc.net",modulePath:"natwest-core/src/lib/dataElements/mappingTable.js",settings:{mappingConfig:[{output:"sc.natwest.com",comparison:"equals",caseInsensitive:!0,matchExpression:"natwest"},{output:"sc.rbs.co.uk",comparison:"equals",caseInsensitive:!0,matchExpression:"rbs"},{output:"sc.ulsterbank.ie",comparison:"matchesRegex",caseInsensitive:!1,matchExpression:"ulster\\s?roi"},{output:"sc.ulsterbank.co.uk",comparison:"matchesRegex",caseInsensitive:!1,matchExpression:"ulster\\s?ni"},{output:"sc.holtsmilitarybank.co.uk",comparison:"startsWith",caseInsensitive:!1,matchExpression:"holts"},{output:"sc.iombank.com",comparison:"equals",caseInsensitive:!0,matchExpression:"iombank"},{output:"sc.lombard.co.uk",comparison:"equals",caseInsensitive:!1,matchExpression:"lombard"},{output:"sc.natwestgroup.com",comparison:"equals",caseInsensitive:!0,matchExpression:"NATWESTGROUP_COM"},{output:"sc.natwestgroupremembers.com",comparison:"equals",caseInsensitive:!0,matchExpression:"NATWESTGROUPREMEMBERS_COM"}],baseDataElement:"%digitalData.site.brand%"}},optanonActiveGroups:{storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){function e(e){try{var t=_satellite.getVar("queryParamsCleaned")||location.href,n=new RegExp("[?&]"+e+"=([^&#]*)","i").exec(t);return n?n[1]:null}catch(e){_satellite.logger.error("Failed to run getQueryParam",e)}}try{var t,n=e("C0001"),r=e("C0002"),a=e("C0003"),o=e("C0004"),i=e("C0009"),s=_satellite.cookie.get("OptanonConsent");return n&&r&&a&&o&&i?(t=",",t+="1"===n?"C0001,":"",t+="1"===r?"C0002,":"",t+="1"===a?"C0003,":"",t+="1"===o?"C0004,":"",t+="1"===i?"C0009,":""):window.OptanonActiveGroups&&",,"!==window.OptanonActiveGroups?(_satellite.logger.info("Cookie Consent taken from window.OptanonActiveGroups"),t=window.OptanonActiveGroups):s?(_satellite.logger.info("Cookie Consent taken from OptanonConsent cookie"),t=","+s.split("groups=")[1].split("&")[0].match(/(C000\d):1/gi).join(",").replace(/:1/g,"")):(_satellite.logger.info("Cookie Consent not found using defaults"),t=_satellite.getVar("optanonDefaultConsent")),t}catch(e){return _satellite.logger.error("Failed to get onetrust consent settings",e),_satellite.getVar("optanonDefaultConsent")}}}},"digitalData.site.brand":{forceLowerCase:!0,modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.site.brand"}},targetEnvironment:{modulePath:"core/src/lib/dataElements/conditionalValue.js",settings:{comparison:{operator:"doesNotEqual"},leftOperand:"%launchEnvironment%",rightOperand:"production",conditionalValue:"07890739-bc55-8f00-8098-7c7d3c7c0ec3"}},mergedDataVariable:{modulePath:"core/src/lib/dataElements/mergedObjects.js",settings:{objects:["%digitalDataSnapshotObject%"]}},impactRadiusPixel:{modulePath:"mapping-table/src/lib/dataElements/mappingTable.js",settings:{0:{input:"natwest|personal",method:"exact match i",output:"A2066153-f262-40cd-99e3-0e7302e29a951"},1:{input:"rbs|personal",method:"exact match i",output:"A2048807-2888-4d93-bbd6-b06514ec8ec21"},size:2,dataElement:"%brandAndSiteArea%",defaultValueEmpty:!0}},aemAdvanceSettingsProducts:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{const{getObjectProperty:e}=tagging,t=e(digitalData,"custom.config.products")||[];return Array.isArray(t)&&t.length>0?(_satellite.logger.log("Products data retrieved from AEM Advance settings",t),t):void 0}catch(e){_satellite.logger.error("Failed in aemAdvanceSettingsProducts",e)}}}},serverName:{modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"AEMServer 6.1"}},"digitalData.user.customerType":{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.user.customerType"}},doubleClickID:{modulePath:"mapping-table/src/lib/dataElements/mappingTable.js",settings:{0:{input:"natwest|personal",method:"exact match i",output:"DC-10989366"},1:{input:"rbs|personal",method:"exact match i",output:"DC-10990334"},2:{input:"natwest|premier-banking",method:"exact match i",output:"DC-10989366"},3:{input:"rbs|premier-banking",method:"exact match i",output:"DC-10990334"},4:{input:"natwest|business",method:"exact match i",output:"DC-11048407"},5:{input:"rbs|business",method:"exact match i",output:"DC-10998479"},6:{input:"ulster ni|personal",method:"exact match i",output:"DC-10988802"},7:{input:"ulster ni|business",method:"exact match i",output:"DC-2934218"},8:{input:"natwest|intermediary-solutions",method:"exact match i",output:"DC-10989366"},size:9,dataElement:"%brandAndSiteArea%",defaultValueEmpty:!0}},extcamParam:{modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"extcam",caseInsensitive:!0}},twitterPixelID:{modulePath:"mapping-table/src/lib/dataElements/mappingTable.js",settings:{0:{input:"natwest|personal",method:"exact match i",output:"o6ah3"},1:{input:"rbs|personal",method:"exact match i",output:"o6ag4"},2:{input:"natwest|premier-banking",method:"exact match i",output:"o6ah3"},3:{input:"rbs|premier-banking",method:"exact match i",output:"o6ag4"},size:4,dataElement:"%brandAndSiteArea%",defaultValueEmpty:!0}},ffPinterest:{defaultValue:"enabled",forceLowerCase:!0,modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"pi",caseInsensitive:!0}},"digitalData.event":{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.event"}},googleCookieIds:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{if(_satellite.getVar("optanonActiveGroups").match(/C0004/)){let e=_satellite.cookie.get(),t=Object.keys(e).filter((e=>e.startsWith("_gcl"))),n="",r=t.reduce(((t,n)=>t+`${n}=${e[n]}|`),n);return r||void 0}}catch(e){_satellite.logged.log("[Data Element] Unable to return Google Cookie Ids",e)}}}},sc_c07Param:{modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"sc_c07",caseInsensitive:!0}},"digitalData.user.amountBorrowed":{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.user.amountBorrowed"}},hostName:{modulePath:"core/src/lib/dataElements/pageInfo.js",settings:{attribute:"hostname"}},dotTargetTable:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{if(_satellite.getVar("dotTarget"))return _satellite.getVar("dotTarget").topProducts}catch(e){_satellite.logger.error("Failed to get dotTarget topProducts",e)}}}},subSection3:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("pageNameCleaned");if(e)return e.split(">")[3]}catch(e){_satellite.logger.error("subSection3 failed to run",e)}}}},pinterestPageVisit:{modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"pagevisit"}},dotTargetAnalytics:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{if(_satellite.getVar("dotTarget"))return _satellite.getVar("dotTarget").analyticsTable}catch(e){_satellite.logger.error("Failed to get dotTarget analytics",e)}}}},marketingGoogleFloodlightLeadCssSelector:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{let e=`${document.location.hostname}${document.location.pathname}`,t=[{url:"www.natwest.com/banking-with-natwest/know-your-credit-score.html",cssSelector:".cta.cta-primary[title='Get your free score']"}].filter((t=>t.url===e));return t&&t.length>0?t[0].cssSelector:"faceke-selector-123"}catch(e){return _satellite.logger.error("[Data Element] Failed in marketingGoogleFloodlightLeadCssSelector",e),"faceke-selector-123"}}}},surveyAEMSettingsHotJarId:{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.custom.config.hotjar.id"}},buildDate:{modulePath:"core/src/lib/dataElements/runtimeEnvironment.js",settings:{attribute:"buildDate"}},facebookCookieIds:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{if(_satellite.getVar("optanonActiveGroups").match(/C0004/)){let e=_satellite.cookie.get(),t=Object.keys(e).filter((e=>e.startsWith("_fb"))),n="",r=t.reduce(((t,n)=>t+`${n}=${e[n]}|`),n);return r||void 0}}catch(e){_satellite.logged.log("[Data Element] Unable to return Facebook Cookie Ids",e)}}}},trackingServerUsed:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return"https:"===document.location.protocol?s.trackingServerSecure:s.trackingServer}catch(e){_satellite.logger.error("trackingServerUsed failed to run",e)}}}},cookieConsentArrayObject:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{let e=_satellite.getVar("consentSettings"),t=[];return e&&(t=e.split(",").map((e=>e.split("="))).reduce(((e,t,n)=>(e[n]={consentName:t[0],cookieValue:"1"==t[1]},e)),[])),t}catch(e){_satellite.logger.log("[Data Element] Unable to get Cookie Consent preference from data element cookieConsentArrayObject")}}}},marketingPinterestEventName:{defaultValue:"pagevisit",modulePath:"natwest-core/src/lib/dataElements/getFeatureFlagValue.js",settings:{key:"%pinterestPageVisit%"}},ffLinkedIn:{modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"enabled"}},"digitalData.page.type":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"window.digitalData.page.type"}},"digitalData.event.linkURL":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return digitalData&&digitalData.event?digitalData.event[digitalData.event.length-1].linkURL:void 0}catch(e){_satellite.logger.error("digitalData.event.linkURL failed to run",e)}}}},marketingFloodlightId:{modulePath:"natwest-core/src/lib/dataElements/mappingTable.js",settings:{mappingConfig:[{output:"%event.detail.marketingFloodlightId%",comparison:"matchesRegex",caseInsensitive:!1,matchExpression:"^[^>]*>[^>]*>((?!undefined).)+$"},{output:"DC-10989366",comparison:"startsWith",caseInsensitive:!1,matchExpression:"NatWest>"},{output:"DC-10990334",comparison:"startsWith",caseInsensitive:!1,matchExpression:"RBS>"},{output:"DC-10988802",comparison:"startsWith",caseInsensitive:!1,matchExpression:"Ulster NI>"}],baseDataElement:"%brandName%>%digitalData.site.businessArea%>%event.detail.marketingFloodlightId%"}},"digitalData.event.pageSection":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){function e(e){return!0===new RegExp(/[A-Z]{1,2}\d[A-Z\d]? ?\d[A-Z]{2}/,"i").test(e)?"PII data":e}try{let t=digitalData&&digitalData.event?digitalData.event[digitalData.event.length-1].pageSection:void 0;const n="/life-moments/managing-your-money/budget-calculator.html";return"click"==digitalData.event[digitalData.event.length-1].event&&"link"==digitalData.event[digitalData.event.length-1].type&&"Content Link"==digitalData.event[digitalData.event.length-1].name&&t.match(/Budget calculator/)&&n.indexOf(window.location.pathname)>-1?"Budget calculator":e(t)}catch(e){_satellite.logger.error("digitalData.event.pageSection failed to run",e)}}}},"digitalData.event.type":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return digitalData&&digitalData.event?digitalData.event[digitalData.event.length-1].type:void 0}catch(e){_satellite.logger.error("digitalData.event.type failed to run",e)}}}},surveyAEMSettingsHotJarSv:{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.custom.config.hotjar.sv"}},furlParam:{modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"furl",caseInsensitive:!0}},authorName:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return digitalData.page.article.author_name}catch(e){return""}}}},"digitalData.event.elementId":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return digitalData&&digitalData.event?digitalData.event[digitalData.event.length-1].elementId:void 0}catch(e){_satellite.logger.error("digitalData.event.elementId failed to run - "+e)}}}},ffSnapchat:{defaultValue:"enabled",forceLowerCase:!0,modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"sc",caseInsensitive:!0}},ccmScriptLibrary:{modulePath:"natwest-core/src/lib/dataElements/mappingTable.js",settings:{mappingConfig:[{output:"https://webserver.chatcora.natwest.com/static/ccm/",comparison:"equals",caseInsensitive:!1,matchExpression:"production"},{output:"https://ccmsitwebserver.corastaging.natwest.com/static/ccm/",comparison:"doesNotEqual",caseInsensitive:!1,matchExpression:"production"}],baseDataElement:"%launchEnvironment%"}},datastreamEventForwarding:{defaultValue:"3901b3bc-316d-4a88-a15e-2793fe92ffa1",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{const e="3901b3bc-316d-4a88-a15e-2793fe92ffa1";return{production:"d7cd154b-5140-4898-9ce1-b7da6b2af43a",staging:e,development:e}[_satellite.getVar("taggingEnvironmentStage")]}catch(e){_satellite.logger.log('[Data Element] Unable to run the data element "datastreamEventForwarding"')}}}},dotTarget:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{if(_satellite.dotTarget)return _satellite.dotTarget;var e,t="s_dt",n="."+_satellite.getVar("rootDomain"),r=parseInt((new Date).getTime()/1e3),a=1209600,o=_satellite.cookie.get(t),i=o?JSON.parse(o):{},s=_satellite.getVar("productData")?_satellite.getVar("productData").productShort:"",c=[],l={};if(l.productTable=i,void 0!==s&&""!==s&&(s in i?(i[s].f=i[s].f+1,i[s].l=r):i[s]={n:s,f:1,l:r,s:0}),0!==Object.keys(i).length||i.constructor!==Object)for(var u=Object.keys(i),d=0;d<u.length&&u[d]in i;d++){var g=r-i[u[d]].l,p=i[u[d]].f*Math.pow(g/60/60/24,-1.5);i[u[d]].s=p!==1/0?p.toFixed(2):p,(g>a||u[d].match(/no\_product/gi))&&delete i[u[d]]}for(e in(_satellite.getVar("optanonActiveGroups")||"").indexOf("C0009")>-1?_satellite.cookie.set(t,JSON.stringify(i),{expires:14,domain:n,path:"/",sameSite:"lax",secure:!0}):_satellite.logger.warn("[Data Element] dotTarget cookie not set because C0009 permission denied [dotTarget]"),i)c.push([i[e]]);if(c.sort((function(e,t){return t[0].s-e[0].s})),c.length>0)return l.currentProduct=s,l.topProducts=[],l.productTableScoreRanked=c,c.length>=1&&(l.firstProd=c[0][0].n,l.topProducts.push(l.firstProd)),c.length>=2&&(l.secondProd=c[1][0].n,l.topProducts.push(l.secondProd)),c.length>=3&&(l.thirdProd=c[2][0].n,l.topProducts.push(l.thirdProd)),l.analyticsTable="1="+(l.firstProd||"")+"|2="+(l.secondProd||"")+"|3="+(l.thirdProd||"")+"|",_satellite.dotTarget=l,l}catch(e){_satellite.logger.error("dot target error",e)}}}},trackingCode:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{const e=_satellite.getVar("extCam"),t=_satellite.getVar("intCam"),n=_satellite.getVar("olbcamParam"),r="object"==typeof n?n[n.length-1]:n;return e||t||r||""}catch(e){_satellite.logger.error("[Data Element] Failed to set Campaign (Tracking Codes)",e)}}}},aaVersion:{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"s.version"}},bounceBackLoanCtaRbsNwb:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e;return"/business/support-centre/service-status/coronavirus/manage-your-bounce-back-loan-olb.html"!=location.pathname&&"/business/support-centre/service-status/coronavirus/manage-your-bounce-back-loan-bl.html"!=location.pathname||("https://www.digitallending.apps.natwest.com/?"!=document.querySelector("a.cta.cta-primary").href&&"https://www.digitallending.apps.rbs.co.uk/?"!=document.querySelector("a.cta.cta-primary").href||(e="BBLR:Manage your loan"),"https://www.commerciallending.apps.natwest.com/?"!=document.querySelector("a.cta.cta-primary").href&&"https://www.commerciallending.apps.rbs.co.uk/?"!=document.querySelector("a.cta.cta-primary").href||(e="BBLR:Request changes")),e}catch(e){_satellite.logger.error("Data element BounceBackLoanCTA for rbs natwest failed to run - "+e)}}}},marketingFacebookIdV2:{modulePath:"natwest-core/src/lib/dataElements/mappingTable.js",settings:{mappingConfig:[{output:"%event.detail.marketingFacebookId%",comparison:"matchesRegex",caseInsensitive:!1,matchExpression:"^[^>]*>((?!undefined).)+$"},{output:"1443587282641770",comparison:"startsWith",caseInsensitive:!1,matchExpression:"NatWest>"},{output:"1146334449184351",comparison:"startsWith",caseInsensitive:!1,matchExpression:"RBS>"},{output:"182889860517737",comparison:"startsWith",caseInsensitive:!1,matchExpression:"Ulster NI>"}],baseDataElement:"%brandName%>%event.detail.marketingFacebookIdV2%"}},serverSideForwarding:{modulePath:"core/src/lib/dataElements/conditionalValue.js",settings:{comparison:{operator:"matchesRegex"},leftOperand:"%optanonActiveGroups%",rightOperand:"C0002.*C0009|C0009.*C0002",fallbackValue:1,conditionalValue:0}},analyticsXdmVariable:{modulePath:"adobe-alloy/dist/lib/dataElements/variable/index.js",settings:{cacheId:"2e52ea34-310b-4e9a-b6d6-aeb0d56db35e",dataElementId:"DEca86a7d30938489f9486635b0932df9a"}},canonicalURL:{modulePath:"core/src/lib/dataElements/domAttribute.js",settings:{elementProperty:"href",elementSelector:'link[rel="canonical"]'}},disableThirdPartyCalls:{defaultValue:"false",modulePath:"mapping-table/src/lib/dataElements/mappingTable.js",settings:{0:{input:"natwest",method:"exact match i",output:"false"},1:{input:"rbs",method:"exact match i",output:"false"},2:{input:"ulster\\s?roi",method:"regex",output:"false"},3:{input:"ulster\\s?ni",method:"regex",output:"false"},4:{input:"holts",method:"starts with",output:"false"},5:{input:"iombank",method:"exact match i",output:"true"},6:{input:"lombard ie",method:"exact match i",output:"true"},7:{input:"lombard",method:"exact match i",output:"true"},8:{input:"natwestinternational_com",method:"exact match i",output:"true"},size:9,dataElement:"%digitalData.site.brand%",defaultValueEmpty:!0}},consentSettings:{modulePath:"rbs-onetrust/src/lib/dataElements/consentsettings.js",settings:{brand:"%brandName%"}},olbcamParam:{modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"olbcam",caseInsensitive:!0}},visitorId:{modulePath:"adobe-mcid/src/lib/dataElements/ecid.js",settings:{}},digitalDataSnapshotObject:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(e){let t={};return t.digitalData=e?.detail?.snapshot||{},t}}},analyticsXdmTemplate:{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webPageDetails:{name:"%pageNameCleaned%"}},_rbs:{web:{domain:"%hostName%",pageTitle:"%pageTitle%",redirectCode:"%furlParam%"},user:{consent:{cookie:"%cookieConsentArrayObject%"},identity:{cin:"%cin10Chars%"}},metaData:{trackingServer:"%edgeDomain%",taggingEnvironment:"%taggingEnvironmentStage%",taggingContainerName:"%taggingPropertyName%",taggingBuildTimestamp:"%taggingBuildDate%",taggingTurbineVersion:"%taggingTurbineVersion%"},marketing:{promptId:"%sc_c124Param%"},integration:{googleCookieId:"%googleCookieIds%",facebookCookieId:"%facebookCookieIds%"}},commerce:{order:{currencyCode:"GBP"}}},sandbox:{name:"prod"}}},mortgageToolsFormName:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{if(digitalData&&digitalData.user&&digitalData.user.customerType){var e=digitalData.user.customerType.split(" - ");if(3===e.length)return e[2]}}catch(e){_satellite.logger.error("mortgageToolsFormName failed to run",e)}}}},intCam:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{const e=_satellite.getVar("intcamParam"),t="object"==typeof e?e[e.length-1]:e;return _satellite.getVar("applyInternalTrackingCodeFixFn",{intCam:t})}catch(e){_satellite.logger.error("[Data Element] Failed to set Internal Campaign Code",e)}}}},brandName:{defaultValue:"NatWest",modulePath:"mapping-table/src/lib/dataElements/mappingTable.js",settings:{0:{input:"natwest",method:"exact match i",output:"NatWest"},1:{input:"rbs",method:"exact match i",output:"RBS"},2:{input:"ulster\\s?roi",method:"regex",output:"Ulster ROI"},3:{input:"ulster\\s?ni",method:"regex",output:"Ulster NI"},4:{input:"holts",method:"starts with",output:"Holts"},5:{input:"iombank",method:"exact match i",output:"Isle of Man Bank"},6:{input:"lombard ie",method:"exact match i",output:"Lombard IE"},7:{input:"lombard",method:"exact match i",output:"Lombard"},8:{input:"natwestinternational_com",method:"exact match i",output:"NatWest International"},9:{input:"RBSINTERNATIONAL_COM",method:"exact match i",output:"RBS International"},10:{input:"NATWESTGROUP_COM",method:"exact match i",output:"NatWest Group"},11:{input:"NATWESTGROUPREMEMBERS_COM",method:"exact match i",output:"NatWest Remembers"},size:12,dataElement:"%digitalData.site.brand%",defaultValueEmpty:!1}},url:{modulePath:"core/src/lib/dataElements/pageInfo.js",settings:{attribute:"url"}},"digitalData.page.name":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"window.digitalData.page.name"}},"digitalData.event.track":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return digitalData&&digitalData.event?digitalData.event[digitalData.event.length-1].track:void 0}catch(e){_satellite.logger.error("digitalData.event.track failed to run",e)}}}},premierProductData:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{
const e=_satellite.getVar("canonicalURL")?_satellite.getVar("canonicalURL"):_satellite.getVar("pathName");let t;"NatWest"===_satellite.getVar("brandName")?(_satellite.logger.log("NatWest Premier Matched",e),t=[["/premier-banking/services.html","Private","Premier Banking","FIN_PLAN","","","","","","","","","","",{},"","",{},"","",{},"",{},"","","",""],["/premier-banking/products/loans.html","Private","Premier Banking","LOAN_PREM","","","","","","","","","","",{},"","",{},"","",{},"",{},"","","",""],["/investments/our-insights/2022-pension-transfer-offer.html","Private","Premier Banking","","Pensions","","","","prem","pen","lan","","","",{},"","",{},"","",{},"",{},"","","",""],["/investments/natwest-invest/social.html","Private","Investment","INV_GEN","Investments","","","","nwi2","inv","lan","","","",{},"","",{},"","",{},"",{},"","","","gt"],["PREMIER-BANKING/DISCOVER.HTML","Private","Current Account","MTA_PREM","","","","","cac","pri","lan","","","N_PREM_Discover_LAN_NEW",{type:"tagName",site:_satellite.getVar("brandName")},"","",{},"","",{},"",{},"","","","gt,fbc"],["PREMIER(-|_)SELECT(-|_)ACCOUNT.HTML","Private","Current Account","MTA_PREMSEL","Premier Select","","","","cac","zk","lan","standard","","N_MTA_PremSel_LAN",{type:"tagName",site:_satellite.getVar("brandName")},"","",{},"","",{},"",{},"","","","gt,fbc"],["PREMIER(-|_)REWARD(-|_)ACCOUNT.HTML","Private","Current Account","MTA_PREMREW","Premier Reward","","","","cac","qb","lan","standard","","N_MTA_PremRew_LAN",{type:"tagName",site:_satellite.getVar("brandName")},"","",{},"","",{},"",{},"","","","gt,fbc"],["REWARD(-|_)BLACK(-|_)ACCOUNT","Private","Current Account","MTA_REWBLK","Premier Reward Black","","","","cac","qe","lan","standard","","N_MTA_PremRewBlk_LAN",{type:"tagName",site:_satellite.getVar("brandName")},"","",{},"","",{},"",{},"","","","gt,fbc"],["PREMIER-BANKING/PRODUCTS/CURRENT-ACCOUNTS.HTML","Private","Current Account","MTA_GEN","Current Account Hub","","","","cac","pri","cat","","","N_PREM_TIMESOFFER_LAN",{type:"tagName",site:_satellite.getVar("brandName")},"","",{},"","",{},"viewcategory",{},"2613494594427","","","gt,fbc,pi"],["/INVESTMENTS/(NATWEST|ROYAL-BANK)-INVEST.HTML|/investments/invest-in-stocks-and-shares-isas-natwest-invest-2.html","Private","Investment","INV_GISA","Investments","","","","inv","nwi","lan","standard","","",{type:"tagName",site:_satellite.getVar("brandName")},"","",{},"","",{},"",{},"","","","gt,fbc"],["/investments/our-insights/2022-isa-transfer-offer.html","Private","Investment","","","","","","n_invisa","natinv01","","","","",{},"","",{},"","",{},"",{},"","","","gt"],["/_?INVESTMENTS.HTML","Private","Investment","INV_GEN","Investments","","","","inv","inv","cat","","","",{},"","",{},"","",{},"",{},"","","","gt"],["/_?INVESTMENTS/(OUR-INSIGHTS|_ARTICLE_HUB|_?PAST(-|_)FUND(-|_)PERFORMANCE)(/HABITS(-|_)OF(-|_)EXPERIENCED(-|_)INVESTORS|WHEN(-|_)IS(-|_)A(-|_)GOOD(-|_)TIME(-|_)TO(-|_)INVEST|MARKET(-|_)UPDATE|MID(-|_)YEAR(-|_)OUTLOOK)?.HTML","Private","Investment","INV_GEN","Investments","","","","inv","inv","con","","","",{},"","",{},"","",{},"",{},"","","","gt,fbp"],["/INVESTMENTS/NATWEST-INVEST/NATWEST-INVEST-REWARD.HTML","Private","Investment","INV_GEN","Investments","","","","inv","inv","rew","","","N_Inv_In_CASHBACK_LAN_NEW",{type:"tagName",site:_satellite.getVar("brandName")},"","",{},"","",{},"",{},"","","","gt,fbc"],["/INVESTMENTS/EXISTING-CUSTOMERS/CHILD_TRUST_FUND.HTML","Private","Investment","INV_GEN","","","","","inv","ctf","lan","","","",{},"","",{},"","",{},"",{},"","","","gt"],["/INVESTMENTS/JUNIOR-ISA.HTML","Private","Investment","INV_JISA","","","","","inv","jis","lan","","","",{},"","",{},"","",{},"",{},"","","","gt"],["/SAVINGS/PREMIUM-SAVER/NEXT-STEPS.HTML","Private","Savings","SAV_PS","","","","","","","","","","",{},"AGUGAB","",{},"","",{},"",{},"","","","mz"],["PREMIUM(_|-)SAVER.HTML","Private","Savings","SAV_PS","Premium Saver","","","","dep","q5","lan","standard","","",{},"","",{},"","",{},"",{},"","","","gt"],["PRIVATE/CREDIT(-|_)CARDS.HTML","Private","Credit Card","","Private Credit Cards","","","","","","","","","",{},"","",{},"","",{},"",{},"","","","none"],["PRIVATE/BECOME-A-PRIVATE-CUSTOMER/GET-STARTED.HTML","Private","Current Account","","","","","","cac","pri","con","","","",{},"","",{},"","",{},"",{},"","","","gt"],["/PREMIER-BANKING/PRODUCTS/CURRENT-ACCOUNTS/SWITCH-YOUR-BANK-ACCOUNT-TO-NATWEST-PREMIER.HTML","Private","Current Account","","","","","","cac","pri","swi","","","N_PREM_HOMEPAGE_LAN_NEW",{type:"tagName",site:_satellite.getVar("brandName")},"","",{},"","",{},"",{},"","","","gt,fbc"],["PREMIER-BANKING/PRODUCTS/INVESTMENTS.HTML","Private","Investment","INV_GEN","Investments","","","","inv","inv","cat","","","",{},"","",{},"","",{},"",{},"","","","gt"],["PRIVATE/LOANS.HTML","Private","Loan","PRVL","Private Loans","","","","","","","","","",{},"","",{},"","",{},"",{},"","","","none"],["PREMIER-BANKING/PRODUCTS/MORTGAGES.HTML","Private","Mortgage","MOR_GEN","Mortgages","","","","","","","","","",{},"","",{},"","",{},"",{},"","","","none"],["PREMIER-BANKING.HTML","Private","Premier Banking","","","","","","hom","pri","lan","","","",{},"","",{},"","",{},"",{},"","","","gt"],["PREMIER-BANKING/PRODUCTS.HTML","Private","Premier Banking","","","","","","pri","pri","cat","","","N_PREM_ProductHub_LAN",{type:"tagName",site:_satellite.getVar("brandName")},"","",{},"","",{},"",{},"","","","gt,fbc"],["PREMIER-BANKING/SERVICES/PREMIER-BANKING-MANAGER.HTML","Private","Premier Banking","","","","","","","","","","","",{},"","",{},"","",{},"",{},"","","","none"],["PREMIER-BANKING/HOME.HTML","Private","Premier Banking","","","","","","hom","pri","lan","","","",{},"8H3BNY","",{},"","",{},"",{},"","","","gt,mz"],["PREMIER-BANKING/PRODUCTS/SAVING.HTML","Private","Savings","SAV_GEN","Savings Hub","","","","","","","","","",{},"","",{},"","",{},"",{},"","","","none"],["/premier-banking/products/insurance","Private","Insurance","INS_GEN","","","","","","","","","","",{},"","",{},"","",{},"",{},"","","",""],["/premier-banking","Private","Premier Banking","MTA_PREM","","","","","","","","","","",{},"","",{},"","",{},"",{},"","","",""],["/investments","Private","Investment","INV_GEN","","","","","","","","","","",{},"","",{},"","",{},"",{},"","","",""]]):"RBS"===_satellite.getVar("brandName")?(_satellite.logger.log("RBS Premier Matched",e),t=[["/premier-banking/services.html","Private","Premier Banking","FIN_PLAN","","","","","","","","","","",{},"","",{},"","",{},"",{},"","","",""],["/investments/our-insights/2022-pension-transfer-offer.html","Private","Premier Banking","","Pensions","","","","prem","pen","lan","","","",{},"","",{},"","",{},"",{},"","","",""],["PREMIER-BANKING/DISCOVER.HTML","Private","Current Account","MTA_PREM","","","","","cac","pri","lan","","","R_PREM_Discover_LAN_NEW",{type:"tagName",site:_satellite.getVar("brandName")},"","",{},"","",{},"",{},"","","","gt,fbc"],["PREMIER(-|_)SELECT(-|_)ACCOUNT.HTML","Private","Current Account","MTA_PREMSEL","Premier Select","","","","cac","zk","lan","standard","","R_MTA_PremSel_LAN",{type:"tagName",site:_satellite.getVar("brandName")},"","",{},"","",{},"",{},"","","","gt,fbc"],["PREMIER(-|_)REWARD(-|_)ACCOUNT.HTML","Private","Current Account","MTA_PREMREW","Premier Reward","","","","cac","qb","lan","standard","","R_MTA_PremRew_LAN",{type:"tagName",site:_satellite.getVar("brandName")},"","",{},"","",{},"",{},"","","","gt,fbc"],["REWARD(-|_)BLACK(-|_)ACCOUNT","Private","Current Account","MTA_REWBLK","Premier Reward Black","","","","cac","qe","lan","standard","","R_MTA_PremRewBlk_LAN",{type:"tagName",site:_satellite.getVar("brandName")},"","",{},"","",{},"",{},"","","","gt,fbc"],["PREMIER-BANKING/PRODUCTS/CURRENT-ACCOUNTS.HTML","Private","Current Account","MTA_GEN","Current Account Hub","","","","cac","pri","cat","","","",{},"","",{},"","",{},"",{},"","","",""],["/INVESTMENTS/(NATWEST|ROYAL-BANK)-INVEST.HTML|/investments/should-i-save-or-invest.html","Private","Investment","INV_GISA","Investments","","","","inv","nwi","lan","standard","","R_Inv_In_LAN_NEW",{type:"tagName",site:_satellite.getVar("brandName")},"","",{},"","",{},"",{},"","","","gt,fbc"],["/investments/our-insights/2022-isa-transfer-offer.html","Private","Investment","","","","","","r_invisa","rbinv01","","","","",{},"","",{},"","",{},"",{},"","","","gt"],["/_?INVESTMENTS.HTML","Private","Investment","INV_GEN","Investments","","","","inv","inv","cat","","","",{},"","",{},"","",{},"",{},"","","","gt"],["/_?INVESTMENTS/(OUR-INSIGHTS|_ARTICLE_HUB|_?PAST(-|_)FUND(-|_)PERFORMANCE)(/HABITS(-|_)OF(-|_)EXPERIENCED(-|_)INVESTORS|WHEN(-|_)IS(-|_)A(-|_)GOOD(-|_)TIME(-|_)TO(-|_)INVEST|MARKET(-|_)UPDATE|MID(-|_)YEAR(-|_)OUTLOOK)?.HTML","Private","Investment","INV_GEN","Investments","","","","inv","inv","con","","","",{},"","",{},"","",{},"",{},"","","","gt,fbp"],["/INVESTMENTS/EXISTING-CUSTOMERS/CHILD_TRUST_FUND.HTML","Private","Investment","INV_GEN","","","","","inv","ctf","lan","","","",{},"","",{},"","",{},"",{},"","","","gt"],["/INVESTMENTS/JUNIOR-ISA.HTML","Private","Investment","INV_JISA","","","","","inv","jis","lan","","","",{},"","",{},"","",{},"",{},"","","","gt"],["PREMIUM(_|-)SAVER.HTML","Private","Savings","SAV_PS","Premium Saver","","","","dep","q5","lan","standard","","",{},"","",{},"","",{},"",{},"","","","gt"],["PRIVATE/BECOME-A-PRIVATE-CUSTOMER/GET-STARTED.HTML","Private","Current Account","","","","","","cac","pri","con","","","",{},"","",{},"","",{},"",{},"","","","gt"],["PREMIER-BANKING/PRODUCTS/CURRENT-ACCOUNTS.HTML","Private","Current Account","","","","","","cac","pri","cat","","","R_PREM_TIMESOFFER_LAN",{type:"tagName",site:_satellite.getVar("brandName")},"","",{},"","",{},"",{},"","","","gt,fbc"],["/PREMIER-BANKING/PRODUCTS/CURRENT-ACCOUNTS/SWITCH-YOUR-BANK-ACCOUNT-TO-NATWEST-PREMIER.HTML","Private","Current Account","","","","","","cac","pri","swi","","","",{type:"tagName",site:_satellite.getVar("brandName")},"","",{},"","",{},"",{},"","","","gt,fbc"],["PREMIER-BANKING/PRODUCTS/INVESTMENTS.HTML","Private","Investment","INV_GEN","Investments","","","","inv","inv","cat","","","",{},"","",{},"","",{},"",{},"","","","gt"],["PREMIER-BANKING/PRODUCTS/MORTGAGES.HTML","Private","Mortgage","MOR_GEN","Mortgages","","","","","","","","","",{},"","",{},"","",{},"",{},"","","","none"],["PREMIER-BANKING.HTML","Private","Premier Banking","","","","","","hom","pri","lan","","","",{},"","",{},"","",{},"",{},"","","","gt"],["PREMIER-BANKING/PRODUCTS.HTML","Private","Premier Banking","","","","","","pri","pri","cat","","","R_PREM_ProductHub_LAN",{type:"tagName",site:_satellite.getVar("brandName")},"","",{},"","",{},"",{},"","","","gt,fbc"],["PREMIER-BANKING/SERVICES/PREMIER-BANKING-MANAGER.HTML","Private","Premier Banking","","","","","","","","","","","",{},"","",{},"","",{},"",{},"","","","none"],["PREMIER-BANKING/HOME.HTML","Private","Premier Banking","","","","","","hom","pri","lan","","","",{},"8H3BNY","",{},"","",{},"",{},"","","","gt,mz"],["PREMIER-BANKING/PRODUCTS/SAVING.HTML","Private","Savings","SAV_GEN","Savings Hub","","","","","","","","","",{},"","",{},"","",{},"",{},"","","","none"],["/investments","Private","Investment","INV_GEN","","","","","","","","","","",{},"","",{},"","",{},"",{},"","","",""],["/premier-banking/products/insurance","Private","Insurance","INS_GEN","","","","","","","","","","",{},"","",{},"","",{},"",{},"","","",""],["/premier-banking","Private","Premier Banking","MTA_PREM","","","","","","","","","","",{},"","",{},"","",{},"",{},"","","",""]]):"Ulster NI"===_satellite.getVar("brandName")?(_satellite.logger.log("UBN Premier Matched",e),t=[["/PRIVATE-BANKING/PRIVATE-CURRENT-ACCOUNT.HTML","Private","Current Account","MTA_PREM","Private Current Account","","","","cac","p2","lan","","","",{},"","",{},"","",{},"",{},"","","","gt"],["/PRIVATE-BANKING/UFIRST-PRIVATE-ACCOUNT.HTML","Private","Current Account","MTA_PREMUFIRST","ufirst Private Current Account","","","","cac","p1","lan","","","",{},"","",{},"","",{},"",{},"","","","gt"]]):"Ulster ROI"===_satellite.getVar("brandName")?(_satellite.logger.log("UBR Premier Matched",e),t=[["/PRIVATE-BANKING/PRIVATE-CURRENT-ACCOUNT.HTML","Private","Current Account","","Private Current Account","","","","lan_roi","","cac_p2","","","",{},"","",{},"","",{},"",{},"","","","gt"]]):(_satellite.logger.warn("Brand not supported in product database - no variables will be set"),t=[]);for(let n=0;n<t.length;n++){if(new RegExp(t[n][0],"gi").test(e))return _satellite.logger.log("Premier Match Found",t[n][0]),{productArea:t[n][1],productCategory:t[n][2],productShort:t[n][3],productName:t[n][4],toolName:t[n][5],formName:t[n][6],analyticsEvents:t[n][7],categoryCode:t[n][8],productCode:t[n][9],pageType:t[n][10],gtagCountType:t[n][11],gtagAllowCustom:t[n][12],facebookCustomEventName:t[n][13],facebookCustomEventArray:t[n][14],maritzCode:t[n][15],snapchatCustomEventName:t[n][16],snapchatCustomEventArray:t[n][17],snapchatPixelID:t[n][18],twitterCustomEventName:t[n][19],twitterCustomEventArray:t[n][20],pinterestCustomEventName:t[n][21],pinterestCustomEventArray:t[n][22],pinterestPixelID:t[n][23],adWordsEvent:t[n][24],adwordsPixelID:t[n][25],tracking:t[n][26]};_satellite.logger.log("Premier No match found")}}catch(e){_satellite.logger.error("Premier productData failed to run",e)}}}},linkedinPixelID:{modulePath:"mapping-table/src/lib/dataElements/mappingTable.js",settings:{0:{input:"rbs|business",method:"exact match i",output:"3836441"},1:{input:"natwest|business",method:"exact match i",output:"3836145"},2:{input:"natwest|intermediary-solutions",method:"exact match i",output:"4354689"},3:{input:"Natwest|Personal",method:"exact match i",output:"4354689"},size:4,dataElement:"%brandAndSiteArea%",defaultValueEmpty:!0}},lpVal:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e,t=window.lpGlob.unit;return t&&(e=t.match("natwest-afb|rbs-afb")?"business-sales":t.match("rbs-chargeback|natwest-chargeback")?"personal-chargeback":t.match("natwest-complaints|rbs-complaints")?"personal-complaints":t.match("rbs-business-complaints|natwest-business-complaints")?"business-complaints":t.match("natwest-mortgages-mcc")?"personal-mortgage-natwest":t.match("rbs-mortgages-mcc")?"personal-mortgage-rbs":t.match("natwest-mortgages|rbs-mortgages")?"personal-mortgage":t.match("natwest-pb-appointmentbooking|rbs-pb-appointmentbooking")?"personal-private":t.match("natwest-creditcards|natwest-loans|natwest-savings|rbs-creditcards|natwest-currentaccounts|rbs-currentaccounts|rbs-loans|rbs-savings|-sales|-product")?"personal-sales":t.match("natwest-cashbackplus|rbs-cashbackplus|ulsternorth-service|ulster-service")?"personal-service":t.match("natwest-social|rbs-social")||t.match("ulsternorth-social|ulster-social")?"personal-social":t.match("natwest-tax-operations|rbs-tax-operations")?"personal-taxoperations":t.match("natwest-bereavement|rbs-bereavement")?"personal-bereavement":t.match("natwest-powerofattorney|rbs-powerofattorney")?"personal-powerofattorney":t),e}catch(e){_satellite.logger.error("lpVal failed to run",e)}}}},optanonDefaultConsent:{defaultValue:",C0001,",modulePath:"mapping-table/src/lib/dataElements/mappingTable.js",settings:{0:{input:"natwest",method:"exact match i",output:",C0001,"},1:{input:"rbs",method:"exact match i",output:",C0001,"},2:{input:"ulster\\s?roi",method:"regex",output:",C0001,"},3:{input:"ulster\\s?ni",method:"regex",output:",C0001,"},4:{input:"holts",method:"starts with",output:",C0001,"},5:{input:"iombank",method:"exact match i",output:",C0001,"},6:{input:"natwestinternational_com",method:"exact match i",output:",C0001,"},7:{input:"NATWESTGROUP_COM",method:"exact match i",output:",C0001,"},8:{input:"NATWESTGROUPREMEMBERS_COM",method:"exact match i",output:",C0001,"},size:9,dataElement:"%digitalData.site.brand%",defaultValueEmpty:!0}},taggingPropertyName:{modulePath:"core/src/lib/dataElements/runtimeEnvironment.js",settings:{attribute:"propertyName"}},BounceBackLoanCTAUlster:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e;return"/business/support/service-status/coronavirus/manage-your-bounce-back-loan-bl.html"!=location.pathname&&"/business/support/service-status/coronavirus/manage-your-bounce-back-loan-olb.html"!=location.pathname&&"/business/loans-and-finance/term-finance-responsive-build-area/manage-your-bounce-back-loan-olb.html"!=location.pathname&&"/business/loans-and-finance/term-finance-responsive-build-area/manage-your-bounce-back-loan-bl.html"!=location.pathname||("https://www.digitallending.apps.ulsterbank.co.uk/?"==document.querySelector("a.cta.cta-primary").href&&(e="BBLR:Manage your loan"),"https://www.commerciallending.apps.ulsterbank.co.uk/?"==document.querySelector("a.cta.cta-primary").href&&(e="BBLR:Request changes")),e}catch(e){_satellite.logger.error("Data element BounceBackLoanCTA for ulster failed to run - "+e)}}}},marketingPinterestPage:{defaultValue:"page",modulePath:"natwest-core/src/lib/dataElements/getFeatureFlagValue.js",settings:{key:"%pinterestPage%"}},publishedDate:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return digitalData.page.article.published_date}catch(e){return""}}}},pinterestPage:{modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"page"}},featureFlagSurveyPreview:{modulePath:"natwest-core/src/lib/dataElements/getFeatureFlagValue.js",settings:{key:"surveyPreview"}},productDetailsV2:{modulePath:"natwest-core/src/lib/dataElements/mappingTable.js",settings:{mappingConfig:[{output:'{"id":"XK","name":"Reward Credit Card","category":{"code":"CC1","name":"Credit Card"}}',comparison:"equals",caseInsensitive:!1,matchExpression:"/credit-cards/reward-credit-card.html"},{output:'{"id":"XL","name":"The Brand Credit Card","category":{"code":"CC1","name":"Credit Card"}}',comparison:"matchesRegex",caseInsensitive:!0,matchExpression:"/credit-cards/(the-natwest-credit-card|the-royal-bank-credit-card)\\.html"},{output:'{"id":"XA","name":"Balance Transfer Credit Card","category":{"code":"CC1","name":"Credit Card"}}',comparison:"equals",caseInsensitive:!1,matchExpression:"/credit-cards/balance-transfer-credit-card.html"},{output:'{"id":"XM","name":"Longer Balance Transfer Card","category":{"code":"CC1","name":"Credit Card"}}',comparison:"equals",caseInsensitive:!1,matchExpression:"/credit-cards/longer-balance-transfer.html"},{output:'{"id":"XN","name":"Purchase & Balance Transfer Card","category":{"code":"CC1","name":"Credit Card"}}',comparison:"equals",caseInsensitive:!1,matchExpression:"/credit-cards/purchase-and-balance-transfer.html"},{output:'{"id":"XI","name":"Reward Black Credit Card","category":{"code":"CC1","name":"Credit Card"}}',comparison:"equals",caseInsensitive:!1,matchExpression:"/credit-cards/reward-black-credit-card.html"},{output:'{"id":"XO","name":"Buy Now Pay Later","category":{"code":"CC1","name":"Credit Card"}}',comparison:"equals",caseInsensitive:!1,matchExpression:"/buy-now-pay-later.html"},{output:'{"id":"MA","name":"Fixed Term Savings Account","category":{"code":"DEP","name":"Deposit"}}',comparison:"equals",caseInsensitive:!1,matchExpression:"/savings/fixed-term-savings-account.html"},{output:'{"id":"X6","name":"Loyalty Saver","category":{"code":"DEP","name":"Deposit"}}',comparison:"equals",caseInsensitive:!1,matchExpression:"/savings/instant-access-accounts/loyalty-saver/Loyalty-Saver2-savings-ulsterbank.html"},{output:'{"id":"XS","name":"Travel Reward Credit Card","category":{"code":"CC1","name":"Credit Card"}}',comparison:"equals",caseInsensitive:!1,matchExpression:"/credit-cards/travel-reward-credit-card.html"},{output:'{"id":"LAN","name":"Landing","category":{"code":"LAN","name":"Landing"}}',comparison:"matchesRegex",caseInsensitive:!1,matchExpression:".*"}],baseDataElement:"%pathName%"}},surveyHotjarSv:{modulePath:"natwest-core/src/lib/dataElements/mappingTable.js",settings:{mappingConfig:[{output:"%event.detail.surveyHotjarSv%",comparison:"matchesRegex",caseInsensitive:!1,matchExpression:"^[^>]*>[^>]*>((?!undefined).)+$"},{output:"%surveyAEMSettingsHotJarSv%",comparison:"matchesRegex",caseInsensitive:!1,matchExpression:"^[^>]*>((?!undefined).)+>"},{output:"6",comparison:"matchesRegex",caseInsensitive:!1,matchExpression:"[^>]*applying-for-a-mortgage[^>]*>"},{output:"6",comparison:"matchesRegex",caseInsensitive:!1,matchExpression:"[^>]*businessbuilder[^>]*>"},{output:"6",comparison:"matchesRegex",caseInsensitive:!1,matchExpression:"[^>]*ways-to-borrow[^>]*>"},{output:"6",comparison:"matchesRegex",caseInsensitive:!1,matchExpression:"/current-accounts/overdrafts.html"},{output:"6",comparison:"matchesRegex",caseInsensitive:!1,matchExpression:"/current-accounts/overdrafts/olb/overdraft-calculator.html"},{output:"6",comparison:"matchesRegex",caseInsensitive:!1,matchExpression:"[^>]*support-for-rising-costs[^>]*>"},{output:"6",comparison:"matchesRegex",caseInsensitive:!1,matchExpression:"/business/green-banking/carbon-planner.html"},{output:"6",comparison:"matchesRegex",caseInsensitive:!1,matchExpression:"/business.html"},{output:"6",comparison:"matchesRegex",caseInsensitive:!1,matchExpression:"/mortgages/first-time-buyers.html"},{output:"6",comparison:"matchesRegex",caseInsensitive:!1,matchExpression:"/mortgages/remortgage-to-natwest.html"},{output:"6",comparison:"matchesRegex",caseInsensitive:!1,matchExpression:"/mortgages/moving-home.html"},{output:"6",comparison:"matchesRegex",caseInsensitive:!1,matchExpression:"/mortgages/applying-for-a-mortgage/mortgage-agreement-in-principle.html"},{output:"6",comparison:"matchesRegex",caseInsensitive:!1,matchExpression:"/mortgages/buy-to-let.html"},{output:"6",comparison:"matchesRegex",caseInsensitive:!1,matchExpression:"/mortgages/remortgage-to-natwest/remortgage-guide.html"},{output:"6",comparison:"matchesRegex",caseInsensitive:!1,matchExpression:"/current-accounts/existing-customers/student-account.html"},{output:"6",comparison:"matchesRegex",caseInsensitive:!1,matchExpression:"/current-accounts/existing-customers/graduate-account.html"},{output:"6",comparison:"matchesRegex",caseInsensitive:!1,matchExpression:"/know-your-credit-score.html"},{output:"6",comparison:"matchesRegex",caseInsensitive:!1,matchExpression:"/search-results.html"},{output:"6",comparison:"matchesRegex",caseInsensitive:!1,matchExpression:"/savings.html"},{output:"6",comparison:"matchesRegex",caseInsensitive:!1,matchExpression:"/savings/fixed-term-savings-account.html"},{output:"6",comparison:"matchesRegex",caseInsensitive:!1,matchExpression:"/savings/isa-overview/fixed-isa.html"},{output:"6",comparison:"matchesRegex",caseInsensitive:!1,matchExpression:"/mortgages/existing-customers.html"},{output:"6",comparison:"matchesRegex",caseInsensitive:!1,matchExpression:"/current-accounts/overdrafts/existing-customers.html"},{output:"6",comparison:"matchesRegex",caseInsensitive:!1,matchExpression:"/investments/natwest-invest.html"},{output:"6",comparison:"matchesRegex",caseInsensitive:!1,matchExpression:"/borrowing-needs/borrowing-needs-tool.html"},{output:"6",comparison:"matchesRegex",caseInsensitive:!1,matchExpression:"/investments.html"},{output:"6",comparison:"matchesRegex",caseInsensitive:!1,matchExpression:"/investments/pensions.html"},{output:"6",comparison:"matchesRegex",caseInsensitive:!1,matchExpression:"/investments/junior-isa.html"},{output:"6",comparison:"matchesRegex",caseInsensitive:!1,matchExpression:"/investments/five-ready-made-funds.html"},{output:"6",comparison:"matchesRegex",caseInsensitive:!1,matchExpression:"/investments/existing-customers/personal-portfolio-funds.html"},{output:"6",comparison:"matchesRegex",caseInsensitive:!1,matchExpression:"/investments/our-insights.html"}],baseDataElement:"%pathName%>%surveyAEMSettingsHotJarSv%>%event.detail.surveyHotjarSv%"}},trackingServer:{defaultValue:"royalbankofscotland.d3.sc.omtrdc.net",storageDuration:"pageview",modulePath:"mapping-table/src/lib/dataElements/mappingTable.js",settings:{0:{input:"natwest",method:"exact match i",output:"nsc.natwest.com"},1:{input:"rbs",method:"exact match i",output:"nsc.rbs.co.uk"},2:{input:"ulster\\s?roi",method:"regex",output:"nsc.ulsterbank.ie"},3:{input:"ulster\\s?ni",method:"regex",output:"nsc.ulsterbank.co.uk"},4:{input:"holts",method:"starts with",output:"nsc.holtsmilitarybank.co.uk"},5:{input:"iombank",method:"exact match i",output:"nsc.iombank.com"},6:{input:"natwestinternational_com",method:"exact match i",output:"nsc.natwestinternational.com"},7:{input:"NATWESTGROUP_COM",method:"exact match i",output:"nsc.natwestgroup.com"},8:{input:"NATWESTGROUPREMEMBERS_COM",method:"exact match i",output:"nsc.natwestgroupremembers.com"},9:{input:"lombard",method:"exact match i",output:"sc.lombard.co.uk"},size:10,dataElement:"%digitalData.site.brand%",defaultValueEmpty:!0}},subSection2:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("pageNameCleaned");if(e)return e.split(">")[2]}catch(e){_satellite.logger.error("subSection2 failed to run",e)}}}}},extensions:{"natwest-auto-tagging":{displayName:"NatWest Auto Tagging",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EPf053c996d40649deb5f34fd0eff7cc66/",settings:{source:function(){},processing:{auto:!0,tasks:["oneTrustCategoriesChanged","webSdkAnalyticsPageView","webSdkLinkTracking","facebookv2","marketingEventForwarding","hotjar"]},dataLayerRoot:"%rootDataLayer%"},modules:{"natwest-auto-tagging/src/lib/conditions/stackedConditions.js":{name:"stacked-conditions",displayName:"Stacked Conditions",script:function(e,t,n,r){"use strict";var a=r.getSharedModule("natwest-core","comparison");e.exports=function(e,t){try{for(var n=e.mappingConfig,o=0;o<n.length;o++){var i=n[o];if(!a.valueComparison(i.comparison,i.valueToEvaluate,i.matchExpression,i.caseInsensitive))return r.logger.log("Stacked Condition for",t.$rule.name,"not met for index",o," and condition",i),!1}return!0}catch(e){return r.logger.error("Failed in Stacked condition",e),!1}}}},"natwest-auto-tagging/src/lib/sharedModules/completeTask.js":{name:"complete-task",shared:!0,script:function(e,t,n,r){"use strict";e.exports=function(e){try{r.logger.error("[DEPRECIATED] complete-task shared module from auto-tagging extension is now depreciated, please remove from your code.")}catch(t){r.logger.error("[DEPRECIATED] Failed to complete task "+e+" -- "+t)}}}},"natwest-auto-tagging/src/lib/main/extensionMain.js":{script:function(e,t,n,r){"use strict";var a=n("@adobe/reactor-window"),o=r.getSharedModule("natwest-core","set-object-property"),i=r.getSharedModule("natwest-core","get-object-property"),s=n("../../helpers/applicationLifecycle"),c=n("../../helpers/constants"),l=n("../../helpers/depreciated/notifyTaskCompletion"),u=n("../../helpers/autoTagging");try{var d=r.getExtensionSettings()||{};r.logger.info("Initializing NatWest auto-tagging extension with settings",d),void 0===o&&r.logger.error("NatWest Core extension is required for NatWest Auto-Tagging extension to function correctly!");var g=i(a,c.DIGITAL_DATA_EVENTS_ARRAY);d.processing.auto&&!g&&(r.logger.info("Creating the digitalData events array as not yet initialized"),o(c.DIGITAL_DATA_EVENTS_ARRAY,[])),o(c.PROCESSING_QUEUE,[]),o(c.PROCESSING_RUNNING,!1),o(c.PROCESSING_CURRENT_ITEM,{}),o(c.PROCESSING_CURRENT_TASKS,0),o(c.PROCESSING_WAIT_RUNNING,!1),o(c.PROCESSING_WAIT_COMPLETE,!1),o(c.PROCESSING_NOTIFICATIONS,[]),o(c.APPLICATION_DETAILS,{}),o(c.TAGGING_FEATURES,{}),o(c.TAGGING_LOGS,[]),o(c.TAGGING_HELPERS_APPLICATION_LIFECYCLE,s),o(c.TAGGING_HELPERS_SET_TASK_COMPLETE_FLAG,l),u()}catch(e){r.logger.error("Failures in NatWest auto-tagging main -- "+e)}}},"natwest-auto-tagging/src/helpers/applicationLifecycle.js":{script:function(e,t,n,r){"use strict";var a=r.getSharedModule("natwest-core","set-object-property"),o=r.getSharedModule("natwest-core","get-object-property"),i=n("./constants"),s=function(e,t,n){if(e){var r=i.APPLICATION_DETAILS+"."+e+".logs";o(window,r)||a(r,[]),o(window,r).push(t+":"+n)}},c=function(e,t,n){var r=i.APPLICATION_DETAILS+"."+e+".logs",a=o(window,r);return e&&a&&a.indexOf(t+":"+n)>-1};e.exports={updateApplicationTrackingLifecycle:s,checkApplicationTrackingLifecycle:c}}},"natwest-auto-tagging/src/helpers/constants.js":{script:function(e,t,n){"use strict";var r=n("./getDataLayerRoot");e.exports={EXTENSION_NAME:"NatWest Auto Tagging",PUSH_OVERWRITTEN:"tagging.flags.digitalDataEventsEventified",ANALYTICS_LINK_TRACK_VARS:"tagging.features.analytics.linkTrackVars",ANALYTICS_LINK_TRACK_EVENTS:"tagging.features.analytics.linkTrackEvents",ANALYTICS_LINK_NAME:"tagging.features.analytics.linkName",ANALYTICS_LINK_TYPE:"tagging.features.analytics.linkType",ANALYTICS_ATTRIBUTES:"tagging.features.analytics.attributes",ANALYTICS_DOPLUGINS:"tagging.analytics.doPlugins",PROCESSING_QUEUE:"tagging.processing.queue",PROCESSING_RUNNING:"tagging.processing.running",PROCESSING_TIMEOUT_RUNNING:"tagging.processing.timeout.running",PROCESSING_TIMEOUT_REFERENCE:"tagging.processing.timeout.reference",PROCESSING_TIMEOUT_WAIT_TIME:"tagging.processing.timeout.wait.time",PROCESSING_CURRENT_ITEM:"tagging.processing.current.item",PROCESSING_CURRENT_TASKS:"tagging.processing.current.tasks",PROCESSING_WAIT_RUNNING:"tagging.processing.wait.running",PROCESSING_WAIT_COMPLETE:"tagging.processing.wait.complete",PROCESSING_NOTIFICATIONS:"tagging.processing.notifications",APPLICATION_DETAILS:"tagging.applications.details",APPLICATION_CURRENT:"tagging.applications.current",TAGGING_FEATURES:"tagging.features",TAGGING_LOGS:"tagging.logs",DIGITAL_DATA_EVENTS_ARRAY:`${r()}.events`,TASK_START:"TASK_START",TASK_COMPLETE:"TASK_COMPLETE",PROCESSING_START:"PROCESSING_START",PROCESSING_COMPLETE:"PROCESSING_COMPLETE",INITIAL_WAIT:1e3,TAGGING_HELPERS_SET_TASK_COMPLETE_FLAG:"tagging.helpers.setTaskCompleteFlag",TAGGING_HELPERS_APPLICATION_LIFECYCLE:"tagging.helpers.applicationLifecycle",APPLICATION_ID:"application.id",APPLICATION_START:"application.start",APPLICATION_END:"application.end",APPLICATION_INPROGRESS:"application.inProgress",DL_VERSION:"version",DL_PRODUCTS:"products",DL_PRODUCTS_ITEM_ID:"id",DL_PRODUCTS_ITEM_NAME:"name",DL_PRODUCTS_ITEM_BANK:"bank",DL_PRODUCTS_ITEM_POSITION:"position",DL_PRODUCTS_ITEM_DETAILS:"details",DL_PRODUCTS_ITEM_CONTACTS_PHONE:"contacts.phone",DL_PRODUCTS_ITEM_CONTACTS_ONLINE:"contacts.online",DL_PRODUCTS_ITEM_CATEGORY_NAME:"category.name",DL_PRODUCTS_ITEM_CATEGORY_CODE:"category.code",DL_SEARCH:"search",DL_SEARCH_RESULTS_TOTAL:"search.results.total",DL_SEARCH_FILTERS_BANKS:"search.filters.banks",DL_SEARCH_FILTERS_BANKS_ITEM_NAME:"name",DL_SEARCH_FILTERS_FEATURES:"search.filters.features",DL_SEARCH_FILTERS_FEATURES_ITEM_NAME:"name",DL_SEARCH_FILTERS_FEATURES_ITEM_CATEGORY:"category",DL_SEARCH_FILTERS_SORT:"search.filters.sort",DL_SEARCH_FILTERS_TERM:"search.filters.term",DL_SITE_BRAND:"site.brand",DL_SITE_SECTION:"site.section",DL_SITE_CHANNEL:"site.channel",DL_SITE_BUSINESS_AREA:"site.business.area",DL_PAGE_NAME:"page.name",DL_PAGE_URL:"page.url",DL_PAGE_PREVIOUS_NAME:"page.previous.name",DL_PAGE_PREVIOUS_URL:"page.previous.url",DL_PAGE_QUERY_STRING:"page.query.string",DL_PAGE_QUERY_PARAMETERS:"page.query.parameters",DL_PAGE_QUERY_PARAMETERS_ITEM_NAME:"name",DL_PAGE_QUERY_PARAMETERS_ITEM_VALUE:"value",DL_PAGE_FRAGMENTS:"page.fragments",DL_PAGE_TYPE:"page.type",DL_EVENTS:"events",DL_EVENTS_ITEM_PAGE_SECTION:"pageSection",DL_EVENTS_ITEM_TARGET:"target",DL_EVENTS_ITEM_PHASE:"phase",DL_EVENTS_ITEM_TRACK:"track",DL_EVENTS_ITEM_DELAY:"delay",DL_EVENTS_ITEM_TIMESTAMP:"timeStamp",DL_EVENTS_ITEM_PRODUCTID:"productId",DL_EVENTS_ITEM_ELEMENT:"element",DL_EVENTS_ITEM_ELEMENT_ID:"element.id",DL_EVENTS_ITEM_ELEMENT_CLASSNAME:"element.className",DL_EVENTS_ITEM_ELEMENT_VALUE:"element.value",DL_EVENTS_ITEM_ELEMENT_TYPE:"element.type",DL_EVENTS_ITEM_ELEMENT_CATEGORY:"element.category",DL_EVENTS_ITEM_ELEMENT_LINK:"element.link",DL_EVENTS_ITEM_ELEMENT_LINK_DESTINATION:"element.link.destination",DL_EVENTS_ITEM_ELEMENT_LINK_URL:"element.link.url",DL_FEATUREFLAGS:"featureFlags",DL_FEATUREFLAGS_OVERWRITE:"featureFlags.overWrite",DL_SERVER_NAME:"server.name",DL_SERVER_VERSION:"server.version",DL_APPLICATION_ID:"application.id",DL_APPLICATION_NAME:"application.name",DL_APPLICATION_TYPE:"application.type",DL_APPLICATION_STATUS_DECISION:"application.status.decision",DL_APPLICATION_STATUS_CODE:"application.status.code",DL_APPLICATION_STATUS_PHASE:"application.status.phase",DL_APPLICATION_STATUS_REASONS_ERROR:"application.status.reasons.error",DL_APPLICATION_STATUS_REASONS_DECLINE:"application.status.reasons.decline",DL_APPLICATION_STATUS_REASONS_EXIT:"application.status.reasons.exit",DL_APPLICATION_STATUS_REASONS_PENDING:"application.status.reasons.pending",
DL_APPLICATION_TIME_STARTEDAT:"application.time.startedAt",DL_APPLICATION_TIME_COMPLETEDAT:"application.time.completedAt",DL_APPLICATION_TIME_DURATION:"application.time.duration",DL_APPLICATION_SCOPE:"application.scope",DL_APPLICATION_END:"application.end",DL_APPLICATION_START:"application.start",DL_APPLICATION_INPROGRESS:"application.inProgress",DL_APPLICATION_PRODUCT_ENTRY_ID:"application.product.entry.id",DL_APPLICATION_PRODUCT_ENTRY_NAME:"application.product.entry.name",DL_APPLICATION_PRODUCT_CURRENT_ID:"application.product.current.id",DL_APPLICATION_PRODUCT_CURRENT_NAME:"application.product.current.name",DL_APPLICATION_USER_TAX_COUNTRY_PRIMARY:"application.user.tax.country.primary",DL_APPLICATION_USER_TAX_COUNTRY_OTHER:"application.user.tax.country.other",DL_APPLICATION_USER_NATIONALITY_PRIMARY:"application.user.nationality.primary",DL_APPLICATION_USER_NATIONALITY_OTHER:"application.user.nationality.other",DL_APPLICATION_USER_ADDRESS_TYPE:"application.user.address.type",DL_APPLICATION_QUOTE_DECISION:"application.quote.decision",DL_APPLICATION_QUOTE_PHASE:"application.quote.phase",DL_APPLICATION_QUOTE_CODE:"application.quote.code",DL_APPLICATION_LOAN_AMOUNT:"application.loan.amount",DL_APPLICATION_LOAN_PURPOSE:"application.loan.purpose",DL_APPLICATION_LOAN_TERM_MONTHS:"application.loan.termMonths",DL_APPLICATION_LOAN_TERM_YEARS:"application.loan.termYears",DL_APPLICATION_LOAN_MONTHLY_COST:"application.loan.monthlyCost",DL_APPLICATION_LOAN_APR:"application.loan.apr",DL_APPLICATION_LOAN_REPAYMENT_AMOUNT:"application.loan.repaymentAmount",DL_APPLICATION_LOAN_INTEREST_AMOUNT:"application.loan.interestAmount",DL_APPLICATION_LOAN_ANNUAL_INTEREST_RATE:"application.loan.annualInterestRate",DL_APPLICATION_LOAN_CHARGE_FOR_CREDIT:"application.loan.chargeForCredit",DL_APPLICATION_LOAN_DAILY_INTEREST_AMOUNT:"application.loan.dailyInterestAmount",DL_APPLICATION_LOAN_RECIPIENT_ID:"application.loan.recipient.id",DL_APPLICATION_LOAN_RECIPIENT_TYPE:"application.loan.recipient.type",DL_APPLICATION_LOAN_RECIPIENT_NAME:"application.loan.recipient.name",DL_APPLICATION_LOAN_RECIPIENT_CATEGORY:"application.loan.recipient.category",DL_APPLICATION_CARD_APR:"application.card.apr",DL_APPLICATION_CARD_PURCHASE_RATE:"application.card.purchaseRate",DL_APPLICATION_CARD_CREDIT_LIMIT:"application.card.creditLimit",DL_APPLICATION_CARD_INITIAL_MONTHLY_PURCHASE_RATE:"application.card.initialMonthlyPurchaseRate",DL_APPLICATION_CARD_INITIAL_ANNUAL_PURCHASE_RATE:"application.card.initialAnnualPurchaseRate",DL_APPLICATION_CARD_INITIAL_MONTHLY_BALANCE_TRANSFER_RATE:"application.card.initialMonthlyBalanceTransferRate",DL_APPLICATION_CARD_INITIAL_ANNUAL_BALANCE_TRANSFER_RATE:"application.card.initialAnnualBalanceTransferRate",DL_APPLICATION_OVERDRAFT_ACCOUNT_BALANCE:"application.overdraft.account.balance",DL_APPLICATION_OVERDRAFT_LIMIT_CHANGE_DIFFERENCE_PERCENTAGE:"application.overdraft.limit.change.difference.percentage",DL_APPLICATION_OVERDRAFT_LIMIT_CHANGE_DIFFERENCE_VALUE:"application.overdraft.limit.change.difference.value",DL_APPLICATION_OVERDRAFT_LIMIT_CHANGE_LEFT:"application.overdraft.limit.change.left",DL_APPLICATION_OVERDRAFT_LIMIT_CHANGE_TYPE:"application.overdraft.limit.change.type",DL_APPLICATION_OVERDRAFT_LIMIT_CHANGE_USED:"application.overdraft.limit.change.used",DL_APPLICATION_OVERDRAFT_LIMIT_CHANGE_VALUE:"application.overdraft.limit.change.value",DL_APPLICATION_OVERDRAFT_LIMIT_INITIAL_LEFT:"application.overdraft.limit.initial.left",DL_APPLICATION_OVERDRAFT_LIMIT_INITIAL_USED:"application.overdraft.limit.initial.used",DL_APPLICATION_OVERDRAFT_LIMIT_INITIAL_VALUE:"application.overdraft.limit.initial.value",DL_APPLICATION_MORTGAGE:"application.mortgage",DL_APPLICATION_MORTGAGE_BUYER_EMPLOYMENT_INCOME:"application.mortgage.buyer.employment.income",DL_APPLICATION_MORTGAGE_BUYER_TYPE:"application.mortgage.buyer.type",DL_APPLICATION_MORTGAGE_BUYER_SEGMENT:"application.mortgage.buyer.segment",DL_APPLICATION_MORTGAGE_RATE_FIXED:"application.mortgage.rate.fixed",DL_APPLICATION_MORTGAGE_RATE_VARIABLE:"application.mortgage.rate.variable",DL_APPLICATION_MORTGAGE_TERM_YEARS:"application.mortgage.term.years",DL_APPLICATION_MORTGAGE_TERM_MONTHS:"application.mortgage.term.months",DL_APPLICATION_MORTGAGE_FEE:"application.mortgage.fee",DL_APPLICATION_MORTGAGE_NEW:"application.mortgage.new",DL_APPLICATION_MORTGAGE_EXISTING:"application.mortgage.existing",DL_APPLICATION_MORTGAGE_PURPOSE:"application.mortgage.purpose",DL_APPLICATION_MORTGAGE_PROPERTY_VALUE:"application.mortgage.property.value",DL_APPLICATION_MORTGAGE_PROPERTY_DEPOSIT:"application.mortgage.property.deposit",DL_APPLICATION_MORTGAGE_DECISION:"application.mortgage.decision",DL_APPLICATION_MORTGAGE_LOAN_MAXAMOUNT:"application.mortgage.loan.maxAmount",DL_APPLICATION_MORTGAGE_LOAN_LOANTOVALUE:"application.mortgage.loan.loanToValue",DL_APPLICATION_MORTGAGE_LOAN_VALUE:"application.mortgage.loan.value",DL_APPLICATION_MORTGAGE_JOURNEY:"application.mortgage.journey",DL_APPLICATION_ATTRIBUTES:"application.attributes",DL_FORM_ID:"form.id",DL_FORM_NAME:"form.name",DL_FORM_PHASE:"form.phase",DL_FORM_TIME_STARTEDAT:"form.time.startedAt",DL_FORM_TIME_COMPLETEDAT:"form.time.completedAt",DL_FORM_TIME_DURATION:"form.time.duration",DL_USER_AUTHENTICATED:"user.authenticated",DL_USER_ID:"user.id",DL_USER_TYPE:"user.type",DL_USER_SEGMENT:"user.segment",DL_ATTRIBUTES:"attributes",START:"START",IN_PROGRESS:"IN_PROGRESS",DUPLICATE:"DUPLICATE",ERROR:"ERROR",EXIT:"EXIT",FORM:"FORM",FORM_FIELD_ACTION:"FORM_FIELD_ACTION",COMPLETE:"COMPLETE",ACTION:"ACTION",PAGE:"PAGE",APPLICATION:"APPLICATION",LOAD:"LOAD"}}},"natwest-auto-tagging/src/helpers/depreciated/notifyTaskCompletion.js":{script:function(e,t,n,r){"use strict";e.exports=function(){try{r.logger.error("[DEPRECIATED] Set task complete flag is depreciated! Please update your code.")}catch(e){r.logger.error("[DEPRECIATED] Failed to complete task for auto-tagging")}}}},"natwest-auto-tagging/src/helpers/autoTagging.js":{script:function(e,t,n,r){"use strict";function a(e,t,n,a){if(a.source&&"function"==typeof a.source)try{r.logger.log("Running custom script before queuing event"),a.source(e,t,n)}catch(e){r.logger.log("Failed to run custom script before queuing event")}}function o(e){try{var t=e.length;if(0!=t){var n=d(),o=f(window,b.PROCESSING_QUEUE),s=JSON.stringify(e[t-1],null,4),c={},l=r.getExtensionSettings()||{},u=v&&"function"==typeof v?v():"";u&&(n.uniqueRef=u),a(window,e[t-1],n,l),r.logger.log("Queuing event:\n",s),c.data=n,E(n),c.payload=y(n),o.push(c),g(c),p(),r.logger.log("Queued Event:\n",s)}else r.logger.log("No events to queue.",e);i()}catch(e){r.logger.error("Failed to queue the event -- ",e)}}function i(e){try{if(f(window,b.PROCESSING_WAIT_COMPLETE)){var t=f(window,b.PROCESSING_RUNNING);if(!t||t&&e){r.logger.log("No event being processed, start processing first queued event"),m(b.PROCESSING_RUNNING,!0);var n=r.getExtensionSettings().processing.tasks;C(b.PROCESSING_START),r.logger.log("Getting first event queued to be processed.");var a=f(window,b.PROCESSING_QUEUE);m(b.PROCESSING_CURRENT_ITEM,a[0].data),s();for(var o=0;o<n.length;o++)C(b.TASK_START,n[o]),window._satellite.track(n[o],a[0].payload);C(b.PROCESSING_COMPLETE)}else r.logger.log("Event being processed, stop")}else f(window,b.PROCESSING_WAIT_RUNNING)?r.logger.log("Wait timer still on. Stop"):(r.logger.log("Pause processing, stop"),u())}catch(e){r.logger.error("Failed to process next event -- ",e),C(b.PROCESSING_COMPLETE)}}function s(){try{f(window,b.PROCESSING_TIMEOUT_RUNNING)||(r.logger.log("Setting auto-tagging timeout. Default timeout in ms:",T),m(b.PROCESSING_TIMEOUT_REFERENCE,setTimeout((function(){r.logger.warn("Auto-tagging processing timed out. Completing processing"),C(b.PROCESSING_COMPLETE),m(b.PROCESSING_TIMEOUT_RUNNING,!1)}),T)),m(b.PROCESSING_TIMEOUT_RUNNING,!0),m(b.PROCESSING_TIMEOUT_WAIT_TIME,T))}catch(e){r.logger.error("Failed to set auto-tagging processing timeout.",e)}}function c(e){if(r.logger.log("Notifications update. Current list:",JSON.parse(JSON.stringify(e))),e[e.length-1].notification==b.PROCESSING_COMPLETE){if(!0===f(window,b.PROCESSING_TIMEOUT_RUNNING)){var t=f(window,b.PROCESSING_TIMEOUT_REFERENCE);clearTimeout(t),m(b.PROCESSING_TIMEOUT_RUNNING,!1)}var n=f(window,b.PROCESSING_QUEUE);n.shift(),l(),n.length>0?i(!0):(r.logger.log("No queued events to process. Removing all events pushed inside digitalData.events"),m(b.PROCESSING_RUNNING,!1),f(window,b.DIGITAL_DATA_EVENTS_ARRAY).length=0)}}function l(){m(b.PROCESSING_NOTIFICATIONS,[]);var e=f(window,b.PROCESSING_NOTIFICATIONS);h(e,c)}function u(){m(b.PROCESSING_WAIT_RUNNING,!0),setTimeout((function(){m(b.PROCESSING_WAIT_COMPLETE,!0),i()}),b.INITIAL_WAIT)}function d(){return JSON.parse(JSON.stringify(window[S()]))}function g(e){var t=f(window,b.TAGGING_LOGS);3==t.length&&t.shift(),t.push(e)}function p(){f(window,b.TAGGING_FEATURES)}var m=r.getSharedModule("natwest-core","set-object-property"),f=r.getSharedModule("natwest-core","get-object-property"),v=r.getSharedModule("natwest-core","get-random-string"),h=r.getSharedModule("natwest-core","array-eventify"),b=n("./constants"),C=n("./updateNotificationList"),E=n("./updateApplicationDetails"),y=n("./getDcrPayload"),S=n("./getDataLayerRoot"),T=5e3;e.exports=function(){try{r.logger.log("Auto tagging start");var e=f(window,b.DIGITAL_DATA_EVENTS_ARRAY),t=f(window,b.PROCESSING_NOTIFICATIONS),n=f(window,b.PUSH_OVERWRITTEN);!n&&e?(r.logger.log("Adding callback each time an event is pushed."),h(e,o),m(b.PUSH_OVERWRITTEN,!0),r.logger.log("Adding callback each time a processing notification is pushed."),h(t,c),e.length>0&&o(e)):r.logger.log("Unable to init the auto-tagging. Array push function updated:",n,"Events array details:",e)}catch(e){r.logger.error("Failed to init auto-tagging -- ",e)}}}},"natwest-auto-tagging/src/helpers/getDataLayerRoot.js":{script:function(e,t,n,r){"use strict";e.exports=()=>{const e="digitalData",t=r.getExtensionSettings()||{};return t.dataLayerRoot&&t.dataLayerRoot!==e?t.dataLayerRoot:e}}},"natwest-auto-tagging/src/helpers/updateNotificationList.js":{script:function(e,t,n,r){"use strict";var a=r.getSharedModule("natwest-core","get-object-property"),o=n("./constants");e.exports=function(e,t){var n=a(window,o.PROCESSING_NOTIFICATIONS),r={notification:e};t&&(r.task=t),n.push(r)}}},"natwest-auto-tagging/src/helpers/updateApplicationDetails.js":{script:function(e,t,n,r){"use strict";var a=r.getSharedModule("natwest-core","set-object-property"),o=r.getSharedModule("natwest-core","get-object-property"),i=n("./constants");e.exports=function(e){try{var t=o(e,i.APPLICATION_ID);if(t){a(i.APPLICATION_CURRENT,t);var n=JSON.parse(JSON.stringify(e.application)),s=i.APPLICATION_DETAILS+"."+t;o(window,s)||a(s,{}),a(s+".snapshot",n)}}catch(e){r.logger.error("Failed to update current application details",e)}}}},"natwest-auto-tagging/src/helpers/getDcrPayload.js":{script:function(e,t,n,r){"use strict";function a(e){var t={id:"",categoryCode:""};try{var n=i(e,s.DL_PRODUCTS),a=i(e,s.DL_APPLICATION_PRODUCT_CURRENT_ID);if(n&&n.length>0)if(a)for(var o=0;o<n.length;o++){var c=n[o],l=i(c,s.DL_PRODUCTS_ITEM_ID),u=i(c,s.DL_PRODUCTS_ITEM_CATEGORY_CODE);l==a&&(t.id=l,t.categoryCode=u)}else{var d=n[0];t.id=i(d,s.DL_PRODUCTS_ITEM_ID),t.categoryCode=i(d,s.DL_PRODUCTS_ITEM_CATEGORY_CODE)}return t}catch(e){return r.logger.error("Failed to retrieve DCR product data",e),t}}function o(e){try{for(var t in e){var n=e[t];"boolean"==typeof n||n||delete e[t]}return e}catch(e){return r.logger.error("Failed to build final payload for dcr",e),{}}}var i=r.getSharedModule("natwest-core","get-object-property"),s=(n("./getValue"),n("./constants")),c=n("./getCurrentApplicationDetails"),l=n("./getTaggingDetails");s.PROCESSING_CURRENT_ITEM,e.exports=function(e){try{var t=a(e),n=i(e,s.DL_EVENTS),u=n[n.length-1],d={auto:!0,brand:i(e,s.DL_SITE_BRAND),appStart:i(e,s.DL_APPLICATION_START),appEnd:i(e,s.DL_APPLICATION_END),appInProgress:i(e,s.DL_APPLICATION_INPROGRESS),appDecision:i(e,s.DL_APPLICATION_STATUS_DECISION),page:i(e,s.DL_PAGE_NAME),productId:t.id,productCat:t.categoryCode,eventTarget:i(u,s.DL_EVENTS_ITEM_TARGET),eventPhase:i(u,s.DL_EVENTS_ITEM_PHASE),snapshot:e,appDetails:c(),tagging:l()};return u.element&&(d.elementId=i(u,s.DL_EVENTS_ITEM_ELEMENT_ID),d.elementClass=i(u,s.DL_EVENTS_ITEM_ELEMENT_CLASSNAME),d.elementValue=i(u,s.DL_EVENTS_ITEM_ELEMENT_VALUE),d.elementCat=i(u,s.DL_EVENTS_ITEM_ELEMENT_CATEGORY),d.elementType=i(u,s.DL_EVENTS_ITEM_ELEMENT_TYPE)),o(d)}catch(e){return r.logger.error("Failed to retrieve DCR payload",e),{}}}}},"natwest-auto-tagging/src/helpers/getValue.js":{script:function(e,t,n,r){"use strict";var a=r.getSharedModule("natwest-core","get-object-property");e.exports=function(e,t,n){try{var o=n?window:e;return a(o,(n||"detail.snapshot")+"."+t)}catch(e){r.logger.error("Failed to get value for ",t,"--",e)}}}},"natwest-auto-tagging/src/helpers/getCurrentApplicationDetails.js":{script:function(e,t,n,r){"use strict";var a=r.getSharedModule("natwest-core","get-object-property"),o=n("./constants");e.exports=function(){try{var e=a(window,o.APPLICATION_CURRENT);if(e){var t=a(window,o.APPLICATION_DETAILS);return JSON.parse(JSON.stringify(a(t[e],"snapshot")))}return""}catch(e){return r.logger.error("Failed to retrieve DCR Current application details",e),""}}}},"natwest-auto-tagging/src/helpers/getTaggingDetails.js":{script:function(e,t,n,r){"use strict";var a=r.getSharedModule("natwest-core","get-object-property"),o=n("./constants");e.exports=function(){try{return{features:JSON.parse(JSON.stringify(a(window,o.TAGGING_FEATURES)))}}catch(e){return r.logger.error("Failed to retrieve tagging details",e),""}}}}}},"adobe-alloy":{displayName:"Adobe Experience Platform Web SDK",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP94e8a1fa8c014ff5ab3d1579625cdc72/",settings:{instances:[{name:"alloy",edgeDomain:"%edgeDomain%",edgeConfigId:"279a44d2-0531-405e-8e69-72a58c2daa6c",defaultConsent:"%aepDefaultConsent%",clickCollection:{filterClickDetails:function(e){try{let t=(e,t)=>!!e.contains(t),n=e=>{if(0!==e){let n=document.querySelector("header"),r=document.querySelector("footer"),a=e;if(t(n,a)){let e,t=$(".iah").find(".iah__nav-l2 .ia-active > a")[0],n=$(".iah").find(".iah__nav-l2 .active-l3 > a")[0];return t=$(t).attr("data-navid"),n=$(n).attr("data-skipid"),e=n&&t?"global header>"+t+">"+n:t?"global header>"+t:"global header",e}if(t(r,a))return"footer";let o=$(e).closest("[data-shelf-name]")[0];if(o)return o=$(o).attr("data-shelf-name"),o;let i=$(e).closest("[id]")[0];return i?(i=$(i).attr("id"),i):"body"}};e.linkRegion=n(e.clickedElement),e.linkUrl?.includes("tel:")&&(e.linkName=e.linkUrl="Phone number"),e.linkUrl?.includes("mailto:")&&(e.linkName=e.linkUrl="Email address"),window.tagging=window.tagging||{},window.tagging.activitymap=window.tagging.activitymap||{},window.tagging.activitymap.name=e.linkName,window.tagging.activitymap.region=e.linkRegion,window.tagging.activitymap.type=e.linkType,window.tagging.activitymap.url=e.linkUrl,window.tagging.activitymap.page=e.pageName,window.tagging.activitymap.element=e.clickedElement;let r=/javascript:|lombard\.co\.uk|natwest\.com|rbos\.com|rbs\.co\.uk|rbsgrp\.net|ulsterbank\.co\.uk|ulsterbank\.com|ulsterbank\.ie|managedtest\.com|natwestgroup\.com|natwestgroupremembers\.com|adobecqms\.net|rbs\.com|iombank\.com|natwestinternational\.com/;if("other"==e.linkType&&null!==e.linkUrl?.match(r))return!1}catch(e){_satellite.logger.error("Failed in setting Filter Click Data:",e)}},downloadLinkEnabled:!1,externalLinkEnabled:!1,eventGroupingEnabled:!0,sessionStorageEnabled:!0},onBeforeEventSend:function(e){try{window.tagging?.activitymap&&(e.xdm.web=e.xdm.web||{},e.xdm.web.webInteraction=e.xdm.web.webInteraction||{},e.xdm.web.webInteraction.name=e.xdm.web.webInteraction.name||tagging.activitymap.name,e.xdm.web.webInteraction.region=e.xdm.web.webInteraction.region||tagging.activitymap.region,e.xdm.web.webInteraction.type=e.xdm.web.webInteraction.type||tagging.activitymap.type,e.xdm.web.webInteraction.URL=e.xdm.web.webInteraction.URL||tagging.activitymap.url,delete window.tagging.activitymap),e?.xdm?.web?.webInteraction?.URL?.includes("javascript")&&(e.xdm.web.webInteraction.URL="")}catch(e){_satellite.logger.error("Failed in AEP Web SDK onBeforeEventSentCallback",e)}},stagingEdgeConfigId:"eea66a8b-b533-449d-91ae-e4e20a1e923f",downloadLinkQualifier:"\\.(exe|zip|wav|mp3|mov|mpg|avi|wmv|pdf|doc|docx|xls|xlsx|ppt|pptx|css|csv|eps|jpg|js|m4v|png|rar|svg|tab|txt|vsd|vxd|wma|xml)$",developmentEdgeConfigId:"eea66a8b-b533-449d-91ae-e4e20a1e923f",autoCollectPropositionInteractions:{AJO:"never"}}]},modules:{"adobe-alloy/dist/lib/dataElements/variable/index.js":{name:"variable",displayName:"Variable",script:function(e,t,n){"use strict";var r=n("../../index").variableStore;e.exports=function(e){return r[e.dataElementId]||{}}}},"adobe-alloy/dist/lib/dataElements/xdmObject/index.js":{name:"xdm-object",displayName:"XDM object",script:function(e){"use strict";e.exports=function(e){return e.data}}},"adobe-alloy/dist/lib/actions/updateVariable/index.js":{name:"update-variable",displayName:"Update variable",script:function(e,t,n){"use strict";var r=n("../../alloy").deepAssign,a=n("../../index").variableStore,o=n("./createUpdateVariable");e.exports=o({variableStore:a,deepAssign:r})}},"adobe-alloy/dist/lib/actions/sendEvent/index.js":{name:"send-event",displayName:"Send event",script:function(e,t,n,r){"use strict";var a,o=n("./createSendEvent"),i=n("../../instanceManager/index"),s=n("../../index").sendEventCallbackStorage,c=n("../../utils/createGetConfigOverrides");e.exports=o({instanceManager:i,sendEventCallbackStorage:s,getConfigOverrides:c(null===(a=r.environment)||void 0===a?void 0:a.stage)})}},"adobe-alloy/dist/lib/actions/setConsent/index.js":{name:"set-consent",displayName:"Set consent",script:function(e,t,n,r){"use strict";var a,o=n("./createSetConsent"),i=n("../../instanceManager/index"),s=n("../../utils/createGetConfigOverrides");e.exports=o({instanceManager:i,getConfigOverrides:s(null===(a=r.environment)||void 0===a?void 0:a.stage)})}},"adobe-alloy/dist/lib/instanceManager/index.js":{script:function(e,t,n,r){"use strict";var a,o=n("../alloy"),i=o.createInstance,s=o.createEventMergeId,c=n("./createInstanceManager"),l=n("./injectWrapOnBeforeEventSend"),u=n("../utils/createGetConfigOverrides"),d=l({version:"2.27.0"});e.exports=c({turbine:r,window:window,createInstance:i,createEventMergeId:s,orgId:_satellite.company.orgId,wrapOnBeforeEventSend:d,getConfigOverrides:u(null===(a=r.environment)||void 0===a?void 0:a.stage)})}},"adobe-alloy/dist/lib/index.js":{script:function(e,t,n){"use strict";var r=n("./createEventMergeIdCache"),a=n("./createSendEventCallbackStorage"),o=n("./createMediaCollectionSessionStorage"),i=n("./createVariableStore");t.eventMergeIdCache=r(),t.sendEventCallbackStorage=a(),t.mediaCollectionSessionStorage=o(),t.variableStore=i()}},"adobe-alloy/dist/lib/createEventMergeIdCache.js":{script:function(e){"use strict";e.exports=function(){var e={};return{set:function(t,n){e[t]=n},getByCacheId:function(t){return e[t]},clearByEventMergeId:function(t){Object.keys(e).forEach((function(n){e[n]===t&&delete e[n]}))}}}}},"adobe-alloy/dist/lib/createSendEventCallbackStorage.js":{script:function(e){"use strict";e.exports=function(){var e=[];return{add:function(t){e.push(t)},triggerEvent:function(t){e.forEach((function(e){e(t)}))}}}}},"adobe-alloy/dist/lib/createMediaCollectionSessionStorage.js":{script:function(e){"use strict";e.exports=function(){var e={};return{add:function(t){var n=t.playerId,r=t.sessionDetails;if(e[n])throw new Error("Player Id ".concat(n," already exists"));e[n]=r},remove:function(t){var n=t.playerId;e[n]=void 0},get:function(t){var n=t.playerId;return e[n]}}}}},"adobe-alloy/dist/lib/createVariableStore.js":{script:function(e){"use strict";e.exports=function(){return{}}}},"adobe-alloy/dist/lib/alloy.js":{script:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(null==e)return{};var n,r,a=o(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function o(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}function i(e,t){return l(e)||c(e,t)||h(e,t)||s()}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,s=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}function l(e){if(Array.isArray(e))return e}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return(t=p(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e){var t=m(e,"string");return"symbol"==y(t)?t:t+""}function m(e,t){if("object"!=y(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=y(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function f(e){return C(e)||b(e)||h(e)||v()}function v(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function h(e,t){if(e){if("string"==typeof e)return E(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?E(e,t):void 0}}function b(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function C(e){if(Array.isArray(e))return E(e)}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function S(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}function T(e,t){function n(n,r,a){if("undefined"!=typeof document){"number"==typeof(a=S({},t,a)).expires&&(a.expires=new Date(Date.now()+864e5*a.expires)),a.expires&&(a.expires=a.expires.toUTCString()),n=encodeURIComponent(n).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var o="";for(var i in a)a[i]&&(o+="; "+i,!0!==a[i]&&(o+="="+a[i].split(";")[0]));return document.cookie=n+"="+e.write(r,n)+o}}function r(t){if("undefined"!=typeof document&&(!arguments.length||t)){for(var n=document.cookie?document.cookie.split("; "):[],r={},a=0;a<n.length;a++){var o=n[a].split("="),i=o.slice(1).join("=");try{var s=decodeURIComponent(o[0]);if(r[s]=e.read(i,s),t===s)break}catch(e){}}return t?r[t]:r}}return Object.create({set:n,get:r,remove:function(e,t){n(e,"",S({},t,{expires:-1}))},withAttributes:function(e){return T(this.converter,S({},this.attributes,e))},withConverter:function(e){return T(S({},this.converter,e),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(e)}})}function A(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function _(){return fe||(fe=1,me=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e){for(var n={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:/?#]*)(?::(\d*))?))?((((?:[^?#/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@/]*@)([^:/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#/]*\.[^?#/.]+(?:[?#]|$)))*\/?)?([^?#/]*))(?:\?([^#]*))?(?:#(.*))?)/}},r=n.parser[t.strictMode?"strict":"loose"].exec(e),a={},o=14;o--;)a[n.key[o]]=r[o]||"";return a[n.q.name]={},a[n.key[12]].replace(n.q.parser,(function(e,t,r){t&&(a[n.q.name][t]=r)})),a}}),me}function N(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(An[e[t+0]]+An[e[t+1]]+An[e[t+2]]+An[e[t+3]]+"-"+An[e[t+4]]+An[e[t+5]]+"-"+An[e[t+6]]+An[e[t+7]]+"-"+An[e[t+8]]+An[e[t+9]]+"-"+An[e[t+10]]+An[e[t+11]]+An[e[t+12]]+An[e[t+13]]+An[e[t+14]]+An[e[t+15]]).toLowerCase()}function P(){if(!ve){if("undefined"==typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");ve=crypto.getRandomValues.bind(crypto)}return ve(Nn)}function I(e,t,n){if(Pn.randomUUID&&!t&&!e)return Pn.randomUUID();var r=(e=e||{}).random||(e.rng||P)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var a=0;a<16;++a)t[n+a]=r[a];return t}return N(r)}function w(e){return"object"===y(e)||void 0===e}function R(){return{matches:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(w(e[t]))return!1;for(var r=String(e[t]).toLowerCase(),a=0;a<n.length;a+=1)if(!w(n[a])&&r===String(n[a]).toLowerCase())return!0;return!1}}}function O(){return{matches:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(w(e[t]))return!1;for(var r=String(e[t]).toLowerCase(),a=0;a<n.length;a+=1)if(!w(n[a])&&r===String(n[a]).toLowerCase())return!1;return!0}}}function L(){return{matches:function(e,t){return void 0!==e[t]&&null!==e[t]}}}function k(){return{matches:function(e,t){return void 0===e[t]||null===e[t]}}}function D(e){return"number"==typeof e}function M(){return{matches:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=e[t];if(!D(r))return!1;for(var a=0;a<n.length;a+=1)if(D(n[a])&&r>n[a])return!0;return!1}}}function x(){return{matches:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=e[t];if(!D(r))return!1;for(var a=0;a<n.length;a+=1)if(D(n[a])&&r>=n[a])return!0;return!1}}}function B(){return{matches:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=e[t];if(!D(r))return!1;for(var a=0;a<n.length;a+=1)if(D(n[a])&&r<n[a])return!0;return!1}}}function V(){return{matches:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=e[t];if(!D(r))return!1;for(var a=0;a<n.length;a+=1)if(D(n[a])&&r<=n[a])return!0;return!1}}}function j(){return{matches:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(w(e[t]))return!1;for(var r=String(e[t]).toLowerCase(),a=0;a<n.length;a+=1)if(!w(n[a])&&-1!==r.indexOf(String(n[a]).toLowerCase()))return!0;return!1}}}function U(){return{matches:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(w(e[t]))return!1;for(var r=String(e[t]).toLowerCase(),a=0;a<n.length;a+=1)if(!w(n[a])&&-1!==r.indexOf(String(n[a]).toLowerCase()))return!1;return!0}}}function F(){return{matches:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(w(e[t]))return!1;for(var r=String(e[t]).toLowerCase(),a=0;a<n.length;a+=1)if(!w(n[a])&&r.startsWith(String(n[a]).toLowerCase()))return!0;return!1}}}function G(){return{matches:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(w(e[t]))return!1;for(var r=String(e[t]).toLowerCase(),a=0;a<n.length;a+=1)if(!w(n[a])&&r.endsWith(n[a].toLowerCase()))return!0;return!1}}}function H(e){return Gs[e]}function W(e){return void 0===e}function q(e,t,n){switch(t){case js.GREATER_THAN:return e>n;case js.GREATER_THAN_OR_EQUAL_TO:return e>=n;case js.LESS_THAN:return e<n;case js.LESS_THAN_OR_EQUAL_TO:return e<=n;case js.EQUALS:return e===n;case js.NOT_EQUALS:return e!==n;default:return!1}}function K(e,t){for(var n=0;n<t.length;n+=1)if(!W(e[t[n]]))return e[t[n]]}function Y(e,t){for(var n=Object.keys(e),r=0;r<n.length;r+=1){var a=n[r],o=t.event;if((void 0===o?{}:o)[n[r]]!==e[a])return!1}return!0}function z(e,t,n,r){return e.reduce((function(e,a){var o=K(a,Hs);if(!o)return e;var i=t.events[o];if(!i)return e;var s=K(a,Ws);if(!s)return e;var c=i[s];if(!c)return e;if(!Y(a,c))return e;var l=c.count,u=void 0===l?1:l;return W(n)||W(r)||c.timestamp>=n&&c.timestamp<=r?e+u:e}),0)}function J(e,t,n,r){var a=n;return e.every((function(e){var n=K(e,Hs);if(!n)return!1;var o=t.events[n];if(!o)return!1;var i=K(e,Ws);if(!i)return!1;var s=o[i];if(!Y(e,s))return!1;if(null===s||W(s)||0===s.count)return!1;var c=(W(a)||s.timestamp>=a)&&(W(r)||s.timestamp<=r);return a=s.timestamp,c}))?1:0}function $(e,t){for(var n=!0,r=0;r<t.length;r+=1)n=n&&t[r].evaluate(e);return n}function X(e,t){for(var n=!1,r=0;r<t.length;r+=1)if(n=n||t[r].evaluate(e))return!0;return!1}function Q(e,t){return{version:e,rules:t}}function Z(e,t){return{execute:function(n){return e.evaluate(n)?t:[]},toString:function(){return"Rule{condition=".concat(e,", consequences=").concat(t,"}")}}}function ee(e,t){return{evaluate:function(e){return t.evaluate(e)},toString:function(){return"Condition{type=".concat(e,", definition=").concat(t,"}")}}}function te(e,t,n){return{id:e,type:t,detail:n}}function ne(e,t){return{evaluate:function(n){return Us.AND===e?$(n,t):Us.OR===e&&X(n,t)}}}function re(e,t,n){return{evaluate:function(r){var a=H(t);return!!a&&a.matches(r,e,n)}}}function ae(e,t,n,r,a,o){return{evaluate:function(i){return q(Fs.ORDERED===o?J(e,i,r,a):z(e,i,r,a),t,n)}}}function oe(e){return re(e.key,e.matcher,e.values)}function ie(e){return ne(e.logic,e.conditions.map(ce))}function se(e){var t=e.events,n=e.from,r=e.to;return ae(t,e.matcher,e.value,n,r,e.searchType)}function ce(e){var t=e.type,n=e.definition;if(Vs.MATCHER===t)return ee(t,oe(n));if(Vs.GROUP===t)return ee(t,ie(n));if(Vs.HISTORICAL===t)return ee(t,se(n));throw new Error("Can not parse condition")}function le(e){return te(e.id,e.type,e.detail)}function ue(e){var t=e.condition,n=e.consequences;return Z(ce(t),n.map(le))}function de(e){return Q(e.version,e.rules.map(ue))}function ge(e){var t=de(e),n=t.version,r=t.rules;return{execute:function(e){return r.map((function(t){return t.execute(e)})).filter((function(e){return e.length>0}))},getVersion:function(){return n},numRules:function(){return r.length}}}Object.defineProperty(t,"__esModule",{value:!0}),t.deepAssign=t.createInstance=t.createEventMergeId=void 0;for(var pe,me,fe,ve,he=r(n("@adobe/reactor-query-string")),be=["datastreamId"],Ce=["edgeConfigOverrides"],Ee=["xdm","data","documentUnloading","type","mergeId","datasetId","edgeConfigOverrides"],ye=["priority"],Se=["priority"],Te=["priority"],Ae=["trackingLabel","scopeType"],_e=["standard","version"],Ne=function(e){return null==e},Pe=function(e){return!Ne(e)&&!Array.isArray(e)&&"object"===y(e)},Ie=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length<2?Object.assign.apply(Object,t):t.reduce((function(e,t){return Pe(t)&&Object.keys(t).forEach((function(n){var r;Array.isArray(t[n])?Array.isArray(e[n])?(r=e[n]).push.apply(r,f(t[n])):e[n]=f(t[n]):e[n]=t[n]})),e}))},we=T({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"}),Re={get:we.get.bind(we),set:we.set.bind(we),remove:we.remove.bind(we),withConverter:we.withConverter.bind(we)},Oe=function(e,t){Object.keys(t).forEach((function(n){Pe(e[n])&&Pe(t[n])?Oe(e[n],t[n]):e[n]=t[n]}))},Le=t.deepAssign=function(e){if(Ne(e))throw new TypeError('deepAssign "target" cannot be null or undefined');for(var t=Object(e),n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return r.forEach((function(e){return Oe(t,Object(e))})),t},ke=function(e,t){
return function(n){var r=t.split(".").reduce((function(e,t){return e[t]=e[t]||{},e[t]}),e);Le(r,n)}},De=function(){var e=[];return{add:function(t){e.push(t)},call:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Promise.all(e.map((function(e){return e.apply(void 0,n)})))}}},Me=function(e){var t=e.logger,n=e.cookieJar;return d(d({},n),{},{set:function(e,r,a){t.info("Setting cookie",d({name:e,value:r},a)),n.set(e,r,a)}})},xe=function(){var e=0,t=Promise.resolve();return{addTask:function(n){e+=1;var r=function(){return n().finally((function(){e-=1}))};return t=t.then(r,r)},get length(){return e}}},Be=function(){for(var e=[],t=0;t<256;t++){for(var n=t,r=0;r<8;r++)n=1&n?3988292384^n>>>1:n>>>1;e.push(n)}return function(t,n){t=unescape(encodeURIComponent(t)),n||(n=0),n=~n;for(var r=0;r<t.length;r++){var a=255&(n^t.charCodeAt(r));n=n>>>8^e[a]}return(n=~n)>>>0}}(),Ve=function(){var e={};return e.promise=new Promise((function(t,n){e.resolve=t,e.reject=n})),e},je=function(e,t){return e===t},Ue=function(e,t,n){for(var r=0;r<e.length;r+=1)if(n(e[r],t))return r;return-1},Fe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:je;return e.filter((function(n,r){return Ue(e,n,t)===r}))},Ge=function(e,t){return e.appendChild(t)},He=function(e,t){Object.keys(t).forEach((function(n){if("style"===n&&Pe(t[n])){var r=t[n];Object.keys(r).forEach((function(t){e.style[t]=r[t]}))}else e[n]=t[n]}))},We=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=(arguments.length>4&&void 0!==arguments[4]?arguments[4]:document).createElement(e);return Object.keys(t).forEach((function(e){a.setAttribute(e,t[e])})),He(a,n),r.forEach((function(e){return Ge(a,e)})),a},qe="BODY",Ke="IFRAME",Ye="IMG",ze="DIV",Je="STYLE",$e="SCRIPT",Xe="HEAD",Qe=function(e){var t=e.src,n=e.currentDocument,r=void 0===n?document:n;return new Promise((function(e,n){We(Ye,{src:t},{onload:e,onerror:n,onabort:n},[],r)}))},Ze=function(e){return"function"==typeof e},et=function(e){return Array.isArray(e)&&e.length>0},tt=function(e){return Array.isArray(e)?e:null==e?[]:[].slice.call(e)},nt=/^\s*>/,rt=function(e,t){return nt.test(t)?tt(e.querySelectorAll(":scope ".concat(t))):tt(e.querySelectorAll(t))},at=":shadow",ot=function(e){return e.split(at)},it=function(e,t){var n=t;if(!n.startsWith(">"))return n;var r=e instanceof Element||e instanceof Document?":scope":":host";return"".concat(r," ").concat(n)},st=function(e,t){var n=ot(t);if(n.length<2)return rt(e,t);for(var r=e,a=0;a<n.length;a+=1){var o=n[a].trim();if(""===o&&r.shadowRoot)r=r.shadowRoot;else{var i=it(r,o),s=rt(r,i);if(0===s.length||!s[0]||!s[0].shadowRoot)return s;r=s[0].shadowRoot}}},ct=function(e){return-1!==e.indexOf(at)},lt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return ct(e)?st(t,e):rt(t,e)},ut="MutationObserver",dt="requestAnimationFrame",gt={childList:!0,subtree:!0},pt="visibilityState",mt="visible",ft=100,vt=5e3,ht=function(e){return new Error("Could not find: ".concat(e))},bt=function(e){return new Promise(e)},Ct=function(e){return Ze(e[ut])},Et=function(e,t,n,r,a){return bt((function(o,i){var s,c=new e[ut]((function(){var e=a(n);et(e)&&(c.disconnect(),s&&clearTimeout(s),o(e))}));s=setTimeout((function(){c.disconnect(),i(ht(n))}),r),c.observe(t,gt)}))},yt=function(e){return e[pt]===mt},St=function(e,t,n,r){return bt((function(a,o){var i=function(){var n=r(t);et(n)?a(n):e[dt](i)};i(),setTimeout((function(){o(ht(t))}),n)}))},Tt=function(e,t,n){return bt((function(r,a){var o=function(){var t=n(e);et(t)?r(t):setTimeout(o,ft)};o(),setTimeout((function(){a(ht(e))}),t)}))},At=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:lt,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:vt,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:window,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:document,o=t(e);return et(o)?Promise.resolve(o):Ct(r)?Et(r,a,e,n,t):yt(a)?St(r,e,n,t):Tt(e,n,t)},_t=function(e,t){return t.matches?t.matches(e):t.msMatchesSelector(e)},Nt=function(e){var t=e.parentNode;return t?t.removeChild(e):null},Pt={name:"Adobe Alloy"},It={style:{display:"none",width:0,height:0}},wt=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.appendNode,r=void 0===n?Ge:n,a=t.awaitSelector,o=void 0===a?At:a,s=t.createNode,c=void 0===s?We:s,l=t.fireImage,u=void 0===l?Qe:l,d=u,g=function(){return o(qe).then((function(t){var n=i(t,1)[0];return e||(e=c(Ke,Pt,It),r(n,e))}))},p=function(e){var t=e.src;return g().then((function(e){var n=e.contentWindow.document;return u({src:t,currentDocument:n})}))};return function(e){var t=e.hideReferrer,n=e.url;return t?p({src:n}):d({src:n})}},Rt=function(e){return Pe(e)&&0===Object.keys(e).length},Ot=function(e,t){return Ne(e)||!Pe(e)?e:Object.keys(e).reduce((function(n,r){var a=e[r];if(Pe(a)){var o=Ot(a,t);return Rt(o)?n:d(d({},n),{},g({},r,o))}return t(a)?d(d({},n),{},g({},r,a)):n}),{})},Lt="com.adobe.alloy.",kt=function(e,t){return e.slice(-t)},Dt="".concat(Lt,"getTld"),Mt=function(e,t){for(var n="",r=e.location.hostname.toLowerCase().split("."),a=1;a<r.length&&!t.get(Dt);)n=kt(r,a+=1).join("."),t.set(Dt,Dt,{domain:n});return t.remove(Dt,{domain:n}),n},xt="kndctr",Bt=function(e){return e.replace("@","_")},Vt=function(e,t){return"".concat(xt,"_").concat(Bt(e),"_").concat(t)},jt=function(e,t){var n={};return e.forEach((function(e){var r=t(e);n[r]||(n[r]=[]),n[r].push(e)})),n},Ut="Chrome",Ft="Edge",Gt="EdgeChromium",Ht="Firefox",Wt="IE",qt="Safari",Kt="Unknown",Yt=function(e){var t,n=!1;return function(){return n||(n=!0,t=e()),t}},zt=[Ut,Ft,Gt,Wt,Kt],Jt=function(e){var t=e.getBrowser;return Yt((function(){return zt.includes(t())}))},$t="identity",Xt="consent",Qt="cluster",Zt=function(e){var t=e.orgId,n=Vt(t,$t);return function(){return Boolean(Re.get(n))}},en=function(e,t){for(var n=Object.keys(e),r=0;r<n.length;r+=1){var a=n[r];if(e[a].test(t))return a}return Kt},tn=function(e){var t=e.userAgent;return Yt((function(){return en(g(g(g(g(g(g({},Ft,/Edge\/([0-9\._]+)/),Gt,/Edg\/([0-9\.]+)/),Ut,/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/),Ht,/Firefox\/([0-9\.]+)(?:\s|$)/),Wt,/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/),qt,/Version\/([0-9\._]+).*Safari/),t)}))},nn=function(e,t,n){return{getItem:function(r){try{return e[t].getItem(n+r)}catch(e){return null}},setItem:function(r,a){try{return e[t].setItem(n+r,a),!0}catch(e){return!1}},clear:function(){try{return Object.keys(e[t]).forEach((function(r){r.startsWith(n)&&e[t].removeItem(r)})),!0}catch(e){return!1}}}},rn=function(e){return function(t){var n=Lt+t;return{session:nn(e,"sessionStorage",n),persistent:nn(e,"localStorage",n)}}},an=function(e,t){return e.filter((function(e){return t.includes(e)}))},on=function(e){return"boolean"==typeof e},sn=function(e){return"number"==typeof e&&!Number.isNaN(e)},cn=function(e){var t=parseInt(e,10);return sn(t)&&e===t},ln=function(e,t){return 0===t.indexOf("".concat(xt,"_").concat(Bt(e),"_"))},un=function(e){return"string"==typeof e},dn=function(e){return un(e)&&e.length>0},gn=function(){},pn=A(_()),mn=function(e){var t={},n=e.split(".");switch(n.length){case 1:t.subdomain="",t.domain=e,t.topLevelDomain="";break;case 2:t.subdomain="",t.domain=e,t.topLevelDomain=n[1];break;case 3:t.subdomain="www"===n[0]?"":n[0],t.domain=e,t.topLevelDomain=n[2];break;case 4:t.subdomain="www"===n[0]?"":n[0],t.domain=e,t.topLevelDomain="".concat(n[2],".").concat(n[3])}return t},fn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:mn;un(e)||(e="");var n=pn(e)||{},r=n.host,a=void 0===r?"":r,o=n.path,i=void 0===o?"":o,s=n.query,c=void 0===s?"":s,l=n.anchor;return d({path:i,query:c,fragment:void 0===l?"":l},t(a))},vn=function(e){if(Ne(e)||"object"!==y(e))return null;var t=Ot(e,(function(e){return!(Ne(e)||!on(e)&&!sn(e)&&!dn(e)&&!et(e))}));return Rt(t)?null:t},hn=function(e){return e instanceof Error?e:new Error(e)},bn=function(e){var t=e.error,n=e.message;try{t.message=n}catch(e){}},Cn=function(e){var t=e.error,n=e.message,r=hn(t),a="".concat(n,"\nCaused by: ").concat(r.message);return bn({error:r,message:a}),r},En=function(e){return un(e)&&"true"===e.toLowerCase()},yn=function(e,t){if(sn(e)||un(e)){var n=Math.round(Number(e));if(!Number.isNaN(n))return n}return t},Sn=function(e,t,n){return"".concat(e).padStart(t,n)},Tn=function(e){var t=e.getFullYear(),n=Sn(e.getMonth()+1,2,"0"),r=Sn(e.getDate(),2,"0"),a=Sn(e.getHours(),2,"0"),o=Sn(e.getMinutes(),2,"0"),i=Sn(e.getSeconds(),2,"0"),s=Sn(e.getMilliseconds(),3,"0"),c=yn(e.getTimezoneOffset(),0),l=c>0?"-":"+",u=Sn(Math.floor(Math.abs(c)/60),2,"0"),d=Sn(Math.abs(c)%60,2,"0");return"".concat(t,"-").concat(n,"-").concat(r,"T").concat(a,":").concat(o,":").concat(i,".").concat(s).concat(l).concat(u,":").concat(d)},An=[],_n=0;_n<256;++_n)An.push((_n+256).toString(16).slice(1));var Nn=new Uint8Array(16),Pn={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)},In=function(e){return function(t,n){return null==t?t:e.call(this,t,n)}},wn=function(e,t){return function(n,r){return t.call(this,e.call(this,n,r),r)}},Rn=function(e,t){return function(n,r){var a=this,o=[],i=[e,t].reduce((function(e,t){try{return t.call(a,e,r)}catch(t){return o.push(t),e}}),n);if(o.length)throw new Error(o.join("\n"));return i}},On=function(e,t,n){return Object.assign(wn(e,t),e,n)},Ln=function(e,t,n){return Object.assign(wn(e,In(t)),e,n)},kn=function(e,t,n){return Object.assign(Rn(In(t),e),e,n)},Dn=function(e,t,n,r){if(!e)throw new Error("'".concat(n,"': Expected ").concat(r,", but got ").concat(JSON.stringify(t),"."))},Mn=function(e,t){return Dn(on(e),e,t,"true or false"),e},xn=function(e,t){return Dn(Ze(e),e,t,"a function"),e},Bn=function(e,t){return function(n,r){var a,o=this,i=e.find((function(e){try{return a=e.call(o,n,r),!0}catch(e){return!1}}));return Dn(i,n,r,t),a}},Vn=function(e){return function(t,n){var r=this;Dn(Array.isArray(t),t,n,"an array");var a=[],o=t.map((function(o,i){try{return e.call(r,o,"".concat(n,"[").concat(i,"]"),t)}catch(e){return void a.push(e.message)}}));if(a.length)throw new Error(a.join("\n"));return o}},jn=function(e){return function(t){return null==t?e:t}},Un=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"This field has been deprecated";return function(t,n){var r=e;return void 0!==t&&(n&&(r="'".concat(n,"': ").concat(r)),this&&this.logger&&this.logger.warn(r)),t}},Fn=function(e){return function(t,n){return Dn(t===e,t,n,"".concat(e)),t}},Gn=function(e){return function(t,n){var r=this;Dn(Pe(t),t,n,"an object");var a=[],o={};if(Object.keys(t).forEach((function(i){var s=t[i],c=n?"".concat(n,".").concat(i):i;try{var l=e.call(r,s,c);void 0!==l&&(o[i]=l)}catch(e){a.push(e.message)}})),a.length)throw new Error(a.join("\n"));return o}},Hn=function(e,t){return function(n,r){return Dn(n>=t,n,r,"".concat(e," greater than or equal to ").concat(t)),n}},Wn=function(e,t){return function(n,r){return Dn(n<=t,n,r,"".concat(e," less than or equal to ").concat(t)),n}},qn=function(e){return function(t,n){var r=[];if(Object.keys(t).forEach((function(t){if(!e[t]){var a=n?"".concat(n,".").concat(t):t;r.push("'".concat(a,"': Unknown field."))}})),r.length)throw new Error(r.join("\n"));return t}},Kn=function(e){return function(t,n){return Pe(t)?Dn(!Rt(t),t,n,e):Dn(t.length>0,t,n,e),t}},Yn=function(e){return function(t,n){var r=this;Dn(Pe(t),t,n,"an object");var a=[],o={};if(Object.keys(e).forEach((function(i){var s=t[i],c=e[i],l=n?"".concat(n,".").concat(i):i;try{var u=c.call(r,s,l);void 0!==u&&(o[i]=u)}catch(e){a.push(e.message)}})),Object.keys(t).forEach((function(e){Object.prototype.hasOwnProperty.call(o,e)||(o[e]=t[e])})),a.length)throw new Error(a.join("\n"));return o}},zn=function(e,t,n){return function(r,o){Dn(Pe(r),r,o,"an object");var i=r[e],s=r[n],c=a(r,[e,n].map(p)),l=t(i,o);if(void 0!==l){var u="The field '".concat(e,"' is deprecated. Use '").concat(n,"' instead.");if(o&&(u="'".concat(o,"': ").concat(u)),void 0!==s&&s!==l)throw new Error(u);this&&this.logger&&this.logger.warn(u)}return d(g({},n,s||l),c)}},Jn=function(){var e=[];return function(t,n){return Dn(-1===e.indexOf(t),t,n,"a unique value across instances"),e.push(t),t}},$n=function(e){for(var t=Object.create(null),n=0;n<e.length;n+=1){var r=e[n];if(r in t)return!1;t[r]=!0}return!0},Xn=function(){return function(e,t){return Dn($n(e),e,t,"array values to be unique"),e}},Qn=/^[a-z0-9.-]{1,}$/i,Zn=function(e,t){return Dn(Qn.test(e),e,t,"a valid domain"),e},er=function(e,t){return Dn(cn(e),e,t,"an integer"),e},tr=function(e,t){return Dn(sn(e),e,t,"a number"),e},nr=function(e){try{return null!==RegExp(e)}catch(e){return!1}},rr=function(e,t){return Dn(nr(e),e,t,"a regular expression"),e},ar=function(e,t){if(null==e)throw new Error("'".concat(t,"' is a required option"));return e},or=function(e,t){return Dn(un(e),e,t,"a string"),e},ir=function(e){return function(t,n){return Dn(e.test(t),t,n,"does not match the ".concat(e.toString())),t}},sr=function(e){return e};sr.default=function(e){return On(this,jn(e))},sr.required=function(){return On(this,ar)},sr.deprecated=function(e){return On(this,Un(e))};var cr=function(){return Ln(this,Zn)},lr=function(e){return Ln(this,Hn("an integer",e))},ur=function(e){return Ln(this,Hn("a number",e))},dr=function(e){return Ln(this,Wn("a number",e))},gr=function(){return Ln(this,er,{minimum:lr})},pr=function(){return Ln(this,Kn("a non-empty string"))},mr=function(){return Ln(this,Kn("a non-empty array"))},fr=function(){return Ln(this,Kn("a non-empty object"))},vr=function(){return Ln(this,rr)},hr=function(e){return Ln(this,ir(e))},br=function(){return Ln(this,Jn())},Cr=function(){return Ln(this,Xn())},Er=function(){return this},yr=function(e){return Ln(this,Vn(e),{nonEmpty:mr,uniqueItems:Cr})},Sr=function(){return Ln(this,Mn)},Tr=function(){return Ln(this,xn)},Ar=function(e){return Ln(this,Fn(e))},_r=function(){return Ln(this,tr,{minimum:ur,maximum:dr,integer:gr,unique:br})},Nr=function(e){return Ln(this,Gn(e),{nonEmpty:fr})},Pr=function(e){return{noUnknownFields:function(){return Ln(this,qn(e))},nonEmpty:fr,concat:function(t){var n=d(d({},e),t.schema);return Ln(this,t,Pr(n))},renamed:function(e,t,n){return kn(this,zn(e,t,n))},schema:e}},Ir=function(e){return Ln(this,Yn(e),Pr(e))},wr=function(){return Ln(this,or,{regexp:vr,domain:cr,nonEmpty:pr,unique:br,matches:hr})},Rr=function(e,t){return On(this,Bn(e,t))}.bind(sr),Or=Er.bind(sr),Lr=yr.bind(sr),kr=Sr.bind(sr),Dr=Tr.bind(sr),Mr=Ar.bind(sr),xr=_r.bind(sr),Br=Nr.bind(sr),Vr=Ir.bind(sr),jr=wr.bind(sr),Ur=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Rr(t.map(Mr),"one of these values: ".concat(JSON.stringify(t)))},Fr=Br(Lr(Vr({authenticatedState:Ur("ambiguous","authenticated","loggedOut"),id:jr(),namespace:Vr({code:jr()}).noUnknownFields(),primary:kr(),xid:jr()}).noUnknownFields()).required()),Gr=Vr({}),Hr="alloy_debug",Wr=function(e){var t=e.console,n=e.locationSearch,r=e.createLogger,a=e.instanceName,o=e.createNamespacedStorage,i=e.getMonitors,s=he.default.parse(n),c=o("instance.".concat(a,".")),l=c.session.getItem("debug"),u="true"===l,d=null===l,g=function(){return u},p=function(e,t){var n=t.fromConfig;n&&!d||(u=e),n||(c.session.setItem("debug",e.toString()),d=!1)};return void 0!==s[Hr]&&p(En(s[Hr]),{fromConfig:!1}),{setDebugEnabled:p,logger:r({getDebugEnabled:g,context:{instanceName:a},getMonitors:i,console:t}),createComponentLogger:function(e){return r({getDebugEnabled:g,context:{instanceName:a,componentName:e},getMonitors:i,console:t})}}},qr=["onComponentsRegistered","onBeforeEvent","onBeforeRequest","onResponse","onRequestFailure","onClick","onDecision"],Kr=function(e,t){return function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return Promise.all(e.getLifecycleCallbacks(t).map((function(e){return new Promise((function(t){t(e.apply(void 0,r))}))})))}},Yr=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Promise.resolve().then((function(){return e.apply(void 0,n)}))}},zr=function(e){return qr.reduce((function(t,n){return t[n]=Yr(Kr(e,n)),t}),{})},Jr=function(e,t){return function(){var n;try{n=e.apply(void 0,arguments)}catch(e){throw Cn({error:e,message:t})}return n instanceof Promise&&(n=n.catch((function(e){throw Cn({error:e,message:t})}))),n}},$r=function(){var e={},t={},n={},r=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=an(Object.keys(t),Object.keys(n));if(r.length)throw new Error("[ComponentRegistry] Could not register ".concat(e," ")+"because it has existing command(s): ".concat(r.join(",")));Object.keys(n).forEach((function(r){var a=n[r];a.commandName=r,a.run=Jr(a.run,"[".concat(e,"] An error occurred while executing the ").concat(r," command.")),t[r]=a}))},a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.keys(t).forEach((function(r){n[r]=n[r]||[],n[r].push(Jr(t[r],"[".concat(e,"] An error occurred while executing the ").concat(r," lifecycle hook.")))}))};return{register:function(t,n){var o=n.commands,i=n.lifecycle;r(t,o),a(t,i),e[t]=n},getCommand:function(e){return t[e]},getCommandNames:function(){return Object.keys(t)},getLifecycleCallbacks:function(e){return n[e]||[]},getComponentNames:function(){return Object.keys(e)}}},Xr=function(e){var t=e.logger,n=e.sendFetchRequest,r=e.sendBeaconRequest,a=e.isRequestRetryable,o=e.getRequestRetryDelay;return function(e){var i=e.requestId,s=e.url,c=e.payload,l=e.useSendBeacon,u=JSON.stringify(c),g=JSON.parse(u);t.logOnBeforeNetworkRequest({url:s,requestId:i,payload:g});var p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return(l?r:n)(s,u).then((function(n){var r;if(a({response:n,retriesAttempted:e})){var c=o({response:n,retriesAttempted:e});return new Promise((function(t){setTimeout((function(){t(p(e+1))}),c)}))}try{r=JSON.parse(n.body)}catch(e){}return t.logOnNetworkResponse(d(d({requestId:i,url:s,payload:g},n),{},{parsedBody:r,retriesAttempted:e})),{statusCode:n.statusCode,body:n.body,parsedBody:r,getHeader:n.getHeader}}))};return p().catch((function(e){throw t.logOnNetworkError({requestId:i,url:s,payload:g,error:e}),Cn({error:e,message:"Network request failed."})}))}},Qr=function(e){var t=e.logger;return function(e){if(e){var n=e.split(";");if(n.length>=2&&n[1].length>0)try{var r=parseInt(n[1],10);if(!Number.isNaN(r))return{regionId:r}}catch(e){}t.warn('Invalid adobe edge: "'.concat(e,'"'))}return{}}},Zr="in",ea="out",ta="pending",na="general",ra="declinedConsent",aa="default",oa="initial",ia="new",sa=function(e){var t=new Error(e);return t.code=ra,t.message=e,t},ca=function(e){var t=e.logger,n=[],r=function(){for(;n.length;)n.shift().resolve()},a=function(){for(;n.length;)n.shift().reject(sa("The user declined consent."))},o=function(){return Promise.resolve()},i=function(){return Promise.resolve()},s=function(){return Promise.reject(sa("No consent preferences have been set."))},c=function(){return Promise.reject(sa("The user declined consent."))},l=function(e){if(e)return Promise.reject(new Error("Consent is pending."));var t=Ve();return n.push(t),t.promise};return{in:function(e){e===aa?this.awaitConsent=o:(e===oa?t.info("Loaded user consent preferences. The user previously consented."):e===ia&&this.awaitConsent!==i&&t.info("User consented."),r(),this.awaitConsent=i)},out:function(e){e===aa?(t.warn("User consent preferences not found. Default consent of out will be used."),this.awaitConsent=s):(e===oa?t.warn("Loaded user consent preferences. The user previously declined consent."):e===ia&&this.awaitConsent!==c&&t.warn("User declined consent."),a(),this.awaitConsent=c)},pending:function(e){e===aa&&t.info("User consent preferences not found. Default consent of pending will be used. Some commands may be delayed."),this.awaitConsent=l},awaitConsent:function(){return Promise.resolve()},withConsent:function(){return this.awaitConsent(!0)},current:function(){switch(this.awaitConsent){case o:return{state:"in",wasSet:!1};case i:return{state:"in",wasSet:!0};case s:return{state:"out",wasSet:!1};case c:return{state:"out",wasSet:!0};case l:return{state:"pending",wasSet:!1};default:return{state:"in",wasSet:!1}}}}},la=function(e){var t=e.generalConsentState,n=e.logger,r=function(e,r){switch(e[na]){case Zr:t.in(r);break;case ea:t.out(r);break;case ta:t.pending(r);break;default:n.warn("Unknown consent value: ".concat(e[na]))}};return{initializeConsent:function(e,t){t[na]?r(t,oa):r(e,aa)},setConsent:function(e){r(e,ia)},suspend:function(){t.pending()},awaitConsent:function(){return t.awaitConsent()},withConsent:function(){return t.withConsent()},current:function(){return t.current()}}},ua=function(e){return e&&e._experience&&e._experience.decisioning&&et(e._experience.decisioning.propositions)?e._experience.decisioning.propositions:[]},da=function(){var e,t,n={},r=!1,a=!1,o=!0,i=function(e){if(a)throw new Error("".concat(e," cannot be called after event is finalized."))},s={hasQuery:function(){return Object.prototype.hasOwnProperty.call(this.getContent(),"query")},getContent:function(){var r=JSON.parse(JSON.stringify(n));return e&&Le(r,{xdm:e}),t&&Le(r,{data:t}),r},setUserXdm:function(t){i("setUserXdm"),e=t},setUserData:function(e){i("setUserData"),t=e},mergeXdm:function(e){i("mergeXdm"),e&&Le(n,{xdm:e})},mergeData:function(e){i("mergeData"),e&&Le(n,{data:e})},mergeMeta:function(e){i("mergeMeta"),e&&Le(n,{meta:e})},mergeQuery:function(e){i("mergeQuery"),e&&Le(n,{query:e})},documentMayUnload:function(){r=!0},finalize:function(r){if(!a){var i=Fe([].concat(f(ua(e)),f(ua(n.xdm))),(function(e,t){return e===t||e.id&&t.id&&e.id===t.id&&e.scope&&t.scope&&e.scope===t.scope}));if(e&&this.mergeXdm(e),i.length>0&&(n.xdm._experience.decisioning.propositions=i),t&&s.mergeData(t),a=!0,r){o=!1;var c={xdm:n.xdm||{},data:n.data||{}},l=r(c);o=!1!==l,n.xdm=c.xdm||{},n.data=c.data||{},Rt(n.xdm)&&delete n.xdm,Rt(n.data)&&delete n.data}}},getDocumentMayUnload:function(){return r},isEmpty:function(){return Rt(n)&&(!e||Rt(e))&&(!t||Rt(t))},shouldSend:function(){return o},getViewName:function(){if(e&&e.web&&e.web.webPageDetails)return e.web.webPageDetails.viewName},toJSON:function(){if(!a)throw new Error("toJSON called before finalize");return n}};return s},ga="Retry-After",pa="x-adobe-edge",ma=function(e){var t=e.extractEdgeInfo;return function(e){var n=e.content,r=void 0===n?{}:n,a=e.getHeader,o=r.handle,i=void 0===o?[]:o,s=r.errors,c=void 0===s?[]:s,l=r.warnings,u=void 0===l?[]:l;return{getPayloadsByType:function(e){return i.filter((function(t){return t.type===e})).flatMap((function(e){return e.payload}))},getErrors:function(){return c},getWarnings:function(){return u},getEdge:function(){return t(a(pa))},toJSON:function(){return r}}}},fa="configure",va="setDebug",ha=function(e){var t,n=e.logger,r=e.configureCommand,a=e.setDebugCommand,o=e.handleError,i=e.validateCommandOptions,s=function(e,o){var s;if(e===fa){if(t)throw new Error("The library has already been configured and may only be configured once.");s=function(){return(t=r(o)).then((function(){}))}}else{if(!t)throw new Error("The library must be configured first. Please do so by executing the configure command.");s=e===va?function(){return a(o)}:function(){return t.then((function(t){var n=t.getCommand(e);if(!n||!Ze(n.run)){var r=[fa,va].concat(t.getCommandNames()).join(", ");throw new Error("The ".concat(e," command does not exist. List of available commands: ").concat(r,"."))}var a=i({command:n,options:o});return n.run(a)}),(function(){return n.warn("An error during configuration is preventing the ".concat(e," command from executing.")),new Promise((function(){}))}))}}return s};return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(r){var a=s(e,t);n.logOnBeforeCommand({commandName:e,options:t}),r(a())})).catch((function(t){return o(t,"".concat(e," command"))})).catch((function(r){throw n.logOnCommandRejected({commandName:e,options:t,error:r}),r})).then((function(r){var a=Pe(r)?r:{};return n.logOnCommandResolved({commandName:e,options:t,result:a}),a}))}},ba="https://adobe.ly/3sHgQHb",Ca=function(e){var t=e.command,n=e.options,r=t.commandName,a=t.documentationUri,o=void 0===a?ba:a,i=t.optionsValidator,s=n;if(i)try{s=i(n)}catch(e){var c="Invalid ".concat(r," command options:\n\t - ").concat(e," For command documentation see: ").concat(o);throw new Error(c)}return s},Ea="https://adobe.ly/3sHh553",ya=function(e){var t=e.combinedConfigValidator,n=e.options,r=e.logger;try{return t.noUnknownFields().required().call({logger:r},n)}catch(e){throw new Error("Resolve these configuration problems:\n\t - ".concat(e.message.split("\n").join("\n\t - "),"\nFor configuration documentation see: ").concat(Ea))}},Sa=function(e,t,n){return n.reduce((function(n,r){var a=r.buildOnInstanceConfiguredExtraParams;return a&&(n=d(d({},n),a({config:e,logger:t}))),n}),{})},Ta=function(e){var t=[],n={get enabled(){return e.enabled},flush:function(){t.forEach((function(t){var n=t.method,r=t.args;return e[n].apply(e,f(r))}))}};return Object.keys(e).filter((function(t){return"function"==typeof e[t]})).forEach((function(e){n[e]=function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];t.push({method:e,args:r})}})),n},Aa=function(e){var t=e.options,n=e.componentCreators,r=e.coreConfigValidators,a=e.createConfig,o=e.logger,i=e.setDebugEnabled,s=Ta(o),c=n.map((function(e){return e.configValidators})).filter((function(e){return e})).reduce((function(e,t){return e.concat(t)}),r),l=a(ya({combinedConfigValidator:c,options:t,logger:s}));i(l.debugEnabled,{fromConfig:!0}),s.flush();var u=Sa(l,o,n);return o.logOnInstanceConfigured(d(d({},u),{},{config:l})),l},_a=function(e){var t=e.componentCreators,n=e.lifecycle,r=e.componentRegistry,a=e.getImmediatelyAvailableTools;return t.forEach((function(e){var t,n=e.namespace,o=a(n);try{t=e(o)}catch(e){throw Cn({error:e,message:"[".concat(n,"] An error occurred during component creation.")})}r.register(n,t)})),n.onComponentsRegistered({lifecycle:n}).then((function(){return r}))},Na=function(e){return d({},e)},Pa="edge.adobedc.net",Ia="adobedc.demdex.net",wa="ee",Ra=function(){return Vr({debugEnabled:kr().default(!1),datastreamId:jr().unique().required(),edgeDomain:jr().domain().default(Pa),edgeBasePath:jr().nonEmpty().default(wa),orgId:jr().unique().required(),onBeforeEventSend:Dr().default(gn),edgeConfigOverrides:Gr}).renamed("edgeConfigId",jr().unique(),"datastreamId")},Oa=function(e){var t=e.errorPrefix,n=e.logger;return function(e,r){var a=hn(e);if(a.code===ra)return n.warn("The ".concat(r," could not fully complete. ").concat(a.message)),{};throw bn({error:a,message:"".concat(t," ").concat(a.message)}),a}},La=function(e){var t=e.fetch;return function(e,n){return t(e,{method:"POST",cache:"no-cache",credentials:"include",headers:{"Content-Type":"text/plain; charset=UTF-8"},referrerPolicy:"no-referrer-when-downgrade",body:n}).then((function(e){return e.text().then((function(t){return{statusCode:e.status,getHeader:function(t){return e.headers.get(t)},body:t}}))}))}},ka=function(e){var t=e.sendBeacon,n=e.sendFetchRequest,r=e.logger;return function(e,a){var o=new Blob([a],{type:"text/plain; charset=UTF-8"});return t(e,o)?Promise.resolve({statusCode:204,getHeader:function(){return null},body:""}):(r.info("Unable to use `sendBeacon`; falling back to `fetch`."),n(e,a))}},Da=function(e){var t=e.getDebugEnabled,n=e.console,r=e.getMonitors,a=e.context,o="[".concat(a.instanceName,"]");a.componentName&&(o+=" [".concat(a.componentName,"]"));var i=function(e,t){var n=r();if(n.length>0){var o=d(d({},a),t);n.forEach((function(t){t[e]&&t[e](o)}))}},s=function(e){for(var r=arguments.length,a=new Array(r>1?r-1:0),s=1;s<r;s++)a[s-1]=arguments[s];i("onBeforeLog",{level:e,arguments:a}),t()&&n[e].apply(n,[o].concat(a))};return{get enabled(){return r().length>0||t()},logOnInstanceCreated:function(e){i("onInstanceCreated",e),s("info","Instance initialized.")},logOnInstanceConfigured:function(e){i("onInstanceConfigured",e),s("info","Instance configured. Computed configuration:",e.config)},logOnBeforeCommand:function(e){i("onBeforeCommand",e),s("info","Executing ".concat(e.commandName," command. Options:"),e.options)},logOnCommandResolved:function(e){i("onCommandResolved",e),s("info","".concat(e.commandName," command resolved. Result:"),e.result)},logOnCommandRejected:function(e){i("onCommandRejected",e),s("error","".concat(e.commandName," command was rejected. Error:"),e.error)},logOnBeforeNetworkRequest:function(e){i("onBeforeNetworkRequest",e),s("info","Request ".concat(e.requestId,": Sending request."),e.payload)},logOnNetworkResponse:function(e){i("onNetworkResponse",e);var t=e.parsedBody||e.body?"response body:":"no response body.";s("info","Request ".concat(e.requestId,": Received response with status code ").concat(e.statusCode," and ").concat(t),e.parsedBody||e.body)},logOnNetworkError:function(e){i("onNetworkError",e),s("error","Request ".concat(e.requestId,": Network request failed."),e.error)},logOnContentHiding:function(e){i("onContentHiding",{status:e.status}),s(e.logLevel,e.message)},logOnContentRendering:function(e){i("onContentRendering",{status:e.status,payload:e.detail}),s(e.logLevel,e.message)},info:s.bind(null,"info"),warn:s.bind(null,"warn"),error:s.bind(null,"error")}},Ma="__view__",xa=function(e){return function(t,n){e.xdm=e.xdm||{},e.xdm.identityMap=e.xdm.identityMap||{},e.xdm.identityMap[t]=e.xdm.identityMap[t]||[],e.xdm.identityMap[t].push(n)}},Ba=function(e){var t=e.payload,n=e.getAction,r=e.getUseSendBeacon,a=e.datastreamIdOverride,o=e.edgeSubPath,i=I(),s=!1,c=!1;return{getId:function(){return i},getPayload:function(){return t},getAction:function(){return n({isIdentityEstablished:c})},getDatastreamIdOverride:function(){return a},getUseSendBeacon:function(){return r({isIdentityEstablished:c})},getEdgeSubPath:function(){return o||""},getUseIdThirdPartyDomain:function(){return s},setUseIdThirdPartyDomain:function(){s=!0},setIsIdentityEstablished:function(){c=!0}}},Va=function(e){var t=e.payload,n=e.datastreamIdOverride,r=function(e){var n=e.isIdentityEstablished;return t.getDocumentMayUnload()&&n};return Ba({payload:t,getAction:function(e){var t=e.isIdentityEstablished;return r({isIdentityEstablished:t})?"collect":"interact"},getUseSendBeacon:r,datastreamIdOverride:n})},ja=function(e){var t=e.content,n=e.addIdentity,r=e.hasIdentity,a=ke(t,"meta.configOverrides");return{mergeMeta:ke(t,"meta"),mergeState:ke(t,"meta.state"),mergeQuery:ke(t,"query"),mergeConfigOverride:function(e){return a(vn(e))},addIdentity:n,hasIdentity:r,toJSON:function(){return t}}},Ua=function(e){return function(t){return void 0!==(e.xdm&&e.xdm.identityMap&&e.xdm.identityMap[t])}},Fa=function(){var e={},t=ja({content:e,addIdentity:xa(e),hasIdentity:Ua(e)});return t.addEvent=function(t){e.events=e.events||[],e.events.push(t)},t.getDocumentMayUnload=function(){return(e.events||[]).some((function(e){return e.getDocumentMayUnload()}))},t},Ga=function(e){var t=e.localConfigOverrides,n=e.globalConfigOverrides,r=e.payload,o={payload:r},i=t||{},s=i.datastreamId,c=a(i,be);return s&&(o.datastreamIdOverride=s),n&&!Rt(n)&&r.mergeConfigOverride(n),c&&!Rt(c)&&r.mergeConfigOverride(c),o},Ha="adb_validation_sessionid",Wa="validation.",qa="clientId",Ka=function(e){var t=e.persistent.getItem(qa);return t||(t=I(),e.persistent.setItem(qa,t)),t},Ya=function(e){var t=e.window,n=(0,e.createNamespacedStorage)(Wa);return function(){var e=he.default.parse(t.location.search)[Ha];if(!e)return"";var r=Ka(n),a="".concat(e,"|").concat(r);return"&".concat(he.default.stringify({adobeAepValidationToken:a}))}},za="Event was canceled because the onBeforeEventSend callback returned false.",Ja=function(e){var t=e.config,n=e.logger,r=e.lifecycle,o=e.consent,i=e.createEvent,s=e.createDataCollectionRequestPayload,c=e.createDataCollectionRequest,l=e.sendEdgeNetworkRequest,u=e.applyResponse,g=t.onBeforeEventSend,p=t.edgeConfigOverrides;return{createEvent:i,sendEvent:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.edgeConfigOverrides,u=a(t,Ce),m=Ga({payload:s(),localConfigOverrides:i,globalConfigOverrides:p}),f=c(m),v=De(),h=De();return r.onBeforeEvent(d(d({},u),{},{event:e,onResponse:v.add,onRequestFailure:h.add})).then((function(){return m.payload.addEvent(e),o.awaitConsent()})).then((function(){try{e.finalize(g)}catch(a){var t=function(){throw a};return h.add(r.onRequestFailure),h.call({error:a}).then(t,t)}if(!e.shouldSend()){h.add(r.onRequestFailure),
n.info(za);var a=new Error(za);return h.call({error:a}).then((function(){}))}return l({request:f,runOnResponseCallbacks:v.call,runOnRequestFailureCallbacks:h.call})}))},applyResponse:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.renderDecisions,a=void 0!==n&&n,o=t.decisionContext,i=void 0===o?{}:o,l=t.responseHeaders,d=void 0===l?{}:l,g=t.responseBody,p=void 0===g?{handle:[]}:g,m=t.personalization,f=s(),v=c({payload:f}),h=De();return r.onBeforeEvent({event:e,renderDecisions:a,decisionContext:i,decisionScopes:[Ma],personalization:m,onResponse:h.add,onRequestFailure:gn}).then((function(){return f.addEvent(e),u({request:v,responseHeaders:d,responseBody:p,runOnResponseCallbacks:h.call})}))}}},$a="state:store",Xa=function(e){var t=e.cookieJar,n=e.shouldTransferCookie,r=e.apexDomain,a=e.dateProvider;return{cookiesToPayload:function(e,a){var o=""!==r&&a.endsWith(r),i={domain:r,cookiesEnabled:!0};if(!o){var s=t.get(),c=Object.keys(s).filter(n).map((function(e){return{key:e,value:s[e]}}));c.length&&(i.entries=c)}e.mergeState(i)},responseToCookies:function(e){e.getPayloadsByType($a).forEach((function(e){var n={domain:r},o=e.attrs&&e.attrs.SameSite&&e.attrs.SameSite.toLowerCase();void 0!==e.maxAge&&(n.expires=new Date(a().getTime()+1e3*e.maxAge)),void 0!==o&&(n.sameSite=o),"none"===o&&(n.secure=!0),t.set(e.key,e.value,n)}))}}},Qa="mboxEdgeCluster",Za="at_qa_mode",eo="mbox",to=function(e){var t=e.orgId,n=e.targetMigrationEnabled;return function(e){return ln(t,e)||e===Za||n&&e===eo}},no="v1",ro=function(e){var t=e.shift()||[],n=e.shift()||[],r=e;return Ie.apply(void 0,[{}].concat(f(t),f(n),f(r)))},ao=function(e){return function(t){var n=function(){throw t};return e.call({error:t}).then(n,n)}},oo=function(e){var t=e.config,n=e.lifecycle,r=e.cookieTransfer,a=e.sendNetworkRequest,o=e.createResponse,i=e.processWarningsAndErrors,s=e.getLocationHint,c=e.getAssuranceValidationTokenParams,l=t.edgeDomain,u=t.edgeBasePath,d=t.datastreamId;return function(e){var t=e.request,g=e.runOnResponseCallbacks,p=void 0===g?gn:g,m=e.runOnRequestFailureCallbacks,f=void 0===m?gn:m,v=De();v.add(n.onResponse),v.add(p);var h=De();return h.add(n.onRequestFailure),h.add(f),n.onBeforeRequest({request:t,onResponse:v.add,onRequestFailure:h.add}).then((function(){var e=t.getUseIdThirdPartyDomain()?Ia:l,n=s(),o=n?"".concat(u,"/").concat(n).concat(t.getEdgeSubPath()):"".concat(u).concat(t.getEdgeSubPath()),i=t.getDatastreamIdOverride()||d,g=t.getPayload();i!==d&&g.mergeMeta({sdkConfig:{datastream:{original:d}}});var p="https://".concat(e,"/").concat(o,"/").concat(no,"/").concat(t.getAction(),"?configId=").concat(i,"&requestId=").concat(t.getId()).concat(c());return r.cookiesToPayload(g,e),a({requestId:t.getId(),url:p,payload:g,useSendBeacon:t.getUseSendBeacon()})})).then((function(e){return i(e),e})).catch(ao(h)).then((function(e){var t=e.parsedBody,n=e.getHeader,a=o({content:t,getHeader:n});return r.responseToCookies(a),v.call({response:a}).then(ro)}))}},io=204,so="The server responded with a",co=function(e){var t=e.logger;return function(e){var n=e.statusCode,r=e.body,a=e.parsedBody;if(n<200||n>=300||!a&&n!==io||a&&!Array.isArray(a.handle)){var o=a?JSON.stringify(a,null,2):r,i=o?"response body:\n".concat(o):"no response body.";throw new Error("".concat(so," status code ").concat(n," and ").concat(i))}if(a){var s=a.warnings,c=void 0===s?[]:s,l=a.errors,u=void 0===l?[]:l;c.forEach((function(e){t.warn("".concat(so," warning:"),e)})),u.forEach((function(e){t.error("".concat(so," non-fatal error:"),e)}))}}},lo=function(e){var t=e.orgId,n=e.cookieJar,r=Vt(t,Qt),a=function(){return n.get(r)},o=function(){var e=n.get(Qa);if(e)return"t".concat(e)};return function(){return a()||o()}},uo=3,go=[429,503,502,504],po=function(e){var t=e.response;return e.retriesAttempted<uo&&go.includes(t.statusCode)},mo=1e3,fo=1e3,vo=.3,ho=function(e){var t=mo+e*fo,n=t*vo,r=t-n,a=t+n;return Math.round(r+Math.random()*(a-r))},bo=function(e){var t,n=e.getHeader(ga);if(n){var r=parseInt(n,10);t=cn(r)?1e3*r:Math.max(0,new Date(n).getTime()-(new Date).getTime())}return t},Co=function(e){var t=e.response,n=e.retriesAttempted,r=bo(t);return void 0===r&&(r=ho(n)),r},Eo=200,yo=function(e){var t=e.cookieTransfer,n=e.lifecycle,r=e.createResponse,a=e.processWarningsAndErrors;return function(e){var o=e.request,i=e.responseHeaders,s=e.responseBody,c=e.runOnResponseCallbacks,l=void 0===c?gn:c,u=e.runOnRequestFailureCallbacks,d=void 0===u?gn:u,g=De();g.add(n.onResponse),g.add(l);var p=De();p.add(n.onRequestFailure),p.add(d);var m=function(e){return i[e]};return n.onBeforeRequest({request:o,onResponse:g.add,onRequestFailure:p.add}).then((function(){return a({statusCode:Eo,getHeader:m,body:JSON.stringify(s),parsedBody:s})})).catch(ao(p)).then((function(){var e=r({content:s,getHeader:m});return t.responseToCookies(e),g.call({response:e}).then(ro)}))}},So=function(e){var t=e.options;return Vr({type:jr(),xdm:Vr({eventType:jr(),identityMap:Fr}),data:Vr({}),documentUnloading:kr(),renderDecisions:kr(),decisionScopes:Lr(jr()).uniqueItems(),personalization:Vr({decisionScopes:Lr(jr()).uniqueItems(),surfaces:Lr(jr()).uniqueItems(),sendDisplayEvent:kr().default(!0),includeRenderedPropositions:kr().default(!1),defaultPersonalizationEnabled:kr(),decisionContext:Vr({})}).default({sendDisplayEvent:!0}),datasetId:jr(),mergeId:jr(),edgeConfigOverrides:Gr,initializePersonalization:kr()}).required().noUnknownFields()(t)},To=function(e){var t=e.options;return Vr({renderDecisions:kr(),responseHeaders:Br(jr().required()),responseBody:Vr({handle:Lr(Vr({type:jr().required(),payload:Or().required()})).required()}).required(),personalization:Vr({sendDisplayEvent:kr().default(!0),decisionContext:Vr({})}).default({sendDisplayEvent:!0})}).noUnknownFields()(t)},Ao=function(e){var t=e.eventManager,n=e.logger;return{commands:{sendEvent:{documentationUri:"https://adobe.ly/3GQ3Q7t",optionsValidator:function(e){return So({options:e})},run:function(e){var r=e.xdm,o=e.data,i=e.documentUnloading,s=e.type,c=e.mergeId,l=e.datasetId,u=e.edgeConfigOverrides,d=a(e,Ee),g=t.createEvent();return i&&g.documentMayUnload(),g.setUserXdm(r),g.setUserData(o),s&&g.mergeXdm({eventType:s}),c&&g.mergeXdm({eventMergeId:c}),u&&(d.edgeConfigOverrides=u),l&&(n.warn("The 'datasetId' option has been deprecated. Please use 'edgeConfigOverrides.com_adobe_experience_platform.datasets.event.datasetId' instead."),d.edgeConfigOverrides=u||{},Le(d.edgeConfigOverrides,{com_adobe_experience_platform:{datasets:{event:{datasetId:l}}}})),t.sendEvent(g,d)}},applyResponse:{documentationUri:"",optionsValidator:function(e){return To({options:e})},run:function(e){var n=e.renderDecisions,r=void 0!==n&&n,a=e.decisionContext,o=void 0===a?{}:a,i=e.responseHeaders,s=void 0===i?{}:i,c=e.responseBody,l=void 0===c?{handle:[]}:c,u=e.personalization,d=t.createEvent();return t.applyResponse(d,{renderDecisions:r,decisionContext:o,responseHeaders:s,responseBody:l,personalization:u})}}}}};Ao.namespace="DataCollector";var _o=function(e,t){return"ID sync ".concat(t?"succeeded":"failed",": ").concat(e.spec.url)},No=function(e){var t=e.fireReferrerHideableImage,n=e.logger;return function(e){var r=e.filter((function(e){return"url"===e.type}));return r.length?Promise.all(r.map((function(e){return t(e.spec).then((function(){n.info(_o(e,!0))})).catch((function(){n.error(_o(e,!1))}))}))).then(gn):Promise.resolve()}},Po=Vr({thirdPartyCookiesEnabled:kr().default(!0),idMigrationEnabled:kr().default(!0)}),Io=Vr({url:jr().required().nonEmpty(),edgeConfigOverrides:Gr}).required().noUnknownFields(),wo="ECID",Ro=function(e){var t,n=e.addEcidQueryToPayload,r=e.addQueryStringIdentityToPayload,a=e.ensureSingleIdentity,o=e.setLegacyEcid,i=e.handleResponseForIdSyncs,s=e.getNamespacesFromResponse,c=e.getIdentity,l=e.consent,u=e.appendIdentityToUrl,g=e.logger,p=e.getIdentityOptionsValidator,m={};return{lifecycle:{onBeforeRequest:function(e){var t=e.request,o=e.onResponse,i=e.onRequestFailure;return n(t.getPayload()),r(t.getPayload()),a({request:t,onResponse:o,onRequestFailure:i})},onResponse:function(e){var n=e.response,r=s(n);return t&&t[wo]||!r||!r[wo]||o(r[wo]),t=r,m=d(d({},m),n.getEdge()),i(n)}},commands:{getIdentity:{optionsValidator:p,run:function(e){var n=e.namespaces;return l.awaitConsent().then((function(){return t?void 0:c(e)})).then((function(){return{identity:n.reduce((function(e,n){return e[n]=t[n]||null,e}),{}),edge:m}}))}},appendIdentityToUrl:{optionsValidator:Io,run:function(e){return l.withConsent().then((function(){return t?void 0:c(e)})).then((function(){return{url:u(t[wo],e.url)}})).catch((function(t){return g.warn("Unable to append identity to url. ".concat(t.message)),e}))}}}}},Oo=function(e){var t=e.config,n=e.getEcidFromVisitor,r=e.apexDomain,a=e.isPageSsl,o=e.cookieJar,i=t.idMigrationEnabled,s=t.orgId,c="AMCV_".concat(s),l=function(){var e=null,t="s_ecid",n=o.get(t)||o.get(c);if(n){var r=/(^|\|)MCMID\|(\d+)($|\|)/,a=n.match(r);a&&(e=a[2])}return e};return{getEcid:function(){if(i){var e=l();return e?Promise.resolve(e):n()}return Promise.resolve()},setEcid:function(e){if(i&&l()!==e){var t=a?{sameSite:"none",secure:!0}:{};o.set(c,"MCMID|".concat(e),d({domain:r,expires:390},t))}}}},Lo=function(e){var t=e.logger;return new Promise((function(e,n){if(Pe(window.adobe)&&Pe(window.adobe.optIn)){var r=window.adobe.optIn;t.info("Delaying request while waiting for legacy opt-in to let Visitor retrieve ECID from server."),r.fetchPermissions((function(){r.isApproved([r.Categories.ECID])?(t.info("Received legacy opt-in approval to let Visitor retrieve ECID from server."),e()):n(new Error("Legacy opt-in was declined."))}),!0)}else e()}))},ko=function(e){var t=e.Visitor;return Ze(t)&&Ze(t.getInstance)&&t},Do=function(e){var t=e.logger,n=e.orgId,r=e.awaitVisitorOptIn;return function(){var e=ko(window);return e?r({logger:t}).then((function(){return t.info("Delaying request while using Visitor to retrieve ECID from server."),new Promise((function(r){e.getInstance(n,{}).getMarketingCloudVisitorID((function(e){t.info("Resuming previously delayed request that was waiting for ECID from Visitor."),r(e)}),!0)}))})).catch((function(e){e?t.info("".concat(e.message,", retrieving ECID from experience edge")):t.info("An error occurred while obtaining the ECID from Visitor.")})):Promise.resolve()}},Mo=function(e){var t=e.processIdSyncs;return function(e){return t(e.getPayloadsByType("identity:exchange"))}},xo=function(e){var t,n=e.doesIdentityCookieExist,r=e.setDomainForInitialIdentityPayload,a=e.addLegacyEcidToPayload,o=e.awaitIdentityCookie,i=e.logger,s=function(e){return r(e),a(e.getPayload())};return function(e){var r=e.request,a=e.onResponse,c=e.onRequestFailure;if(n())return r.setIsIdentityEstablished(),Promise.resolve();if(t){i.info("Delaying request while retrieving ECID from server.");var l=t;return t=l.catch((function(){return o({onResponse:a,onRequestFailure:c})})),l.then((function(){i.info("Resuming previously delayed request."),r.setIsIdentityEstablished()})).catch((function(){return s(r)}))}return(t=o({onResponse:a,onRequestFailure:c})).catch((function(){})),s(r)}},Bo="CORE",Vo=function(e){var t=e.thirdPartyCookiesEnabled,n=e.areThirdPartyCookiesSupportedByDefault,r={identity:{fetch:[wo]}};return t&&n()&&r.identity.fetch.push(Bo),function(e){e.mergeQuery(r)}},jo=function(e){var t=e.thirdPartyCookiesEnabled,n=e.areThirdPartyCookiesSupportedByDefault;return function(e){t&&n()&&e.setUseIdThirdPartyDomain()}},Uo=function(e){var t=e.getLegacyEcid,n=e.addEcidToPayload;return function(e){return e.hasIdentity(wo)?Promise.resolve():t().then((function(t){t&&n(e,t)}))}},Fo="adobe_mc",Go=function(e){try{return decodeURIComponent(e)}catch(e){return""}},Ho=300,Wo=function(e){var t=e.locationSearch,n=e.dateProvider,r=e.orgId,a=e.logger;return function(e){if(!e.hasIdentity(wo)){var o=he.default.parse(t)[Fo];if(void 0!==o){Array.isArray(o)&&(a.warn("Found multiple adobe_mc query string paramters, only using the last one."),o=o[o.length-1]);var s=o.split("|").reduce((function(e,t){var n=i(t.split("="),2),r=n[0],a=n[1];return e[r]=a,e}),{}),c=parseInt(s.TS,10),l=s.MCMID,u=Go(s.MCORGID);n().getTime()/1e3<=c+Ho&&u===r&&l?(a.info("Found valid ECID identity ".concat(l," from the adobe_mc query string parameter.")),e.addIdentity(wo,{id:l})):a.info("Detected invalid or expired adobe_mc query string parameter.")}}}},qo=function(e,t){e.addIdentity(wo,{id:t})},Ko=function(e){var t=e.doesIdentityCookieExist,n=e.orgId,r=e.logger;return function(e){var a=e.onResponse,o=e.onRequestFailure;return new Promise((function(e,i){a((function(){t()?e():(r.warn("Identity cookie not found. This could be caused by any of the following issues:\n"+"\t* The org ID ".concat(n," configured in Alloy doesn't match the org ID specified in the edge configuration.\n")+"\t* Experience edge was not able to set the identity cookie due to domain or cookie restrictions.\n\t* The request was canceled by the browser and not fully processed."),i(new Error("Identity cookie not found.")))})),o((function(){t()?e():i(new Error("Identity cookie not found."))}))}))}},Yo=function(e){return e.getPayloadsByType("identity:result").reduce((function(e,t){return t.namespace&&t.namespace.code&&(e[t.namespace.code]=t.id),e}),{})},zo=function(e){var t=e.sendEdgeNetworkRequest,n=e.createIdentityRequestPayload,r=e.createIdentityRequest,a=e.globalConfigOverrides;return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=e.namespaces,i=e.edgeConfigOverrides,s=Ga({payload:n(o),globalConfigOverrides:a,localConfigOverrides:i}),c=r(s);return t({request:c})}},Jo=function(e){var t=e.payload,n=e.datastreamIdOverride;return Ba({payload:t,datastreamIdOverride:n,getAction:function(){return"identity/acquire"},getUseSendBeacon:function(){return!1}})},$o=function(e){var t={query:{identity:{fetch:e}}};return ja({content:t,addIdentity:xa(t),hasIdentity:Ua(t)})},Xo=/^([^?#]*)(\??[^#]*)(#?.*)$/,Qo=function(e){return""===e?"?":"?"===e?"":"&"},Zo=function(e){var t=e.dateProvider,n=e.orgId;return function(e,r){var a=Math.round(t().getTime()/1e3),o=encodeURIComponent("TS=".concat(a,"|MCMID=").concat(e,"|MCORGID=").concat(encodeURIComponent(n))),s=i(r.match(Xo),4),c=s[1],l=s[2],u=s[3],d=Qo(l);return"".concat(c).concat(l).concat(d,"adobe_mc=").concat(o).concat(u)}},ei=Vr({namespaces:Lr(Ur(wo,Bo)).nonEmpty().uniqueItems().default([wo]),edgeConfigOverrides:Gr}).noUnknownFields().default({namespaces:[wo]}),ti=function(e){var t=e.thirdPartyCookiesEnabled;return function(e){var n=ei(e);if(!t&&n.namespaces.includes(Bo))throw new Error("namespaces: The ".concat(Bo," namespace cannot be requested when third-party cookies are disabled."));return n}},ni=function(e){var t=e.config,n=e.logger,r=e.consent,a=e.fireReferrerHideableImage,o=e.sendEdgeNetworkRequest,i=e.apexDomain,s=e.getBrowser,c=t.orgId,l=t.thirdPartyCookiesEnabled,u=t.edgeConfigOverrides,d=Do({logger:n,orgId:c,awaitVisitorOptIn:Lo}),g=Me({logger:n,cookieJar:Re}),p=Oo({config:t,getEcidFromVisitor:d,apexDomain:i,cookieJar:g,isPageSsl:"https:"===window.location.protocol}),m=Zt({orgId:c}),f=zo({sendEdgeNetworkRequest:o,createIdentityRequestPayload:$o,createIdentityRequest:Jo,globalConfigOverrides:u}),v=Jt({getBrowser:s}),h=jo({thirdPartyCookiesEnabled:l,areThirdPartyCookiesSupportedByDefault:v}),b=Uo({getLegacyEcid:p.getEcid,addEcidToPayload:qo}),C=Wo({locationSearch:window.document.location.search,dateProvider:function(){return new Date},orgId:c,logger:n}),E=Ko({doesIdentityCookieExist:m,orgId:c,logger:n}),y=xo({doesIdentityCookieExist:m,setDomainForInitialIdentityPayload:h,addLegacyEcidToPayload:b,awaitIdentityCookie:E,logger:n}),S=No({fireReferrerHideableImage:a,logger:n}),T=Mo({processIdSyncs:S}),A=Zo({dateProvider:function(){return new Date},orgId:c,globalConfigOverrides:u}),_=ti({thirdPartyCookiesEnabled:l}),N=Vo({thirdPartyCookiesEnabled:l,areThirdPartyCookiesSupportedByDefault:v});return Ro({addEcidQueryToPayload:N,addQueryStringIdentityToPayload:C,ensureSingleIdentity:y,setLegacyEcid:p.setEcid,handleResponseForIdSyncs:T,getNamespacesFromResponse:Yo,getIdentity:f,consent:r,appendIdentityToUrl:A,logger:n,config:t,getIdentityOptionsValidator:_})};ni.namespace="Identity",ni.configValidators=Po;var ri="2.24.0",ai=function(e){var t=e.config,n=e.componentRegistry,r=[].concat(f(n.getCommandNames()),[fa,va]).sort(),a=d({},t);Object.keys(t).forEach((function(e){var n=t[e];"function"==typeof n&&(a[e]=n.toString())}));var o=n.getComponentNames();return{version:ri,configs:a,commands:r,components:o}},oi=function(e){var t=e.config,n=e.componentRegistry;return{commands:{getLibraryInfo:{run:function(){return{libraryInfo:ai({config:t,componentRegistry:n})}}}}}};oi.namespace="LibraryInfo";var ii,si=Object.freeze({__proto__:null,dataCollector:Ao,identity:ni,libraryInfo:oi}),ci=rn(window),li=window,ui=(li.console,li.fetch),di=li.navigator,gi=Ra(),pi=Mt(window,Re),mi=La({fetch:ui}),fi=wt(),vi=Ya({window:window,createNamespacedStorage:ci}),hi=tn({userAgent:window.navigator.userAgent}),bi=function(e){var t=e.instanceName,n=e.logController,r=n.setDebugEnabled,a=n.logger,o=n.createComponentLogger,i=e.components,s=$r(),c=zr(s),l=i.concat(Object.values(si)),u=function(e){r(e.enabled,{fromConfig:!1})},d=Me({logger:a,cookieJar:Re}),g=function(e){var n=Aa({options:e,componentCreators:l,coreConfigValidators:gi,createConfig:Na,logger:a,setDebugEnabled:r}),i=n.orgId,u=n.targetMigrationEnabled,g=to({orgId:i,targetMigrationEnabled:u}),p=Xa({cookieJar:d,shouldTransferCookie:g,apexDomain:pi,dateProvider:function(){return new Date}}),m=Ze(di.sendBeacon)?ka({sendBeacon:di.sendBeacon.bind(di),sendFetchRequest:mi,logger:a}):mi,f=Xr({logger:a,sendFetchRequest:mi,sendBeaconRequest:m,isRequestRetryable:po,getRequestRetryDelay:Co}),v=co({logger:a}),h=Qr({logger:a}),b=ma({extractEdgeInfo:h}),C=lo({orgId:i,cookieJar:Re}),E=oo({config:n,lifecycle:c,cookieTransfer:p,sendNetworkRequest:f,createResponse:b,processWarningsAndErrors:v,getLocationHint:C,getAssuranceValidationTokenParams:vi}),y=yo({lifecycle:c,cookieTransfer:p,createResponse:b,processWarningsAndErrors:v}),S=ca({logger:a}),T=la({generalConsentState:S,logger:a}),A=Ja({config:n,logger:a,lifecycle:c,consent:T,createEvent:da,createDataCollectionRequestPayload:Fa,createDataCollectionRequest:Va,sendEdgeNetworkRequest:E,applyResponse:y});return _a({componentCreators:l,lifecycle:c,componentRegistry:s,getImmediatelyAvailableTools:function(e){var r=o(e);return{config:n,componentRegistry:s,consent:T,eventManager:A,fireReferrerHideableImage:fi,logger:r,lifecycle:c,sendEdgeNetworkRequest:E,handleError:Oa({errorPrefix:"[".concat(t,"] [").concat(e,"]"),logger:r}),createNamespacedStorage:ci,apexDomain:pi,getBrowser:hi}}})},p=Oa({errorPrefix:"[".concat(t,"]"),logger:a});return ha({logger:a,configureCommand:g,setDebugCommand:u,handleError:p,validateCommandOptions:Ca})},Ci=function(e){var t=e.eventManager,n=e.lifecycle,r=e.handleError;return function(e){if(e.s_fe)return Promise.resolve();var a=e.target,o=t.createEvent();return o.documentMayUnload(),n.onClick({event:o,clickedElement:a}).then((function(){return o.isEmpty()?Promise.resolve():t.sendEvent(o)})).then(gn).catch((function(e){r(e,"click collection")}))}},Ei=function(e){var t=e.eventManager,n=e.lifecycle,r=e.handleError,a=Ci({eventManager:t,lifecycle:n,handleError:r});document.addEventListener("click",a,!0)},yi=jr().regexp().default("\\.(exe|zip|wav|mp3|mov|mpg|avi|wmv|pdf|doc|docx|xls|xlsx|ppt|pptx)$"),Si=Vr({clickCollectionEnabled:kr().default(!0),clickCollection:Vr({internalLinkEnabled:kr().default(!0),externalLinkEnabled:kr().default(!0),downloadLinkEnabled:kr().default(!0),sessionStorageEnabled:kr().default(!1),eventGroupingEnabled:kr().default(!1),filterClickProperties:Dr()}).default({internalLinkEnabled:!0,externalLinkEnabled:!0,downloadLinkEnabled:!0,sessionStorageEnabled:!1,eventGroupingEnabled:!1}),downloadLinkQualifier:yi,onBeforeLinkClickSend:Dr().deprecated('The field "onBeforeLinkClickSend" has been deprecated. Use "clickCollection.filterClickDetails" instead.')}),Ti="cppXYctnr",Ai=function(){return null!==(arguments.length>0&&void 0!==arguments[0]?arguments[0]:document).getElementById(Ti)},_i=function(e){var t=e;return/^https?:\/\//i.test(t)||(t="".concat(window.location.protocol,"//").concat(e)),new URL(t).hostname},Ni=function(e,t){return _i(e)!==_i(t)},Pi=function(e,t){return t&&("download"===t&&!e.downloadLinkEnabled||"exit"===t&&!e.externalLinkEnabled||"other"===t&&!e.internalLinkEnabled)},Ii=function(e){var t=e.config,n=e.logger,r=e.getClickedElementProperties,a=e.clickActivityStorage,o=t.clickCollectionEnabled,i=t.clickCollection;return o?function(e){var o=e.event,s=e.clickedElement,c=r({clickActivityStorage:a,clickedElement:s,config:t,logger:n}),l=c.linkType;Ai()||(c.isValidLink()&&Pi(i,l)?n.info("Cancelling link click event due to clickCollection.".concat(l,"LinkEnabled = false.")):!c.isInternalLink()||!i.eventGroupingEnabled||t.onBeforeLinkClickSend&&!i.filterClickDetails||Ni(window.location.hostname,c.linkUrl)?c.isValidLink()?(o.mergeXdm(c.xdm),o.mergeData(c.data),a.save({pageName:c.pageName,pageIDType:c.pageIDType})):c.isValidActivityMapData()&&a.save(c.properties):a.save(c.properties))}:function(){}},wi=function(e){return{eventType:"web.webinteraction.linkClicks",web:{webInteraction:{name:e.linkName,region:e.linkRegion,type:e.linkType,URL:e.linkUrl,linkClicks:{value:1}}}}},Ri=function(e){return{__adobe:{analytics:{contextData:{a:{activitymap:{page:e.pageName,link:e.linkName,region:e.linkRegion,pageIDType:e.pageIDType}}}}}}},Oi=function(e,t){var n=e.xdm,r=e.data,a=e.clickedElement;if(t.clickedElement=a,n&&n.web&&n.web.webInteraction){var o=n.web.webInteraction,i=o.name,s=o.region,c=o.type,l=o.URL;t.linkName=i,t.linkRegion=s,t.linkType=c,t.linkUrl=l}if(r&&r.__adobe&&r.__adobe.analytics){var u=r.__adobe.analytics.contextData;if(u&&u.a&&u.a.activitymap){var d=u.a.activitymap,g=d.page,p=d.link,m=d.region,f=d.pageIDType;t.pageName=g||t.pageName,t.linkName=p||t.linkName,t.linkRegion=m||t.linkRegion,void 0!==f&&(t.pageIDType=f)}}},Li=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.properties,n=e.logger,r=t||{};return{get pageName(){return r.pageName},set pageName(e){r.pageName=e},get linkName(){return r.linkName},set linkName(e){r.linkName=e},get linkRegion(){return r.linkRegion},set linkRegion(e){r.linkRegion=e},get linkType(){return r.linkType},set linkType(e){r.linkType=e},get linkUrl(){return r.linkUrl},set linkUrl(e){r.linkUrl=e},get pageIDType(){return r.pageIDType},set pageIDType(e){r.pageIDType=e},get clickedElement(){return r.clickedElement},set clickedElement(e){r.clickedElement=e},get properties(){return{pageName:r.pageName,linkName:r.linkName,linkRegion:r.linkRegion,linkType:r.linkType,linkUrl:r.linkUrl,pageIDType:r.pageIDType}},isValidLink:function(){return!!(r.linkUrl&&r.linkType&&r.linkName&&r.linkRegion)},isInternalLink:function(){return this.isValidLink()&&"other"===r.linkType},isValidActivityMapData:function(){return!!r.pageName&&!!r.linkName&&!!r.linkRegion&&void 0!==r.pageIDType},get xdm(){return r.filteredXdm?r.filteredXdm:wi(this)},get data(){return r.filteredData?r.filteredData:Ri(this)},applyPropertyFilter:function(e){e&&!1===e(r)&&(n&&n.info("Clicked element properties were rejected by filter function: ".concat(JSON.stringify(this.properties,null,2))),r={})},applyOptionsFilter:function(e){var t=this.options;if(t&&t.clickedElement&&(t.xdm||t.data)){if(e&&!1===e(t))return n&&n.info("Clicked element properties were rejected by filter function: ".concat(JSON.stringify(this.properties,null,2))),void(this.options=void 0);this.options=t,r.filteredXdm=t.xdm,r.filteredData=t.data}},get options(){var e={};if(this.isValidLink()&&(e.xdm=this.xdm),this.isValidActivityMapData()&&(e.data=this.data),this.clickedElement&&(e.clickedElement=this.clickedElement),e.xdm||e.data)return e},set options(e){r={},e&&Oi(e,r)}}},ki=function(e){var t=e.clickActivityStorage;return function(e){if(!Ai()){var n=t.load(),r=Li({properties:n});if(r.isValidLink()||r.isValidActivityMapData()){if(r.isValidLink()){var a=r.xdm;delete a.eventType,e.mergeXdm(a)}r.isValidActivityMapData()&&e.mergeData(r.data),t.save({pageName:r.pageName,pageIDType:r.pageIDType})}}}},Di=function(e){var t=e.window,n=e.getLinkName,r=e.getLinkRegion,a=e.getAbsoluteUrlFromAnchorElement,o=e.findClickableElement,i=e.determineLinkType;return function(e){var s=e.clickedElement,c=e.config,l=e.logger,u=e.clickActivityStorage,d=c.onBeforeLinkClickSend,g=c.clickCollection.filterClickDetails,p=Li({logger:l});if(s){var m=o(s);if(m){p.clickedElement=s,p.linkUrl=a(t,m),p.linkType=i(t,c,p.linkUrl,m),p.linkRegion=r(m),p.linkName=n(m),p.pageIDType=0,p.pageName=t.location.href;var f=u.load();f&&f.pageName&&(p.pageName=f.pageName,p.pageIDType=1),g?p.applyPropertyFilter(g):d&&p.applyOptionsFilter(d)}}return p}},Mi="clickData",xi=function(e){var t=e.storage;return{save:function(e){var n=JSON.stringify(e);t.setItem(Mi,n)},load:function(){var e=null,n=t.getItem(Mi);return n&&(e=JSON.parse(n)),e},remove:function(){t.removeItem(Mi)}}},Bi=function(e){var t=e.clickActivityStorage;return function(e){t.save({pageName:e.getContent().xdm.web.webPageDetails.name,pageIDType:1})}},Vi=function(e){return e&&e.replace(/\s+/g," ").trim()},ji=/^(SCRIPT|STYLE|LINK|CANVAS|NOSCRIPT|#COMMENT)$/i,Ui=function(e){return!(e&&e.nodeName&&e.nodeName.match(ji))},Fi=function(e){var t=[],n=!1;return Ui(e)?(t.push(e),e.childNodes&&Array.prototype.slice.call(e.childNodes).forEach((function(e){var r=Fi(e);t=t.concat(r.supportedNodes),n=n||r.includesUnsupportedNodes}))):n=!0,{supportedNodes:t,includesUnsupportedNodes:n}},Gi=function(e,t,n){var r;return n&&n!==e.nodeName.toUpperCase()||(r=e.getAttribute(t)),r},Hi=function(e){var t={texts:[]};return e.supportedNodes.forEach((function(e){e.getAttribute&&(t.alt||(t.alt=Vi(e.getAttribute("alt"))),t.title||(t.title=Vi(e.getAttribute("title"))),t.inputValue||(t.inputValue=Vi(Gi(e,"value","INPUT"))),t.imgSrc||(t.imgSrc=Vi(Gi(e,"src","IMG")))),e.nodeValue&&t.texts.push(e.nodeValue)})),t},Wi=/^(HEADER|MAIN|FOOTER|NAV)$/i,qi=function(e){var t;return"region"===e.role&&dn(e["aria-label"])&&(t=e["aria-label"]),t},Ki=function(e){var t;return e&&e.nodeName&&e.nodeName.match(Wi)&&(t=e.nodeName),t},Yi=function(e){return!!e&&/^[a-z0-9]+:\/\//i.test(e)},zi=function(e){return!(!e.href||"A"!==e.tagName&&"AREA"!==e.tagName||e.onclick&&e.protocol&&!(e.protocol.toLowerCase().indexOf("javascript")<0))},Ji=function(e){return!!e&&!!e.onclick},$i=function(e){if("INPUT"===e.tagName){var t=e.getAttribute("type");if("submit"===t)return!0;if("image"===t&&e.src)return!0}return!1},Xi=function(e){return"BUTTON"===e.tagName&&"submit"===e.type},Qi=function(e){var t=e.indexOf("?"),n=e.indexOf("#");return t>=0&&(t<n||n<0)?e.substring(0,t):n>=0?e.substring(0,n):e},Zi=function(e,t,n){var r=!1;if(t)if(n&&n.download)r=!0;else if(e){var a=new RegExp(e),o=Qi(t).toLowerCase();r=a.test(o)}return r},es=function(e,t){var n=!1;if(t&&e.location.hostname){var r=e.location.hostname.toLowerCase();n=Qi(t).toLowerCase().indexOf(r)<0}return n},ts=function(e){var t=e.getContent();return void 0!==t.xdm&&void 0!==t.xdm.web&&void 0!==t.xdm.web.webPageDetails&&void 0!==t.xdm.web.webPageDetails.name},ns=function(){var e={};return{getItem:function(t){return e[t]},setItem:function(t,n){e[t]=n},removeItem:function(t){delete e[t]}}},rs=Di({window:window,getLinkName:function(e){var t=Vi(e.innerText||e.textContent),n=Fi(e);if(!t||n.includesUnsupportedNodes){var r=Hi(n);(t=Vi(r.texts.join("")))||(t=r.alt||r.title||r.inputValue||r.imgSrc)}return t||""},getLinkRegion:function(e){for(var t,n=e.parentNode;n;){if(t=Vi(n.id||qi(n)||Ki(n)))return t;n=n.parentNode}return"BODY"},getAbsoluteUrlFromAnchorElement:function(e,t){var n=e.location,r=t.href||"";"string"!=typeof r&&(r="");var a=t.protocol,o=t.host;if(r&&!Yi(r)){a||(a=n.protocol?n.protocol:""),a=a?"".concat(a,"//"):"",o||(o=n.host?n.host:"");var i="";if("/"!==r.substring(0,1)){var s=n.pathname.lastIndexOf("/");s=s<0?0:s,i=n.pathname.substring(0,s)}r="".concat(a).concat(o).concat(i,"/").concat(r)}return r},findClickableElement:function(e){for(var t=e;t;){if(zi(t)||Ji(t)||$i(t)||Xi(t))return t;t=t.parentNode}return null},determineLinkType:function(e,t,n,r){var a="other";return dn(n)&&(Zi(t.downloadLinkQualifier,n,r)?a="download":es(e,n)&&(a="exit")),a}}),as=function(e){if(!ii){var t=rn(window)(e.orgId||""),n=ns(),r=e.clickCollection.sessionStorageEnabled?t.session:n;ii=xi({storage:r})}},os=function(e){var t=e.config,n=e.eventManager,r=e.handleError,a=e.logger,o=t.clickCollection;ii||as(t);var i=Ii({config:t,logger:a,clickActivityStorage:ii,getClickedElementProperties:rs}),s=ki({clickActivityStorage:ii}),c=Bi({clickActivityStorage:ii});return{lifecycle:{onComponentsRegistered:function(e){var t=e.lifecycle;Ei({eventManager:n,lifecycle:t,handleError:r})},onClick:function(e){var t=e.event,n=e.clickedElement;i({event:t,clickedElement:n})},onBeforeEvent:function(e){var t=e.event;ts(t)&&(o.eventGroupingEnabled&&s(t),c(t,a,ii))}}}};os.namespace="ActivityCollector",os.configValidators=Si,os.buildOnInstanceConfiguredExtraParams=function(e){var t=e.config,n=e.logger;return ii||as(t),{getLinkDetails:function(e){return rs({clickActivityStorage:ii,clickedElement:e,config:t,logger:n}).properties}}};var is=function(e){return"URL destination ".concat("succeeded",": ",e.spec.url)},ss=function(e){var t=e.fireReferrerHideableImage,n=e.logger,r=e.cookieJar,a=e.isPageSsl?{sameSite:"none",secure:!0}:{},o=function(e){e.filter((function(e){return"cookie"===e.type})).forEach((function(e){var t=e.spec,n=t.name,o=t.value,i=t.domain,s=t.ttlDays;r.set(n,o||"",d({domain:i||"",expires:s||10},a))}))},i=function(e){var r=e.filter((function(e){return"url"===e.type}));return Promise.all(r.map((function(e){return t(e.spec).then((function(){n.info(is(e))})).catch((function(){}))}))).then(gn)};return function(e){return o(e),i(e)}},cs=function(e){var t=e.processDestinations,n=function(e){var n=e.response.getPayloadsByType("activation:push");return t(n)},r=function(e){return{destinations:e.response.getPayloadsByType("activation:pull")}};return function(e){var t=e.response;return n({response:t}).then((function(){return r({response:t})}))}},ls=function(e){var t=e.logger,n=e.fireReferrerHideableImage,r=Re.withConverter({write:function(e){return encodeURIComponent(e)}}),a=Me({logger:t,cookieJar:r}),o=ss({fireReferrerHideableImage:n,logger:t,cookieJar:a,isPageSsl:"https:"===window.location.protocol});return{lifecycle:{onResponse:cs({processDestinations:o})},commands:{}}};ls.namespace="Audiences";var us=function(e){return function(t){var n={webPageDetails:{URL:e.location.href||e.location},webReferrer:{URL:e.document.referrer}};Le(t,{web:n})}},ds=function(e){var t=e.screen.orientation;if(null==t||null==t.type)return null;var n=t.type.split("-");return 0===n.length||"portrait"!==n[0]&&"landscape"!==n[0]?null:n[0]},gs=function(e){if(Ze(e.matchMedia)){if(e.matchMedia("(orientation: portrait)").matches)return"portrait";if(e.matchMedia("(orientation: landscape)").matches)return"landscape"}return null},ps=function(e){return function(t){var n=e.screen,r=n.width,a=n.height,o={},i=yn(a);i>=0&&(o.screenHeight=i);var s=yn(r);s>=0&&(o.screenWidth=s);var c=ds(e)||gs(e);c&&(o.screenOrientation=c),Object.keys(o).length>0&&Le(t,{device:o})}},ms=function(e){return function(t){var n=e.document.documentElement,r=void 0===n?{}:n,a=r.clientWidth,o=r.clientHeight,i={type:"browser"},s=yn(a);s>=0&&(i.browserDetails={viewportWidth:s});var c=yn(o);c>=0&&(i.browserDetails=i.browserDetails||{},i.browserDetails.viewportHeight=c),Le(t,{environment:i})}},fs=function(e){return function(t){var n=e(),r={},a=yn(n.getTimezoneOffset());void 0!==a&&(r.localTimezoneOffset=a),(void 0===a||Math.abs(a)<6e3)&&(r.localTime=Tn(n)),Le(t,{placeContext:r})}},vs=function(e){return function(t){var n=e().toISOString();Le(t,{timestamp:n})}},hs="https://ns.adobe.com/experience/alloy",bs=function(e){var t={name:hs,version:ri,environment:"browser"};Le(e,{implementationDetails:t})},Cs=function(e,t,n,r){var a=e.context.flatMap((function(e,r){return n[e]?[n[e]]:(t.warn("Invalid context[".concat(r,"]: '").concat(e,"' is not available.")),[])})).concat(r);return{namespace:"Context",lifecycle:{onBeforeEvent:function(e){var n=e.event,r={};return Promise.all(a.map((function(e){return Promise.resolve(e(r,t))}))).then((function(){return n.mergeXdm(r)}))}}}},Es=[["architecture","string"],["bitness","string"],["model","string"],["platformVersion","string"],["wow64","boolean"]],ys=function(e){return void 0!==e.userAgentData},Ss=function(e){return ys(e)?function(t,n){try{return e.userAgentData.getHighEntropyValues(Es.map((function(e){return e[0]}))).then((function(e){var n={};Es.forEach((function(t){
var r=i(t,2),a=r[0],o=r[1];Object.prototype.hasOwnProperty.call(e,a)&&y(e[a])===o&&(n[a]=e[a])})),Le(t,{environment:{browserDetails:{userAgentClientHints:n}}})}))}catch(e){return n.warn("Unable to collect user-agent client hints. ".concat(e.message)),gn}}:gn},Ts=us(window),As=ps(window),_s=ms(window),Ns=fs((function(){return new Date})),Ps=vs((function(){return new Date})),Is={web:Ts,device:As,environment:_s,placeContext:Ns},ws={highEntropyUserAgentHints:Ss(navigator)},Rs=d(d({},Is),ws),Os=[Ps,bs],Ls=function(e){var t=e.config,n=e.logger;return Cs(t,n,Rs,Os)};Ls.namespace="Context",Ls.configValidators=Vr({context:Lr(jr()).default(Object.keys(Is))});var ks="personalization:decisions",Ds=function(e){return null!==e&&"object"===y(e)&&Object.getPrototypeOf(e)===Object.prototype},Ms=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return Object.keys(e).forEach((function(r){Ds(e[r])||Array.isArray(e[r])?Ms(e[r],t,[].concat(f(n),[r])):t[[].concat(f(n),[r]).join(".")]=e[r]})),t},xs=function(e){return Ds(e)?Ms(e):e},Bs=function(e){var t=e.renderDecisions,n=e.decisionProvider,r=e.applyResponse,a=e.event,o=e.personalization,i=e.decisionContext,s=d(d({},xs(a.getContent())),i);return function(e){var i=e.response;if(n.addPayloads(i.getPayloadsByType(ks)),!a.hasQuery())return{propositions:[]};var c=n.evaluate(s);return r({renderDecisions:t,propositions:c,event:a,personalization:o})}},Vs={MATCHER:"matcher",GROUP:"group",HISTORICAL:"historical"},js={EQUALS:"eq",NOT_EQUALS:"ne",EXISTS:"ex",NOT_EXISTS:"nx",GREATER_THAN:"gt",GREATER_THAN_OR_EQUAL_TO:"ge",LESS_THAN:"lt",LESS_THAN_OR_EQUAL_TO:"le",CONTAINS:"co",NOT_CONTAINS:"nc",STARTS_WITH:"sw",ENDS_WITH:"ew"},Us={AND:"and",OR:"or"},Fs={ANY:"any",ORDERED:"ordered"},Gs=(g(g(g(g(g(g(g(g(g(g(pe={},js.EQUALS,R()),js.NOT_EQUALS,O()),js.EXISTS,L()),js.NOT_EXISTS,k()),js.GREATER_THAN,M()),js.GREATER_THAN_OR_EQUAL_TO,x()),js.LESS_THAN,B()),js.LESS_THAN_OR_EQUAL_TO,V()),js.CONTAINS,j()),js.NOT_CONTAINS,U()),g(g(pe,js.STARTS_WITH,F()),js.ENDS_WITH,G())),Hs=["iam.eventType","eventType","type"],Ws=["iam.id","id"],qs="https://ns.adobe.com/personalization/default-content-item",Ks="https://ns.adobe.com/personalization/dom-action",Ys="https://ns.adobe.com/personalization/html-content-item",zs="https://ns.adobe.com/personalization/json-content-item",Js="https://ns.adobe.com/personalization/ruleset-item",$s="https://ns.adobe.com/personalization/redirect-item",Xs="https://ns.adobe.com/personalization/message/in-app",Qs="https://ns.adobe.com/personalization/message/content-card",Zs="decisioning.propositionDisplay",ec="decisioning.propositionInteract",tc="decisioning.propositionTrigger",nc="decisioning.propositionDismiss",rc="decisioning.propositionSuppressDisplay",ac=1,oc=function(e,t){return function(n){var r=e.getItem(t);if(!r)return n;try{return JSON.parse(r)}catch(e){return n}}},ic=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return e};return function(r){e.setItem(t,JSON.stringify(n(r)))}},sc=function(e){var t=new Date;return t.setDate(t.getDate()-e),t},cc=function(e){var t=e.scopeDetails,n=(void 0===t?{}:t).activity;return(void 0===n?{}:n).id},lc=function(){var e={};return{getItem:function(t){return t in e?e[t]:null},setItem:function(t,n){e[t]=n}}},uc=function(e){e.clear()},dc=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})._experience;return!(!e||"object"!==y(e))},gc=function(e){var t=e.scopeDetails;return(void 0===t?{}:t).decisionProvider},pc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[];return Array.isArray(e)?(e.forEach((function(e){Array.isArray(e)?t.push.apply(t,f(pc(e))):t.push(e)})),t):e},mc="text/html",fc="application/json",vc=function(e,t,n){return{schema:n.schema,data:n.data,id:n.id||e}},hc="schema",bc=g(g({},"cjmiam",(function(e,t,n){var r=n.html,a=n.mobileParameters;return{schema:Xs,data:{mobileParameters:a,webParameters:{},content:r,contentType:mc},id:e}})),hc,vc),Cc=function(){return function(e){var t=e.id,n=e.type,r=e.detail;return"function"==typeof bc[n]?bc[n](t,n,r):r}},Ec=function(e){var t=e.schema,n=e.data;if(t===Js)return!0;if(t!==zs)return!1;try{var r="string"==typeof n.content?JSON.parse(n.content):n.content;return r&&Object.prototype.hasOwnProperty.call(r,"version")&&Object.prototype.hasOwnProperty.call(r,"rules")}catch(e){return!1}},yc=function(e,t,n){var r,a=Cc(),o=cc(e),i=[],s=function(e){var t=e.data,n=void 0===t?{}:t,r=e.schema===Js?n:n.content;r&&i.push(ge("string"==typeof r?JSON.parse(r):r))},c=function(r){var s=t.getEvent(Zs,o),c=s?s.firstTimestamp:void 0,l=pc(i.map((function(e){return e.execute(r)}))).map(a).map((function(e){var t=(n.recordQualified(o)||{}).firstTimestamp;return d(d({},e),{},{data:d(d({},e.data),{},{qualifiedDate:t,displayedDate:c})})}));return d(d({},e),{},{items:l})};return Array.isArray(e.items)&&e.items.filter(Ec).forEach(s),{rank:(null==e||null===(r=e.scopeDetails)||void 0===r?void 0:r.rank)||1/0,evaluate:c,isEvaluable:i.length>0}},Sc={DISPLAY:"display",INTERACT:"interact",TRIGGER:"trigger",DISMISS:"dismiss",SUPPRESS:"suppressDisplay"},Tc=g(g(g(g(g({},Zs,Sc.DISPLAY),ec,Sc.INTERACT),tc,Sc.TRIGGER),nc,Sc.DISMISS),rc,Sc.SUPPRESS),Ac=g(g(g(g(g({},Sc.DISPLAY,Zs),Sc.INTERACT,ec),Sc.TRIGGER,tc),Sc.DISMISS,nc),Sc.SUPPRESS,rc),_c=function(e){return Tc[e]},Nc=function(e){return Ac[e]},Pc=function(e){var t=e.eventRegistry;return{recordQualified:function(e){if(e)return t.addEvent({},Sc.TRIGGER,e)}}},Ic=function(e){var t=e.eventRegistry,n={},r=Pc({eventRegistry:t}),a=function(e){var a=cc(e);if(a){var o=yc(e,t,r);o.isEvaluable&&(n[a]=o)}},o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.values(n).sort((function(e,t){return e.rank-t.rank})).map((function(t){return t.evaluate(e)})).filter((function(e){return e.items.length>0}))};return{addPayload:a,addPayloads:function(e){e.forEach(a)},evaluate:o}},wc=function(e){return function(t){var n=t.renderDecisions,r=void 0!==n&&n,a=t.propositions,o=void 0===a?[]:a,i=t.event,s=t.personalization;return e&&e.onDecision({renderDecisions:r,propositions:o,event:i,personalization:s}),{propositions:o}}},Rc="AJO",Oc="TGT",Lc="events",kc=1e3,Dc=30,Mc=function(e){return"iam.".concat(e)},xc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kc,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Dc;return function(n){var r={};return Object.keys(n).forEach((function(a){r[a]={},Object.values(n[a]).filter((function(e){return new Date(e.firstTimestamp)>=sc(t)})).sort((function(e,t){return e.firstTimestamp-t.firstTimestamp})).slice(-1*e).forEach((function(e){r[a][e.event[Mc("id")]]=e}))})),r}},Bc=function(e){var t,n,r,a=e.storage,o=a,i=function(e){t=oc(o=e,Lc),n=ic(o,Lc,xc(kc,Dc)),r=t({})};i(a);var s=function(e,t,a,o){if(t&&a){r[t]||(r[t]={});var i=r[t][a],s=i?i.count:0,c=(new Date).getTime(),l=i?i.firstTimestamp||i.timestamp:c;return r[t][a]={event:d(d({},e),{},g(g(g({},Mc("id"),a),Mc("eventType"),t),Mc("action"),o)),firstTimestamp:l,timestamp:c,count:s+1},n(r),r[t][a]}};return{addExperienceEdgeEvent:function(e){var t=e.getContent().xdm,n=void 0===t?{}:t,r=n._experience;if(dc(n)){var a=r.decisioning,o=void 0===a?{}:a,i=o.propositionEventType,c=void 0===i?{}:i,l=o.propositionAction,u=void 0===l?{}:l,d=o.propositions,g=void 0===d?[]:d,p=Object.keys(c);if(0!==p.length){var m=function(e){return c[e]===ac},f=u.id;p.filter(m).forEach((function(e){g.forEach((function(t){gc(t)===Rc&&s({},e,cc(t),f)}))}))}}},addEvent:s,getEvent:function(e,t){if(r[e])return r[e][t]},toJSON:function(){return r},setStorage:i}},Vc=function(e){var t=e.eventRegistry,n=e.window,r=e.getBrowser,a=(new Date).getTime(),o=function(){return d({title:n.title,url:n.url},fn(n.url))},i=function(){return d({url:n.referrer},fn(n.referrer))},s=function(){var e=new Date,t=e.getTime();return{pageLoadTimestamp:a,currentTimestamp:t,currentDate:e.getDate(),"~state.com.adobe.module.lifecycle/lifecyclecontextdata.dayofweek":e.getDay()+1,"~state.com.adobe.module.lifecycle/lifecyclecontextdata.hourofday":e.getHours(),currentMinute:e.getMinutes(),currentMonth:e.getMonth(),currentYear:e.getFullYear(),pageVisitDuration:t-a,"~timestampu":t/1e3,"~timestampz":e.toISOString()}},c=function(){return{height:n.height,width:n.width,scrollY:n.scrollY,scrollX:n.scrollX}},l={browser:{name:r()},page:o(),referringPage:i()},u=function(){return d(d(d({},l),s()),{},{window:c(),"~sdkver":ri})},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=d(d({},u()),e);return d(d({},xs(n)),{},{events:t.toJSON()})};return{getContext:g}},jc=function(){for(var e=arguments.length,t=new Array(e>1?e-1:0),n=1;n<e;n++)t[n-1]=arguments[n];return t},Uc=function(){return!0},Fc=function(){var e=jc,t=Uc,n=0,r={},a=function(e){return function(){delete r[e]}},o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return"function"!=typeof e?function(){}:(r[n+=1]={callback:e,params:t},{id:n,unsubscribe:a(n)})},i=function(){for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];Object.values(r).forEach((function(n){var r=n.callback,o=n.params,i=e.apply(void 0,[o].concat(a));t.apply(void 0,[o].concat(f(i)))&&r.apply(void 0,f(i))}))},s=function(n){if(n&&r[n]){for(var a=r[n],o=a.callback,i=a.params,s=arguments.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=arguments[l];var u=e.apply(void 0,[i].concat(c));t.apply(void 0,[i].concat(f(u)))&&o.apply(void 0,f(u))}};return{add:o,emit:i,emitOne:s,hasSubscriptions:function(){return Object.keys(r).length>0},setEmissionPreprocessor:function(t){"function"==typeof t&&(e=t)},setEmissionCondition:function(e){"function"==typeof e&&(t=e)}}},Gc=function(e){var t=e.options;return Vr({surfaces:Lr(jr()).uniqueItems(),schemas:Lr(jr()).uniqueItems(),callback:Dr().required()}).noUnknownFields()(t)},Hc=function(e){return{id:e.id,scope:e.scope,scopeDetails:e.scopeDetails}},Wc=function(e){var t=e.collect,n=function(){},r=new Set,a=function(e){return[Sc.INTERACT,Sc.DISMISS].includes(e)},o=function(e,t,n){var o=[e,t].join("-"),i=!n.has(o)&&(a(e)||!r.has(o));return n.add(o),r.add(o),i},i=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!(n instanceof Array))return Promise.resolve();if(!Object.values(Sc).includes(e))return Promise.resolve();var r=[],a=new Set;return n.forEach((function(t){var n=Hc(t);o(e,n.id,a)&&r.push(n)})),r.length>0?t({decisionsMeta:r,eventType:Nc(e),documentMayUnload:!0}):Promise.resolve()},s=Fc(),c=function(e,t){var n=e.surfacesFilter,r=e.schemasFilter;return[{propositions:t.filter((function(e){return!n||n.includes(e.scope)})).map((function(e){var t=e.items,n=void 0===t?[]:t;return d(d({},e),{},{items:n.filter((function(e){return!r||r.includes(e.schema)}))})})).filter((function(e){return e.items.length>0}))},i]};s.setEmissionPreprocessor(c);var l=function(e){var t=e.surfaces,r=e.schemas,a=e.callback,o=s.add(a,{surfacesFilter:t instanceof Array?t:void 0,schemasFilter:r instanceof Array?r:void 0}),i=o.id,c=o.unsubscribe;return n(i),Promise.resolve({unsubscribe:c})};return{refresh:function(e){(n=function(t){t?s.emitOne(t,e):s.emit(e)})()},command:{optionsValidator:function(e){return Gc({options:e})},run:l}}},qc={TYPE:"~type",SOURCE:"~source"},Kc={LIFECYCLE:"com.adobe.eventType.lifecycle",TRACK:"com.adobe.eventType.generic.track",EDGE:"com.adobe.eventType.edge",RULES_ENGINE:"com.adobe.eventType.rulesEngine"},Yc={LAUNCH:"com.adobe.eventSource.applicationLaunch",REQUEST:"com.adobe.eventSource.requestContent"},zc=function(e){var t=e.options;return Vr({renderDecisions:kr(),personalization:Vr({decisionContext:Vr({})})}).noUnknownFields()(t)},Jc=function(e){var t=e.contextProvider,n=e.decisionProvider;return{optionsValidator:function(e){return zc({options:e})},run:function(e){var r=e.renderDecisions,a=e.decisionContext;return(0,e.applyResponse)({renderDecisions:r,propositions:n.evaluate(t.getContext(a))})}}},$c=function(e){var t=e.eventManager,n=e.mergeDecisionsMeta;return function(e){var r=e.decisionsMeta,a=void 0===r?[]:r,o=e.propositionAction,i=e.documentMayUnload,s=void 0!==i&&i,c=e.eventType,l=void 0===c?Zs:c,u=e.propositionEventTypes,d=void 0===u?[_c(l)]:u,g=e.viewName,p=t.createEvent(),m={eventType:l};return g&&(m.web={webPageDetails:{viewName:g}}),et(a)&&n(p,a,d,o),p.mergeXdm(m),s&&p.documentMayUnload(),t.sendEvent(p)}},Xc=function(e,t,n,r){if(0!==t.length){var a={};n.forEach((function(e){a[e]=ac}));var o={_experience:{decisioning:{propositions:t,propositionEventType:a}}};r&&(o._experience.decisioning.propositionAction=r),e.mergeXdm(o)}},Qc=function(e,t){e.mergeQuery({personalization:d({},t)})},Zc=function(e){var t=e.config,n=e.eventManager,r=e.createNamespacedStorage,a=e.consent,o=e.getBrowser,i=t.orgId,s=t.personalizationStorageEnabled,c=$c({eventManager:n,mergeDecisionsMeta:Xc}),l=r("".concat(Bt(i),".decisioning."));s||uc(l.persistent);var u,p=Bc({storage:lc()}),m=Ic({eventRegistry:p}),f=Vc({eventRegistry:p,window:window,getBrowser:o}),v=Jc({contextProvider:f,decisionProvider:m}),h=Wc({collect:c});return{lifecycle:{onDecision:function(e){var t=e.propositions;h.refresh(t)},onComponentsRegistered:function(e){u=wc(e.lifecycle),s&&a.awaitConsent().then((function(){p.setStorage(l.persistent)})).catch((function(){l&&uc(l.persistent)}))},onBeforeEvent:function(e){var t=e.event,n=e.renderDecisions,r=e.personalization,a=void 0===r?{}:r,o=e.onResponse,i=void 0===o?gn:o,s=a.decisionContext,c=void 0===s?{}:s;i(Bs({renderDecisions:n,decisionProvider:m,applyResponse:u,event:t,personalization:a,decisionContext:f.getContext(d(g(g({},qc.TYPE,Kc.EDGE),qc.SOURCE,Yc.REQUEST),c))}))},onBeforeRequest:function(e){var t=e.request.getPayload().toJSON().events,n=void 0===t?[]:t;0!==n.length&&n.forEach((function(e){return p.addExperienceEdgeEvent(e)}))}},commands:{evaluateRulesets:{run:function(e){var t=e.renderDecisions,n=e.personalization,r=(void 0===n?{}:n).decisionContext,a=void 0===r?{}:r;return v.run({renderDecisions:t,decisionContext:d(g(g({},qc.TYPE,Kc.RULES_ENGINE),qc.SOURCE,Yc.REQUEST),a),applyResponse:u})},optionsValidator:v.optionsValidator},subscribeRulesetItems:h.command}}};Zc.namespace="RulesEngine",Zc.configValidators=Vr({personalizationStorageEnabled:kr().default(!1)});var el=t.createEventMergeId=function(){return{eventMergeId:I()}},tl=function(e){return{commands:{createEventMergeId:{run:e.createEventMergeId}}}},nl=function(){return tl({createEventMergeId:el})};nl.namespace="EventMerge";var rl={PAUSE:"media.pauseStart",PLAY:"media.play",BUFFER_START:"media.bufferStart",AD_START:"media.adStart",Ad_BREAK_START:"media.adBreakStart",SESSION_END:"media.sessionEnd",SESSION_START:"media.sessionStart",SESSION_COMPLETE:"media.sessionComplete",PING:"media.ping",AD_BREAK_COMPLETE:"media.adBreakComplete",AD_COMPLETE:"media.adComplete",AD_SKIP:"media.adSkip",BITRATE_CHANGE:"media.bitrateChange",CHAPTER_COMPLETE:"media.chapterComplete",CHAPTER_SKIP:"media.chapterSkip",CHAPTER_START:"media.chapterStart",ERROR:"media.error",STATES_UPDATE:"media.statesUpdate"},al=function(e){var t=e.mediaRequestPayload,n=e.action;return Ba({payload:t,edgeSubPath:"/va",getAction:function(){return n},getUseSendBeacon:function(){return!1}})},ol=function(e){var t=e.config,n=e.eventManager,r=e.consent,a=e.sendEdgeNetworkRequest,o=e.setTimestamp;return{createMediaEvent:function(e){var r=e.options,a=n.createEvent(),i=r.xdm;if(o(i),a.setUserXdm(i),i.eventType===rl.AD_START){var s=r.xdm.mediaCollection.advertisingDetails;a.mergeXdm({mediaCollection:{advertisingDetails:{playerName:s.playerName||t.streamingMedia.playerName}}})}return a},createMediaSession:function(e){var r=t.streamingMedia,a=r.playerName,o=r.channel,i=r.appVersion,s=n.createEvent(),c=e.xdm.mediaCollection.sessionDetails;return s.setUserXdm(e.xdm),s.mergeXdm({eventType:rl.SESSION_START,mediaCollection:{sessionDetails:{playerName:c.playerName||a,channel:c.channel||o,appVersion:c.appVersion||i}}}),s},augmentMediaEvent:function(e){var t=e.event,n=e.playerId,r=e.getPlayerDetails,a=e.sessionID;if(!n||!r)return t;var o=r({playerId:n}),i=o.playhead,s=o.qoeDataDetails;return t.mergeXdm({mediaCollection:{playhead:yn(i),qoeDataDetails:s,sessionID:a}}),t},trackMediaSession:function(e){var t=e.event,r={mediaOptions:e.mediaOptions,edgeConfigOverrides:e.edgeConfigOverrides};return n.sendEvent(t,r)},trackMediaEvent:function(e){var t=e.event,n=e.action,o=Fa(),i=al({mediaRequestPayload:o,action:n});return o.addEvent(t),t.finalize(),r.awaitConsent().then((function(){return a({request:i}).then((function(){return{}}))}))}}},il={MAIN:"main",AD:"ad",COMPLETED:"completed"},sl=function(){var e;return{getSession:function(t){return e[t]||{}},storeSession:function(t){var n=t.playerId,r=t.sessionDetails;void 0===e&&(e={}),e[n]=r},stopPing:function(t){var n=t.playerId,r=e[n];r&&(clearTimeout(r.pingId),r.pingId=null,r.playbackState=il.COMPLETED)},savePing:function(t){var n=t.playerId,r=t.pingId,a=t.playbackState;e[n]&&(e[n].pingId&&clearTimeout(e[n].pingId),e[n].pingId=r,e[n].playbackState=a)}}},cl=function(e,t){return e===rl.AD_START||e===rl.Ad_BREAK_START||e===rl.AD_SKIP||e===rl.AD_COMPLETE?"ad":e===rl.AD_BREAK_COMPLETE||e===rl.CHAPTER_COMPLETE||e===rl.CHAPTER_START||e===rl.CHAPTER_SKIP||e===rl.SESSION_START?"main":e===rl.SESSION_END||e===rl.SESSION_COMPLETE?"completed":t},ll=function(e){var t=e.mediaEventManager,n=e.mediaSessionCacheManager,r=e.config,a=function(e){var o=t.createMediaEvent({options:e}),i=e.playerId,s=e.xdm.eventType,c=s.split(".")[1],l=n.getSession(i),u=l.getPlayerDetails,d=l.sessionPromise,g=l.playbackState;return d.then((function(e){return e.sessionId?(t.augmentMediaEvent({event:o,eventType:s,playerId:i,getPlayerDetails:u,sessionID:e.sessionId}),t.trackMediaEvent({event:o,action:c}).then((function(){if(i)if(s===rl.SESSION_COMPLETE||s===rl.SESSION_END)n.stopPing({playerId:i});else{var e=cl(s,g);if("completed"===e)return;var t="ad"===e?r.streamingMedia.adPingInterval:r.streamingMedia.mainPingInterval,o=setTimeout((function(){var e={playerId:i,xdm:{eventType:rl.PING}};a(e)}),1e3*t);n.savePing({playerId:i,pingId:o,playbackState:e})}}))):Promise.reject(new Error("Failed to trigger media event: ".concat(s,". Session ID is not available for playerId: ").concat(i,".")))}))};return function(e){return a(e)}},ul=function(e){var t=e.config,n=e.mediaEventManager,r=e.mediaSessionCacheManager,a=e.legacy,o=void 0!==a&&a;return function(e){if(!t.streamingMedia)return Promise.reject(new Error("Streaming media is not configured."));var a=e.playerId,i=e.getPlayerDetails,s=e.edgeConfigOverrides,c=n.createMediaSession(e);n.augmentMediaEvent({event:c,playerId:a,getPlayerDetails:i});var l=n.trackMediaSession({event:c,mediaOptions:{playerId:a,getPlayerDetails:i,legacy:o},edgeConfigOverrides:s});return r.storeSession({playerId:a,sessionDetails:{sessionPromise:l,getPlayerDetails:i,playbackState:il.MAIN}}),l}},dl=function(e){return!un(e)||!e.trim()},gl=function(e){var t=e.mediaSessionCacheManager,n=e.config,r=e.trackMediaEvent;return function(e){var a=e.response,o=e.playerId,i=e.getPlayerDetails,s=a.getPayloadsByType("media-analytics:new-session");if(et(s)){var c=s[0].sessionId;if(dl(c))return{};if(!o||!i)return{sessionId:c};var l=setTimeout((function(){r({playerId:o,xdm:{eventType:rl.PING}})}),1e3*n.streamingMedia.mainPingInterval);return t.savePing({playerId:o,pingId:l,playbackState:il.MAIN}),{sessionId:c}}return{}}},pl={Video:"video",Audio:"audio"},ml={VOD:"vod",Live:"live",Linear:"linear",Podcast:"podcast",Audiobook:"audiobook",AOD:"aod"},fl={FullScreen:"fullScreen",ClosedCaption:"closedCaptioning",Mute:"mute",PictureInPicture:"pictureInPicture",InFocus:"inFocus"},vl={AdBreakStart:"adBreakStart",AdBreakComplete:"adBreakComplete",AdStart:"adStart",AdComplete:"adComplete",AdSkip:"adSkip",ChapterStart:"chapterStart",ChapterComplete:"chapterComplete",ChapterSkip:"chapterSkip",SeekStart:"seekStart",SeekComplete:"seekComplete",BufferStart:"bufferStart",BufferComplete:"bufferComplete",BitrateChange:"bitrateChange",StateStart:"stateStart",StateEnd:"stateEnd"},hl={SessionStart:"sessionStart",SessionEnd:"sessionEnd",SessionComplete:"sessionComplete",Play:"play",Pause:"pauseStart",Error:"error",StateUpdate:"statesUpdate"},bl={MediaResumed:"media.resumed",GranularAdTracking:"media.granularadtracking"},Cl={Show:"a.media.show",Season:"a.media.season",Episode:"a.media.episode",AssetId:"a.media.asset",Genre:"a.media.genre",FirstAirDate:"a.media.airDate",FirstDigitalDate:"a.media.digitalDate",Rating:"a.media.rating",Originator:"a.media.originator",Network:"a.media.network",ShowType:"a.media.type",AdLoad:"a.media.adLoad",MVPD:"a.media.pass.mvpd",Authorized:"a.media.pass.auth",DayPart:"a.media.dayPart",Feed:"a.media.feed",StreamFormat:"a.media.format"},El={Artist:"a.media.artist",Album:"a.media.album",Label:"a.media.label",Author:"a.media.author",Station:"a.media.station",Publisher:"a.media.publisher"},yl={Advertiser:"a.media.ad.advertiser",CampaignId:"a.media.ad.campaign",CreativeId:"a.media.ad.creative",PlacementId:"a.media.ad.placement",SiteId:"a.media.ad.site",CreativeUrl:"a.media.ad.creativeURL"},Sl=function(e){var t=e.trackMediaEvent,n=e.trackMediaSession,r=e.mediaResponseHandler,a=e.logger,o=e.createMediaHelper,i=e.createGetInstance,s=e.config;return{lifecycle:{onBeforeEvent:function(e){var t=e.mediaOptions,n=e.onResponse,a=void 0===n?gn:n;if(t){var o=t.legacy,i=t.playerId,s=t.getPlayerDetails;o&&a((function(e){var t=e.response;return r({playerId:i,getPlayerDetails:s,response:t})}))}}},commands:{getMediaAnalyticsTracker:{run:function(){if(!s.streamingMedia)return Promise.reject(new Error("Streaming media is not configured."));a.info("Streaming media is configured in legacy mode.");var e=o({logger:a});return Promise.resolve(d({getInstance:function(){return i({logger:a,trackMediaEvent:t,trackMediaSession:n,uuid:I})},Event:vl,MediaType:pl,PlayerState:fl,StreamType:ml,MediaObjectKey:bl,VideoMetadataKeys:Cl,AudioMetadataKeys:El,AdMetadataKeys:yl},e))}}}}},Tl=function(e){var t=e.logger,n=function(e,n,r){var a={friendlyName:e,offset:n,index:r},o=Vr({friendlyName:jr().nonEmpty(),offset:xr(),index:xr()});try{var i=o(a);return{advertisingPodDetails:{friendlyName:i.friendlyName,offset:i.offset,index:i.index}}}catch(e){return t.warn("An error occurred while creating the Ad Break Object.",e),{}}},r=function(e,n,r,a){var o={friendlyName:e,name:n,podPosition:r,length:a},i=Vr({friendlyName:jr().nonEmpty(),name:jr().nonEmpty(),podPosition:xr(),length:xr()});try{var s=i(o);return{advertisingDetails:{friendlyName:s.friendlyName,name:s.name,podPosition:s.podPosition,length:s.length}}}catch(e){return t.warn("An error occurred while creating the Advertising Object.",e),{}}},a=function(e,n,r,a){var o={friendlyName:e,offset:n,length:r,index:a},i=Vr({friendlyName:jr().nonEmpty(),offset:xr(),length:xr(),index:xr()});try{var s=i(o);return{chapterDetails:{friendlyName:s.friendlyName,offset:s.offset,index:s.index,length:s.length}}}catch(e){return t.warn("An error occurred while creating the Chapter Object.",e),{}}},o=function(e){var n=/^[a-zA-Z0-9_]{1,64}$/,r=jr().matches(n,"This is not a valid state name.");try{return{name:r(e)}}catch(e){return t.warn("An error occurred while creating the State Object.",e),{}}},i=function(e,n,r,a){var o={bitrate:e,droppedFrames:n,fps:r,startupTime:a},i=Vr({bitrate:xr(),droppedFrames:xr(),fps:xr(),startupTime:xr()});try{var s=i(o);return{bitrate:s.bitrate,droppedFrames:s.droppedFrames,framesPerSecond:s.fps,timeToStart:s.startupTime}}catch(e){return t.warn("An error occurred while creating the QOE Object.",e),{}}};return{createMediaObject:function(e,n,r,a,o){var i={friendlyName:e,name:n,length:r,streamType:o,contentType:a},s=Vr({friendlyName:jr().nonEmpty(),name:jr().nonEmpty(),length:xr().required(),streamType:jr().nonEmpty(),contentType:jr().nonEmpty()});try{var c=s(i);return{sessionDetails:{name:c.name,friendlyName:c.friendlyName,length:c.length,streamType:c.streamType,contentType:c.contentType}}}catch(e){return t.warn("An error occurred while creating the Media Object.",e),{}}},createAdBreakObject:n,createAdObject:r,createChapterObject:a,createStateObject:o,createQoEObject:i}},Al={"a.media.show":"show","a.media.season":"season","a.media.episode":"episode","a.media.asset":"assetID","a.media.genre":"genre","a.media.airDate":"firstAirDate","a.media.digitalDate":"firstDigitalDate","a.media.rating":"rating","a.media.originator":"originator","a.media.network":"network","a.media.type":"showType","a.media.adLoad":"adLoad","a.media.pass.mvpd":"mvpd","a.media.pass.auth":"authorized","a.media.dayPart":"dayPart","a.media.feed":"feed","a.media.format":"streamFormat","a.media.artist":"artist","a.media.album":"album","a.media.label":"label","a.media.author":"author","a.media.station":"station","a.media.publisher":"publisher","media.resumed":"hasResume"},_l={"a.media.ad.advertiser":"advertiser","a.media.ad.campaign":"campaignID","a.media.ad.creative":"creativeID","a.media.ad.placement":"placementID","a.media.ad.site":"siteID","a.media.ad.creativeURL":"creativeURL"},Nl=function(e){var t=e.logger,n=e.trackMediaSession,r=e.trackMediaEvent,a=e.uuid,o=null,i=function(){o={qoe:null,lastPlayhead:0,playerId:a()}},s=function(e){var t=e.eventType;return t===vl.BufferComplete||t===vl.SeekComplete?hl.Play:t===vl.StateStart||t===vl.StateEnd?hl.StateUpdate:t===vl.SeekStart?hl.Pause:t},c=function(e){var t=e.eventType,n=e.mediaDetails,r=void 0===n?{}:n,a=e.contextData,o=void 0===a?[]:a,i=s({eventType:t});if(t===vl.StateStart)return{eventType:"media.".concat(i),mediaCollection:{statesStart:[r]}};if(t===vl.StateEnd)return{eventType:"media.".concat(i),mediaCollection:{statesEnd:[r]}};var c={eventType:"media.".concat(i),mediaCollection:d({},r)},l=[];return Object.keys(o).forEach((function(e){Al[e]?c.mediaCollection.sessionDetails[Al[e]]=o[e]:_l[e]?c.mediaCollection.advertisingDetails[_l[e]]=o[e]:l.push({name:e,value:o[e]})})),et(l)&&(c.mediaCollection.customMetadata=l),c};return{trackSessionStart:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Ne(e)||Rt(e))return t.warn("Invalid media object"),{};null===o&&(t.warn("The Media Session was completed. Restarting a new session."),i());var a=c({eventType:hl.SessionStart,mediaDetails:e,contextData:r});return n({playerId:o.playerId,getPlayerDetails:function(){return{playhead:o.lastPlayhead,qoeDataDetails:o.qoe}},xdm:a})},trackPlay:function(){if(null===o)return t.warn("The Media Session was completed."),{};var e=c({eventType:hl.Play});return r({playerId:o.playerId,xdm:e})},trackPause:function(){if(null===o)return t.warn("The Media Session was completed."),{};var e=c({eventType:hl.Pause});return r({playerId:o.playerId,xdm:e})},trackSessionEnd:function(){if(null===o)return t.warn("The Media Session was completed."),{};var e=c({eventType:hl.SessionEnd});return r({playerId:o.playerId,xdm:e})},trackComplete:function(){if(null===o)return t.warn("The Media Session was completed."),{};var e=c({eventType:hl.SessionComplete});return r({playerId:o.playerId,xdm:e})},trackError:function(e){if(t.warn("trackError(".concat(e,")")),null===o)return t.warn("The Media Session was completed."),{};var n={name:e,source:"player"},a=c({eventType:hl.Error,mediaDetails:{errorDetails:n}});return r({playerId:o.playerId,xdm:a})},trackEvent:function(e,n,a){if(Rt(n))return t.warn("Invalid media object."),{};if(null===o)return t.warn("The Media Session was completed."),{};if(!Object.values(vl).includes(e))return t.warn("Invalid event type"),{};var i=c({eventType:e,mediaDetails:n,contextData:a});return r({playerId:o.playerId,xdm:i})},updatePlayhead:function(e){null!==o?sn(e)&&(o.lastPlayhead=parseInt(e,10)):t.warn("The Media Session was completed.")},updateQoEObject:function(e){null!==o?e&&(o.qoe=e):t.warn("The Media Session was completed.")},destroy:function(){t.warn("Destroy called, destroying the tracker."),o=null}}},Pl=function(e){var t=e.eventManager,n=e.sendEdgeNetworkRequest,r=e.config,a=e.logger,o=e.consent,i=sl(),s=ol({sendEdgeNetworkRequest:n,config:r,consent:o,eventManager:t,setTimestamp:vs((function(){return new Date}))}),c=ll({mediaSessionCacheManager:i,mediaEventManager:s,config:r}),l=ul({config:r,mediaEventManager:s,mediaSessionCacheManager:i,legacy:!0}),u=gl({mediaSessionCacheManager:i,config:r,trackMediaEvent:c});return Sl({mediaResponseHandler:u,trackMediaSession:l,trackMediaEvent:c,createMediaHelper:Tl,createGetInstance:Nl,logger:a,config:r})};Pl.namespace="Legacy Media Analytics";var Il,wl="web",Rl="webapp",Ol="://",Ll="#",kl=/^(\w+):\/\/([^/#]+)(\/[^#]*)?(#.*)?$/,Dl=/^(?:.*@)?(?:[a-z\d\u00a1-\uffff.-]+|\[[a-f\d:]+])(?::\d+)?$/,Ml=/^\/(?:[/\w\u00a1-\uffff-.~]|%[a-fA-F\d]{2})*$/,xl=/^#(?:[/\w\u00a1-\uffff-.~]|%[a-fA-F\d]{2})+$/,Bl=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",t=e.length;t>0&&-1!=="/".indexOf(e.charAt(t-1));)t-=1;return e.substring(0,t)||"/"},Vl=function(e){return dn(e)?e.toLowerCase():""},jl=function(e){return dn(e)?e.toLowerCase():""},Ul=function(e){return dn(e)?Bl(e):"/"},Fl=function(e){var t=e.match(kl);return t?{surfaceType:Vl(t[1]),authority:jl(t[2]),path:Ul(t[3]),fragment:t[4]}:null},Gl=function(e){return"".concat(e.surfaceType).concat(Ol).concat(e.authority).concat(e.path||"").concat(e.fragment||"")},Hl=function(e){var t=e(),n=t.host.toLowerCase(),r=t.pathname;return wl+Ol+n+Bl(r)},Wl=function(e,t){return e.startsWith(Ll)?Hl(t)+e:e},ql=function(e,t,n){var r=function(e){return n.warn(e),null};if(!dn(e))return r("Invalid surface: ".concat(e));var a=Wl(e,t),o=Fl(a);return null===o?r("Invalid surface: ".concat(e)):[wl,Rl].includes(o.surfaceType)?o.authority&&Dl.test(o.authority)?o.path&&!Ml.test(o.path)?r("Invalid path ".concat(o.path," in surface: ").concat(e)):o.fragment&&!xl.test(o.fragment)?r("Invalid fragment ".concat(o.fragment," in surface: ").concat(e)):o:r("Invalid authority ".concat(o.authority," in surface: ").concat(e)):r("Unsupported surface type ".concat(o.surfaceType," in surface: ").concat(e))},Kl=function(e){return!!e&&0===e.indexOf(wl+Ol)&&-1===e.indexOf(Ll)},Yl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return e.map((function(e){return ql(e,t,n)})).filter((function(e){return!Ne(e)})).map(Gl)},zl=function(e){e.includes(Ma)||e.push(Ma)},Jl=function(e,t){var n=Hl(t);e.includes(n)||e.push(n)},$l=function(e){return e.filter((function(t,n){return e.indexOf(t)===n}))},Xl=function(e){var t=e.getPageLocation,n=e.renderDecisions,r=e.decisionScopes,a=e.personalization,o=e.event,i=e.isCacheInitialized,s=e.logger,c=o.getViewName();return{isRenderDecisions:function(){return n},isSendDisplayEvent:function(){return!!a.sendDisplayEvent},shouldIncludeRenderedPropositions:function(){return!!a.includeRenderedPropositions},getViewName:function(){return c},hasScopes:function(){return r.length>0||et(a.decisionScopes)},hasSurfaces:function(){return et(a.surfaces)},hasViewName:function(){return dn(c)},createQueryDetails:function(){var e=f(r);et(a.decisionScopes)&&e.push.apply(e,f(a.decisionScopes));var n=Yl(a.surfaces,t,s);this.shouldRequestDefaultPersonalization()&&(zl(e),Jl(n,t));var o=[qs,Ys,zs,$s,Js,Xs,Qs];return e.includes(Ma)&&o.push(Ks),{schemas:o,decisionScopes:$l(e),surfaces:$l(n)}},isCacheInitialized:function(){return i},shouldFetchData:function(){return this.hasScopes()||this.hasSurfaces()||this.shouldRequestDefaultPersonalization()},shouldUseCachedData:function(){return this.hasViewName()&&!this.shouldFetchData()},shouldRequestDefaultPersonalization:function(){return a.defaultPersonalizationEnabled||!this.isCacheInitialized()&&!1!==a.defaultPersonalizationEnabled}}},Ql="Rendering is disabled for authoring mode.",Zl={propositions:[]},eu=function(e){var t=e.logger,n=e.options,r=Vr({propositions:Lr(Vr({id:jr().required(),scope:jr().required(),scopeDetails:Vr({decisionProvider:jr().required()}).required(),items:Lr(Vr({id:jr().required(),schema:jr().required(),data:Vr(Or())})).nonEmpty().required()}).required()).nonEmpty().required(),metadata:Vr(Or()),viewName:jr()}).required();try{return r(n)}catch(e){return t.warn("Invalid options for applyPropositions. No propositions will be applied.",e),Zl}},tu=function(e){var t=e.getPageLocation,n=e.logger,r=e.fetchDataHandler,a=e.viewChangeHandler,o=e.onClickHandler,i=e.isAuthoringModeEnabled,s=e.mergeQuery,c=e.viewCache,l=e.showContainers,u=e.applyPropositions,d=e.setTargetMigration,g=e.mergeDecisionsMeta,p=e.renderedPropositions,m=e.onDecisionHandler,f=e.handleConsentFlicker;return{lifecycle:{onComponentsRegistered:function(){f()},onDecision:m,onBeforeRequest:function(e){var t=e.request;return d(t),Promise.resolve()},onBeforeEvent:function(e){
var o=e.event,u=e.renderDecisions,d=e.decisionScopes,m=void 0===d?[]:d,f=e.personalization,v=void 0===f?{}:f,h=e.onResponse,b=void 0===h?gn:h,C=e.onRequestFailure,E=void 0===C?gn:C;if(b((function(){return{propositions:[]}})),E((function(){return l()})),i())return n.warn(Ql),s(o,{enabled:!1}),Promise.resolve();var y=Xl({getPageLocation:t,renderDecisions:u,decisionScopes:m,personalization:v,event:o,isCacheInitialized:c.isInitialized(),logger:n}),S=[];if(y.shouldIncludeRenderedPropositions()&&S.push(p.clear()),y.shouldFetchData()){var T=c.createCacheUpdate(y.getViewName());E((function(){return T.cancel()})),r({cacheUpdate:T,personalizationDetails:y,event:o,onResponse:b})}else y.shouldUseCachedData()&&S.push(a({personalizationDetails:y,event:o,onResponse:b,onRequestFailure:E}));return Promise.all(S).then((function(e){var t=e.flatMap((function(e){return e}));et(t)&&g(o,t,[Sc.DISPLAY])}))},onClick:function(e){var t=e.event,n=e.clickedElement;o({event:t,clickedElement:n})}},commands:{applyPropositions:{optionsValidator:function(e){return eu({logger:n,options:e})},run:u}}}},nu=function(e){return We(ze,{},{innerHTML:e})},ru=":eq(",au=/:eq\((\d+)\)/g,ou=function(e){return-1===e.indexOf(ru)},iu=function(e){return e.split(au).filter(dn)},su=/(#|\.)(-?\w+)/g,cu=function(e,t,n){return"".concat(t).concat(CSS.escape(n))},lu=function(e){return e.replace(su,cu)},uu=function(e){for(var t=[],n=lu(e.trim()),r=iu(n),a=r.length,o=0;o<a;){var i=r[o],s=r[o+1];s?t.push({sel:i,eq:Number(s)}):t.push({sel:i}),o+=2}return t},du=function(e){var t=document;if(ou(e))return lt(e,t);for(var n=uu(e),r=n.length,a=[],o=t,s=0;s<r;){var c=n[s],l=c.sel,u=c.eq,d=lt(l,o),g=d.length;if(0===g)break;if(null!=u&&u>g-1)break;s<r-1&&(o=null==u?i(d,1)[0]:d[u]),s===r-1&&(a=null==u?d:[d[u]]),s+=1}return a},gu=function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:document).getElementById(e)},pu=function(e,t,n){e.setAttribute(t,n)},mu=function(e,t){return e.getAttribute(t)},fu=function(e,t){e.removeAttribute(t)},vu=function(e,t,n,r){var a;a=r?"".concat(t,":").concat(n," !").concat(r,";"):"".concat(t,":").concat(n,";"),e.style.cssText+=";".concat(a)},hu=function(e){return e.parentNode},bu=function(e){return e.nextElementSibling},Cu=function(e,t){if(e){var n=hu(e);n&&n.insertBefore(t,bu(e))}},Eu=function(e,t){if(e){var n=hu(e);n&&n.insertBefore(t,e)}},yu=function(e){var t=e.children;return t?tt(t):[]},Su=function(e){var t=e.childNodes;return t?tt(t):[]},Tu=function(e){return e.firstElementChild},Au=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;if(void 0===Il){var t=e.querySelector("[nonce]");Il=t&&(t.nonce||t.getAttribute("nonce"))}return Il},_u="src",Nu=function(e){return e.tagName===Ye},Pu=function(e){return We(Ye,{src:e})},Iu=function(e){lt(Ye,e).forEach((function(e){var t=mu(e,_u);t&&Pu(t)}))},wu=function(e,t){return e.tagName===t},Ru=function(e){return wu(e,Je)&&!mu(e,_u)},Ou=function(e){var t=lt(Je,e),n=t.length,r=Au();if(r)for(var a=0;a<n;a+=1){var o=t[a];Ru(o)&&(o.nonce=r)}},Lu=function(e,t){return new Promise((function(n,r){t.onload=function(){n(t)},t.onerror=function(){r(new Error("Failed to load script: ".concat(e)))}}))},ku=function(e){var t=document.createElement("script");t.src=e,t.async=!0;var n=Lu(e,t);return document.head.appendChild(t),n},Du=function(e,t){return!!e&&e.tagName===t},Mu=function(e){return Du(e,$e)&&!mu(e,_u)},xu=function(e){return Du(e,$e)&&mu(e,_u)},Bu=function(e){for(var t=lt($e,e),n=[],r=t.length,a=Au(),o=d({},a&&{nonce:a}),i=0;i<r;i+=1){var s=t[i];if(Mu(s)){var c=s.textContent;c&&n.push(We($e,o,{textContent:c}))}}return n},Vu=function(e){for(var t=lt($e,e),n=[],r=t.length,a=0;a<r;a+=1){var o=t[a];if(xu(o)){var i=mu(o,_u);i&&n.push(i)}}return n},ju=function(e,t){t.forEach((function(t){e.appendChild(t),e.removeChild(t)}))},Uu=function(e){return Promise.all(e.map(ku))},Fu=function(e,t,n){var r=nu(t);Ou(r);var a=Su(r),o=Bu(r),i=Vu(r);return Iu(r),a.forEach((function(t){Ge(e,t)})),n(e),ju(e,o),Uu(i)},Gu=function(e){Su(e).forEach(Nt)},Hu=function(e,t,n){return Gu(e),Fu(e,t,n)},Wu=function(e,t,n){var r=nu(t);Ou(r);var a=Su(r),o=Bu(r),i=Vu(r),s=a.length-1;for(Iu(r);s>=0;){var c=a[s];n(c);var l=Tu(e);l?Eu(l,c):Ge(e,c),s-=1}return ju(e,o),Uu(i)},qu="alloy-prehiding",Ku="{ visibility: hidden }",Yu={},zu=function(e){if(!Yu[e]){var t=Au(),n=d({},t&&{nonce:t}),r={textContent:"".concat(e," ").concat(Ku)},a=We(Je,n,r);Ge(document.head,a),Yu[e]=a}},Ju=function(e){var t=Yu[e];t&&(Nt(t),delete Yu[e])},$u=function(e){return function(t){if(t&&!gu(qu)){var n=Au(),r=d({id:qu},n&&{nonce:n}),a=We(Je,r,{textContent:t});e.logOnContentHiding({status:"hide-containers",message:"Prehiding style applied to hide containers.",logLevel:"info"}),Ge(document.head,a)}}},Xu=function(e){return function(){var t=gu(qu);t&&(e.logOnContentHiding({status:"show-containers",message:"Prehiding style removed to show containers.",logLevel:"info"}),Nt(t))}},Qu=function(e,t,n){n(e),e.textContent=t},Zu=function(e,t,n){var r=nu(t);Ou(r);var a=Su(r),o=Bu(r),i=Vu(r);return Iu(r),a.forEach((function(t){n(t),Eu(e,t)})),ju(e,o),Uu(i)},ed=function(e,t,n){return Zu(e,t,n).then((function(){Nt(e)}))},td=function(e,t,n){var r=nu(t);Ou(r);var a=Su(r),o=Bu(r),i=Vu(r);Iu(r);var s=e;return a.forEach((function(e){n(e),Cu(s,e),s=e})),ju(e,o),Uu(i)},nd=function(e,t,n){var r=t.priority,o=a(t,ye);Object.keys(o).forEach((function(t){vu(e,t,o[t],r)})),n(e)},rd=function(e,t,n){Object.keys(t).forEach((function(n){pu(e,n,t[n])})),n(e)},ad=function(e,t,n){Nu(e)&&(Pu(t),n(e),fu(e,_u),pu(e,_u,t))},od=function(e,t,n){var r=t.from,a=t.to,o=yu(e),i=o[r],s=o[a];i&&s&&(r<a?Cu(s,i):Eu(s,i),n(s),n(i))},id=function(e,t,n,r){var a=e.map((function(e){return r(e,t,n)}));return Promise.all(a)},sd=function(e){return function(t,n){var r=t.selector,a=t.prehidingSelector,o=t.content;return zu(a),At(r,du).then((function(t){return id(t,o,n,e)})).then((function(){Ju(a)}),(function(e){throw Ju(a),e}))}},cd=function(e){return(""+e).endsWith("px")?e:"".concat(e,"px")},ld=function(e,t,n){var r=t.priority,o=a(t,Se);Object.keys(o).forEach((function(t){var n=o[t];"left"!==t&&"top"!==t||(n=cd(n)),vu(e,t,n,r)})),n(e)},ud=function(e,t,n){n(e)},dd=function(e,t,n){var r=t.priority,o=a(t,Te);Object.keys(o).forEach((function(t){var n=o[t];"width"!==t&&"height"!==t||(n=cd(n)),vu(e,t,n,r)})),n(e)},gd="setHtml",pd="customCode",md="setText",fd="setAttribute",vd="setImageSource",hd="setStyle",bd="move",Cd="resize",Ed="rearrange",yd="remove",Sd="insertAfter",Td="insertBefore",Ad="replaceHtml",_d="prependHtml",Nd="appendHtml",Pd="click",Id="collectInteractions",wd=function(){var e;return g(g(g(g(g(g(g(g(g(g(e={},gd,sd(Hu)),pd,sd(Wu)),md,sd(Qu)),fd,sd(rd)),vd,sd(ad)),hd,sd(nd)),bd,sd(ld)),Cd,sd(dd)),Ed,sd(od)),yd,sd(Nt)),g(g(g(g(g(g(e,Sd,sd(td)),Td,sd(Zu)),Ad,sd(ed)),_d,sd(Wu)),Nd,sd(Fu)),Id,sd(ud))},Rd="personalization:decisions",Od=function(e){var t=e.logger,n=e.prehidingStyle,r=e.showContainers,a=e.hideContainers,o=e.mergeQuery,i=e.processPropositions,s=e.createProposition,c=e.notificationHandler,l=e.consent;return function(e){var u=e.cacheUpdate,d=e.personalizationDetails,g=e.event,p=e.onResponse,m=l.current(),v=m.state,h=m.wasSet;"out"===v&&h||(d.isRenderDecisions()?a(n):r()),o(g,d.createQueryDetails());var b=c(d.isRenderDecisions(),d.isSendDisplayEvent(),d.getViewName());p((function(e){var n=e.response.getPayloadsByType(Rd);et(n)||t.logOnContentRendering({status:"no-offers",message:"No offers were returned.",logLevel:"info",detail:{query:d.createQueryDetails()}});var a,o,c,l=n.map((function(e){return s(e)})),g=jt(l,(function(e){return e.getScopeType()})),p=g.page,m=void 0===p?[]:p,v=g.view,h=void 0===v?[]:v,C=g.proposition,E=void 0===C?[]:C,y=u.update(h);if(d.isRenderDecisions()){var S=i([].concat(f(m),f(y)),E);a=S.render,o=S.returnedPropositions,c=S.returnedDecisions,et(m)&&t.logOnContentRendering({status:"rendering-started",message:"Started rendering propositions for page-wide scope.",logLevel:"info",detail:{scope:Ma,propositions:m.map((function(e){return e.toJSON()}))}}),et(y)&&t.logOnContentRendering({status:"rendering-started",message:"Rendering propositions started for view scope - ".concat(d.getViewName(),"."),logLevel:"info",detail:{scope:d.getViewName(),propositions:y.map((function(e){return e.toJSON()}))}}),a().then(b),r()}else{var T=i([],[].concat(f(m),f(y),f(E)));o=T.returnedPropositions,c=T.returnedDecisions}return{propositions:o,decisions:c}}))}},Ld=function(e,t){if(ou(e))return _t(e,t);for(var n=du(e),r=!1,a=0;a<n.length;a+=1)if(n[a]===t){r=!0;break}return r},kd="view",Dd="page",Md="proposition",xd=function(e){return e.map((function(e){return e.trackingLabel,e.scopeType,a(e,Ae)}))},Bd=function(e){return e.filter((function(t,n){var r=JSON.stringify(t);return n===e.findIndex((function(e){return JSON.stringify(e)===r}))}))},Vd=function(e,t,n){for(var r=document.documentElement,a=e,o=0;a&&a!==r;){if(Ld(t,a)){var i=n(t),s={metas:i},c=i.find((function(e){return e.trackingLabel}));c&&(s.label=c.trackingLabel,s.weight=o);var l=i.find((function(e){return e.scopeType===kd}));return l&&(s.viewName=l.scope,s.weight=o),s}a=a.parentNode,o+=1}return{metas:null}},jd=function(e,t,n){for(var r,a=[],o="",i=Number.MAX_SAFE_INTEGER,s=Number.MAX_SAFE_INTEGER,c=0;c<t.length;c+=1){var l=Vd(e,t[c],n),u=l.metas,d=l.label,g=l.weight,p=l.viewName;u&&(d&&g<=i&&(o=d,i=g),p&&g<=s&&(r=p,s=g),a.push.apply(a,f(xd(u))))}return{decisionsMeta:Bd(a),propositionActionLabel:o,propositionActionToken:void 0,viewName:r}},Ud=function(){return-1!==(arguments.length>0&&void 0!==arguments[0]?arguments[0]:document).location.href.indexOf("adobe_authoring_enabled")},Fd=function(e,t){if(t||e){var n={};return e&&(n.label=e),t&&(n.tokens=[t]),n}},Gd=function(e){var t=e.mergeDecisionsMeta,n=e.collectInteractions,r=e.collectClicks,a=e.getInteractionMetas,o=e.getClickMetas,i=e.getClickSelectors,s=e.autoCollectPropositionInteractions;return function(e){var c,l,u,d=e.event,g=e.clickedElement,p=[];if([n(g,a,s),r(g,i(),o)].forEach((function(e){var t=e.decisionsMeta,n=e.propositionActionLabel,r=e.propositionActionToken,a=e.viewName;Array.prototype.push.apply(p,t),!c&&n&&(c=n),!l&&r&&(l=r),!u&&a&&(u=a)})),et(p)){var m={eventType:ec};u&&(m.web={webPageDetails:{viewName:u}}),d.mergeXdm(m),t(d,p,[Sc.INTERACT],Fd(c,l))}}},Hd=function(e){var t=e.createProposition,n=!1,r=Promise.resolve({}),a=function(e,n){var r=e[n.toLowerCase()];return r&&r.length>0?r:[t({scope:n,scopeDetails:{characteristics:{scopeType:kd}},items:[{schema:qs}]},!1)]};return{createCacheUpdate:function(e){var t=Ve();return n=!0,r=r.then((function(e){return t.promise.then((function(t){return d(d({},e),t)})).catch((function(){return e}))})),{update:function(n){var r=n.filter((function(e){return e.getScope()})),o=jt(r,(function(e){return e.getScope().toLowerCase()}));return t.resolve(o),e?a(o,e):[]},cancel:function(){t.reject()}}},getView:function(e){return r.then((function(t){return a(t,e)}))},isInitialized:function(){return n}}},Wd=function(e){var t=e.processPropositions,n=e.viewCache,r=e.logger;return function(e){var a,o,i=e.personalizationDetails,s=e.onResponse,c=i.getViewName();return s((function(){return{propositions:a,decisions:o}})),n.getView(c).then((function(e){var n;if(i.isRenderDecisions()){var s=t(e);return n=s.render,a=s.returnedPropositions,o=s.returnedDecisions,r.logOnContentRendering({status:"rendering-started",message:"Started rendering propositions for view scope - ".concat(c,"."),logLevel:"info",detail:{scope:c,propositions:e.map((function(e){return e.toJSON()}))}}),n()}var l=t([],e);return a=l.returnedPropositions,o=l.returnedDecisions,[]}))}},qd=function(e){return Object.keys(e).map((function(t){return d({id:t},e[t])}))},Kd=function(){var e={};return{storeClickMeta:function(t){var n=t.selector,r=t.meta,a=r.id,o=r.scope,i=r.scopeDetails,s=r.trackingLabel,c=r.scopeType;e[n]||(e[n]={}),e[n][a]={scope:o,scopeDetails:i,trackingLabel:s,scopeType:c}},getClickSelectors:function(){return Object.keys(e)},getClickMetas:function(t){return e[t]?qd(e[t]):{}}}},Yd=function(){var e={},t={};return{storeInteractionMeta:function(n,r,a,o,i){i=parseInt(i,10),e[i]||(e[i]={},t[i]={}),t[i][n]||(t[i][n]=new Set),t[i][n].add(r),e[i][n]=d(d({},o),{},{scopeType:a})},getInteractionMetas:function(n){return Array.isArray(n)&&0!==n.length?Object.values(n.map((function(e){return parseInt(e,10)})).reduce((function(n,r){return Object.keys(e[r]||{}).forEach((function(a){n[a]||(n[a]={proposition:e[r][a],items:new Set}),n[a].items=new Set([].concat(f(n[a].items),f(t[r][a])))})),n}),{})).map((function(e){var t=e.proposition,n=e.items;return d(d({},t),{},{items:Array.from(n).map((function(e){return{id:e}}))})})):[]}}},zd=function(e,t){return e===zs&&t===Id},Jd=g(g(g(g(g({},Ks,(function(){return!0})),Ys,(function(){return!0})),zs,zd),Xs,(function(){return!0})),qs,(function(){return!0})),$d=function(e,t){return"function"==typeof Jd[e]&&Jd[e](e,t)},Xd=function(e){var t=e.processPropositions,n=e.createProposition,r=e.renderedPropositions,a=e.viewCache,o=function(e){var t=e.items,n=e.metadataForScope,r=void 0===n?{}:n,a=r.actionType,o=r.selector;return t.filter((function(e){return $d(e.schema,a)})).map((function(e){var t=e.schema;return t===Ys||zd(t,a)?Rt(r)?void 0:d(d({},e),{},{schema:zd(t,a)?Ks:t,data:d(d({},e.data),{},{selector:o,type:a})}):d({},e)})).filter((function(e){return e}))},i=function(e){return!(e.scope===Ma&&e.renderAttempted)},s=function(e){var t=e.propositions,n=e.metadata;return t.filter(i).map((function(e){return et(e.items)?{id:e.id,scope:e.scope,scopeDetails:e.scopeDetails,items:o({items:e.items,metadataForScope:n[e.scope]})}:e})).filter((function(e){return et(e.items)}))};return function(e){var o=e.propositions,i=void 0===o?[]:o,c=e.metadata,l=void 0===c?{}:c,u=e.viewName,d=Ve();r.concat(d.promise);var g=s({propositions:i,metadata:l}).map((function(e){return n(e)}));return Promise.resolve().then((function(){return u?a.getView(u):[]})).then((function(e){var n=t([].concat(f(g),f(e))),r=n.render,a=n.returnedPropositions;return r().then(d.resolve),{propositions:a}}))}},Qd=function(e){var t=e.window;return function(){return t.location}},Zd=function(e){return e.targetMigrationEnabled?function(e){e.getPayload().mergeMeta({target:{migration:!0}})}:gn},eg="BODY > *:eq(0)",tg=function(e){var t=e.selector;return e.type!==pd||t!==eg?e:d(d({},e),{selector:"BODY"})},ng="SCRIPT,LINK,STYLE",rg=function(e){var t=nu(e);return lt(ng,t).map((function(e){return e.outerHTML})).join("")},ag=function(e){var t=d({},e),n=t.content,r=t.selector;if(dl(n))return t;if(null==r)return t;var a=du(r);return Du(a[0],Xe)?(t.type=Nd,t.content=rg(n),t):t},og=function(e){return function(t){return t?e.reduce((function(e,t){return d(d({},e),t(e))}),t):t}},ig=function(e){var t=e.preprocess,n=e.isPageWideSurface,r=function(e,n){var r=e.id,a=e.schema,o=e.data,i=e.characteristics,s=(void 0===i?{}:i).trackingLabel,c=o?o.type:void 0,l=t(o);return{getId:function(){return r},getSchema:function(){return a},getSchemaType:function(){return c},getData:function(){return l},getProposition:function(){return n},getTrackingLabel:function(){return s},getOriginalItem:function(){return e},toString:function(){return JSON.stringify(e)},toJSON:function(){return e}}};return function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=e.id,i=e.scope,s=e.scopeDetails,c=e.items,l=void 0===c?[]:c,u=(s||{}).characteristics,g=(void 0===u?{}:u).scopeType;return{getScope:function(){return i},getScopeType:function(){return i===Ma||n(i)?Dd:g===kd?kd:Md},getItems:function(){var e=this;return l.map((function(t){return r(t,e)}))},getNotification:function(){return{id:o,scope:i,scopeDetails:s}},getId:function(){return o},toJSON:function(){return e},shouldSuppressDisplay:function(){return a},addToReturnValues:function(n,r,a,o){t&&(n.push(d(d({},e),{},{items:a.map((function(e){return e.getOriginalItem()})),renderAttempted:o})),o||r.push(d(d({},e),{},{items:a.map((function(e){return e.getOriginalItem()}))})))}}}},sg=function(){var e=Promise.resolve([]);return{concat:function(t){e=e.then((function(e){return t.then((function(t){return e.concat(t)})).catch((function(){return e}))}))},clear:function(){var t=e;return e=Promise.resolve([]),t}}},cg=function(){return{render:gn,setRenderAttempted:!0,includeInNotification:!0}},lg="always",ug="never",dg="decoratedElementsOnly",gg=[lg,ug,dg],pg="data-aep-interact-id",mg="data-aep-click-label",fg="data-aep-click-token",vg=0,hg=function(e,t){return t?parseInt(t,10):++vg},bg=function(e,t){return!!e&&!!e[t]&&[lg,dg].includes(e[t])},Cg=function(e,t,n,r,a,o,i,s){var c=i.scopeDetails,l=(void 0===c?{}:c).decisionProvider;return bg(e,l)||t===Pd?function(e){if(e.tagName){var t=hg(n,mu(e,pg));s(n,r,o,i,t),pu(e,pg,t),a&&!mu(e,mg)&&pu(e,mg,a)}}:gn},Eg=function(e){var t=e.modules,n=e.logger,r=e.storeInteractionMeta,a=e.storeClickMeta,o=e.autoCollectPropositionInteractions;return function(e){var i=e.getData()||{},s=i.type,c=i.selector;if(!s)return n.warn("Invalid DOM action data: missing type.",e.getData()),{setRenderAttempted:!1,includeInNotification:!1};if(s===Pd)return c?(a({selector:c,meta:d(d({},e.getProposition().getNotification()),{},{trackingLabel:e.getTrackingLabel(),scopeType:e.getProposition().getScopeType()})}),{setRenderAttempted:!0,includeInNotification:!1}):(n.warn("Invalid DOM action data: missing selector.",e.getData()),{setRenderAttempted:!1,includeInNotification:!1});if(!t[s])return n.warn("Invalid DOM action data: unknown type.",e.getData()),{setRenderAttempted:!1,includeInNotification:!1};var l=Cg(o,s,e.getProposition().getId(),e.getId(),e.getTrackingLabel(),e.getProposition().getScopeType(),e.getProposition().getNotification(),r);return{render:function(){return t[s](e.getData(),l)},setRenderAttempted:!0,includeInNotification:!0}}},yg=function(e){var t=e.modules,n=e.logger,r=e.storeInteractionMeta,a=e.autoCollectPropositionInteractions;return function(e){var o=e.getData()||{},i=o.type;if(!o.selector||!i)return{setRenderAttempted:!1,includeInNotification:!1};if(!t[i])return n.warn("Invalid HTML content data",e.getData()),{setRenderAttempted:!1,includeInNotification:!1};var s=Cg(a,i,e.getProposition().getId(),e.getId(),e.getTrackingLabel(),e.getProposition().getScopeType(),e.getProposition().getNotification(),r);return{render:function(){return t[i](e.getData(),s)},setRenderAttempted:!0,includeInNotification:!0}}},Sg=function(e){var t=e.logger,n=e.executeRedirect,r=e.collect;return function(e){var a=(e.getData()||{}).content;return a?{render:function(){return r({decisionsMeta:[e.getProposition().getNotification()],documentMayUnload:!0}).then((function(){return t.logOnContentRendering({status:"rendering-redirect",detail:{propositionDetails:e.getProposition().getNotification(),redirect:a},message:"Redirect action ".concat(e.toString()," executed."),logLevel:"info"}),n(a)}))},setRenderAttempted:!0,onlyRenderThis:!0}:(t.warn("Invalid Redirect data",e.getData()),{})}},Tg=function(e){var t=e.schemaProcessors,n=e.logger,r=function(e,t){return function(){return Promise.resolve().then(e).then((function(){return n.enabled&&n.info("Action ".concat(t.toString()," executed.")),t.toJSON()})).catch((function(e){var r=e.message,a=e.stack,o="Failed to execute action ".concat(t.toString(),". ").concat(r," ").concat(a);n.logOnContentRendering({status:"rendering-failed",detail:{propositionDetails:t.getProposition().getNotification(),item:t.toJSON()},error:e,message:o,logLevel:"warn"})}))}},a=function(e,t){return Promise.all(e.map((function(e){return e()}))).then((function(e){var n=e.filter((function(e){return e}));if(t&&et(n))return d(d({},t),{},{items:n})}))},o=function(e){var n=t[e.getSchema()];return n?n(e):{}},i=function(e){for(var t,n,i,s,c=e.renderers,l=e.returnedPropositions,u=e.returnedDecisions,d=e.items,g=e.proposition,p=f(c),m=f(l),v=f(u),h=[],b=[],C=[],E=!1,y=!1,S=0;d.length>S;){s=d[S];var T=o(s);if(t=T.render,n=T.setRenderAttempted,i=T.includeInNotification,y=T.onlyRenderThis){m=[],v=[],n?(h=[s],b=[]):(h=[],b=[s]),p=[],C=[t],E=i;break}t&&C.push(r(t,s)),i&&(E=!0),n?h.push(s):b.push(s),S+=1}if(C.length>0){var A=E?g.getNotification():void 0;p.push((function(){return a(C,A)}))}else E&&p.push((function(){return Promise.resolve(g.getNotification())}));return h.length>0&&g.addToReturnValues(m,v,h,!0),b.length>0&&g.addToReturnValues(m,v,b,!1),{renderers:p,returnedPropositions:m,returnedDecisions:v,onlyRenderThis:y}};return function(e){for(var t,r,a,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],s=[],c=[],l=[],u=0;e.length>u;){a=(r=e[u]).getItems();var g=i({renderers:s,returnedPropositions:c,returnedDecisions:l,items:a,proposition:r});if(s=g.renderers,c=g.returnedPropositions,l=g.returnedDecisions,t=g.onlyRenderThis)break;u+=1}return t&&e.forEach((function(e,t){t!==u&&e.addToReturnValues(c,l,e.getItems(),!1)})),o.forEach((function(e){e.addToReturnValues(c,l,e.getItems(),!1)})),{returnedPropositions:c,returnedDecisions:l,render:function(){return Promise.all(s.map((function(e){return e()}))).then((function(e){var t=e.filter((function(e){return e})),r=t.map((function(e){return{id:e.id,scope:e.scope,scopeDetails:e.scopeDetails}}));if(et(t)){var a=jt(t,(function(e){return e.scope}));n.logOnContentRendering({status:"rendering-succeeded",detail:d({},a),message:"Scopes: ".concat(JSON.stringify(a)," successfully executed."),logLevel:"info"})}return r}))}}}},Ag=function(){var e=0;return function(t){var n=t.items;return!!(void 0===n?[]:n).some((function(e){return e.schema===Xs}))&&(e+=1)>1}},_g=function(e){var t=e.processPropositions,n=e.createProposition,r=e.notificationHandler;return function(e){var a=e.renderDecisions,o=e.propositions,i=e.event,s=e.personalization,c=void 0===s?{}:s;if(!a)return Promise.resolve();var l=c.sendDisplayEvent,u=void 0===l||l,d=i?i.getViewName():void 0,g=Ag(),p=o.map((function(e){return n(e,!0,g(e))})),m=t(p),f=m.render,v=m.returnedPropositions,h=r(a,u,d),b=p.reduce((function(e,t){return e[t.getId()]=t,e}),{});return f().then((function(e){var t=e.filter((function(e){return!b[e.id].shouldSuppressDisplay()})),n=e.filter((function(e){return b[e.id].shouldSuppressDisplay()}));h(t,n)})),Promise.resolve({propositions:v})}},Ng="defaultContent",Pg=["content","contentType"],Ig=["mobileParameters","webParameters","html"],wg=function(e,t){for(var n=0;n<Pg.length;n+=1){var r=Pg[n];if(!Object.prototype.hasOwnProperty.call(e,r))return t.warn("Invalid in-app message data: missing property '".concat(r,"'."),e),!1}var a=e.content;if(e.contentType===fc)for(var o=0;o<Ig.length;o+=1){var i=Ig[o];if(!Object.prototype.hasOwnProperty.call(a,i))return t.warn("Invalid in-app message data.content: missing property '".concat(i,"'."),e),!1}return!0},Rg=function(e){var t=e.modules,n=e.logger;return function(e){var r=e.getData(),a=e.getProposition(),o=d({},a.getNotification()),i=a.shouldSuppressDisplay();if(!r)return n.warn("Invalid in-app message data: undefined.",r),{};var s=r.type,c=void 0===s?Ng:s;return t[c]?wg(r,n)?o?{render:function(){return i?null:t[c](d(d({},r),{},{meta:o}))},setRenderAttempted:!0,includeInNotification:!0}:(n.warn("Invalid in-app message meta: undefined.",o),{}):{}:(n.warn("Invalid in-app message data: unknown type.",r),{})}},Og=function(e){var t=lt("#".concat(e),document);t&&t.length>0&&Nt(t[0])},Lg=function(e){var t={};if(!e||"a"!==e.tagName.toLowerCase())return t;var n=e.href;if(!n||!n.startsWith("adbinapp://"))return t;var r,a,o=n.split("?"),i=o[0].split("://")[1],s=e.innerText,c=e.getAttribute("data-uuid")||"";if(et(o)){var l=he.default.parse(o[1]);r=l.interaction||"",a=Go(l.link||"")}return{action:i,interaction:r,link:a,label:s,uuid:c}},kg=function(e){return function(t){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?e.location.href=t:e.location.replace(t),new Promise((function(){}))}},Dg="alloy-messaging-container",Mg="alloy-overlay-container",xg="alloy-content-iframe",Bg=function(){return[Dg,Mg].forEach(Og)},Vg=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:kg(window);return function(n){n.preventDefault(),n.stopImmediatePropagation();var r=n.target,a="a"===r.tagName.toLowerCase()?r:r.closest("a");if(a){var o=Lg(a),i=o.action,s=o.interaction,c=o.link,l=o.label,u=o.uuid;e(i,{label:l,id:s,uuid:u,link:c}),"dismiss"===i&&Bg(),dn(c)&&c.length>0&&t(c,!0)}}},jg=function(e,t){var n=(new DOMParser).parseFromString(e,mc),r=n.querySelector("script");r&&r.setAttribute("nonce",Au());var a=We("iframe",{src:URL.createObjectURL(new Blob([n.documentElement.outerHTML],{type:"text/html"})),id:xg});return a.addEventListener("load",(function(){(0,(a.contentDocument||a.contentWindow.document).addEventListener)("click",t)})),a},Ug=function(e,t,n,r){[{id:Mg,element:r},{id:Dg,element:n},{id:xg,element:e}].forEach((function(e){var n=e.id,r=e.element,a=t[n],o=a.style,i=void 0===o?{}:o,s=a.params,c=void 0===s?{}:s;r.style=d(d({},r.style),i);var l=c.parentElement,u=void 0===l?"body":l,g=c.insertionMethod,p=void 0===g?"appendChild":g,m=c.enabled,f=void 0===m||m,v=document.querySelector(u);f&&v&&"function"==typeof v[p]&&v[p](r)}))},Fg=function(e){var t=e.verticalAlign,n=e.width,r=e.horizontalAlign,a=e.backdropColor,o=e.height,i=e.cornerRadius,s=e.horizontalInset,c=e.verticalInset,l=e.uiTakeover,u=void 0!==l&&l,d={width:n?"".concat(n,"%"):"100%",backgroundColor:a||"rgba(0, 0, 0, 0.5)",borderRadius:i?"".concat(i,"px"):"0px",border:"none",position:u?"fixed":"relative",overflow:"hidden"};return"left"===r?d.left=s?"".concat(s,"%"):"0":"right"===r?d.right=s?"".concat(s,"%"):"0":"center"===r&&(d.left="50%",d.transform="translateX(-50%)"),"top"===t?d.top=c?"".concat(c,"%"):"0":"bottom"===t?(d.position="fixed",d.bottom=c?"".concat(c,"%"):"0"):"center"===t&&(d.top="50%",d.transform="".concat("center"===r?"".concat(d.transform," "):"","translateY(-50%)"),d.display="flex",d.alignItems="center",d.justifyContent="center"),d.height=o?"".concat(o,"vh"):"100%",d},Gg=function(e){return{position:"fixed",top:"0",left:"0",width:"100%",height:"100%",background:"transparent",opacity:e.backdropOpacity||.5,backgroundColor:e.backdropColor||"#FFFFFF"}},Hg=["enabled","parentElement","insertionMethod"],Wg=function(e){if(!e)return!1;var t=Object.keys(e);if(!t.includes(Dg))return!1;if(!t.includes(Mg))return!1;for(var n=Object.values(e),r=0;r<n.length;r+=1){if(!Vr(n[r],"style"))return!1;if(!Vr(n[r],"params"))return!1;for(var a=0;a<Hg.length;a+=1)if(!Vr(n[r].params,Hg[a]))return!1}return!0},qg=function(e){if(e){var t=e.uiTakeover,n=void 0!==t&&t;return g(g(g({},xg,{style:{border:"none",width:"100%",height:"100%"},params:{enabled:!0,parentElement:"#alloy-messaging-container",insertionMethod:"appendChild"}}),Dg,{style:Fg(e),params:{enabled:!0,parentElement:"body",insertionMethod:"appendChild"}}),Mg,{style:Gg(e),params:{enabled:!0===n,parentElement:"body",insertionMethod:"appendChild"}})}},Kg=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;Bg();var n=e.content,r=e.contentType,a=e.mobileParameters,o=e.webParameters;if(r===mc){var i=We("div",{id:Dg}),s=jg(n,Vg(t)),c=We("div",{id:Mg});Wg(o)||(o=qg(a)),o&&Ug(s,o,i,c)}},Yg=function(e,t){return new Promise((function(n){var r=e.meta;Kg(e,(function(e,n){var a={};a[Sc.INTERACT]=ac,-1!==Object.values(Sc).indexOf(e)&&(a[e]=ac),t({decisionsMeta:[r],propositionAction:n,eventType:ec,propositionEventTypes:Object.keys(a)})})),n({meta:r})}))},zg=function(e){return{defaultContent:function(t){return Yg(t,e)}}},Jg=function(e,t){return function(n,r,a){if(!n)return function(){};if(!r){var o=Ve();return t.concat(o.promise),o.resolve}return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];et(t)&&e({decisionsMeta:t,viewName:a}),et(n)&&e({decisionsMeta:n,eventType:rc,propositionAction:{reason:"Conflict"},viewName:a})}}},$g=function(e){var t=e.showContainers,n=e.consent;return function(){var e=n.current(),r=e.state,a=e.wasSet;r===ea&&a?t():n.awaitConsent().catch(t)}},Xg=function(e){for(var t,n,r=document.documentElement,a=e,o=new Set;a&&a!==r;){var i=mu(a,pg);i&&o.add(i),t=t||mu(a,mg),n=n||mu(a,fg),a=a.parentNode}return{interactIds:f(o),clickLabel:t,clickToken:n}},Qg=function(e){var t=e.find((function(e){return e.scopeType===kd}));return t?t.scope:void 0},Zg=function(e,t,n){return function(r){var a=r.scopeDetails,o=(void 0===a?{}:a).decisionProvider;return e[o]===lg||e[o]===dg&&(t||n)}},ep=function(e,t,n){var r=Xg(e),a=r.interactIds,o=r.clickLabel,i=void 0===o?"":o,s=r.clickToken,c=Zg(n,i,s);if(0===a.length)return{};var l=t(a).filter(c);return{decisionsMeta:xd(l),propositionActionLabel:i,propositionActionToken:s,viewName:Qg(l)}},tp=function(e){var t=e.config,n=e.logger,r=e.eventManager,a=e.consent,o=t.targetMigrationEnabled,i=t.prehidingStyle,s=t.autoCollectPropositionInteractions,c=$c({eventManager:r,mergeDecisionsMeta:Xc}),l=Xu(n),u=$u(n),d=Yd(),p=d.storeInteractionMeta,m=d.getInteractionMetas,f=Kd(),v=f.storeClickMeta,h=f.getClickSelectors,b=f.getClickMetas,C=Qd({window:window}),E=wd(),y=og([ag,tg]),S=ig({preprocess:y,isPageWideSurface:Kl}),T=Hd({createProposition:S}),A=kg(window),_=g(g(g(g(g({},qs,cg),Ks,Eg({modules:E,logger:n,storeInteractionMeta:p,storeClickMeta:v,autoCollectPropositionInteractions:s})),Ys,yg({modules:E,logger:n,storeInteractionMeta:p,autoCollectPropositionInteractions:s})),$s,Sg({logger:n,executeRedirect:A,collect:c})),Xs,Rg({modules:zg(c),logger:n})),N=Tg({schemaProcessors:_,logger:n}),P=sg(),I=Jg(c,P),w=Od({prehidingStyle:i,showContainers:l,hideContainers:u,mergeQuery:Qc,processPropositions:N,createProposition:S,notificationHandler:I,consent:a,logger:n}),R=Gd({mergeDecisionsMeta:Xc,collectInteractions:ep,collectClicks:jd,getInteractionMetas:m,getClickMetas:b,getClickSelectors:h,autoCollectPropositionInteractions:s}),O=Wd({processPropositions:N,viewCache:T,logger:n}),L=Xd({processPropositions:N,createProposition:S,renderedPropositions:P,viewCache:T}),k=Zd({targetMigrationEnabled:o}),D=_g({processPropositions:N,createProposition:S,notificationHandler:I}),M=$g({showContainers:l,consent:a});return tu({getPageLocation:C,logger:n,fetchDataHandler:w,viewChangeHandler:O,onClickHandler:R,isAuthoringModeEnabled:Ud,mergeQuery:Qc,viewCache:T,showContainers:l,applyPropositions:L,setTargetMigration:k,mergeDecisionsMeta:Xc,renderedPropositions:P,onDecisionHandler:D,handleConsentFlicker:M})};tp.namespace="Personalization";var np=gg.map((function(e){return Mr(e)}));tp.configValidators=Vr({prehidingStyle:jr().nonEmpty(),targetMigrationEnabled:kr().default(!1),autoCollectPropositionInteractions:Vr(g(g({},Rc,Rr(np).default(lg)),Oc,Rr(np).default(ug))).default(g(g({},Rc,lg),Oc,ug)).noUnknownFields()});var rp=function(e){var t=e.storedConsent,n=e.taskQueue,r=e.defaultConsent,a=e.consent,o=e.sendSetConsentRequest,i=e.validateSetConsentOptions,s=e.consentHashStore,c=e.doesIdentityCookieExist,l=g({},na,r),u=t.read(),d=c(),p=void 0!==u[na];d&&p||s.clear(),d||(t.clear(),u={}),a.initializeConsent(l,u);var m=function(){if(0===n.length){var e=t.read();void 0!==e[na]&&a.setConsent(e)}};return{commands:{setConsent:{optionsValidator:i,run:function(e){var t=e.consent,r=e.identityMap,i=e.edgeConfigOverrides;a.suspend();var c=s.lookup(t);return n.addTask((function(){return c.isNew()?o({consentOptions:t,identityMap:r,edgeConfigOverrides:i}):Promise.resolve()})).then((function(){return c.save()})).finally(m)}}},lifecycle:{onResponse:m,onRequestFailure:m}}},ap=function(e){return Array.isArray(e)?e.map((function(e){return ap(e)})):"object"===y(e)&&null!==e?Object.keys(e).sort().reduce((function(t,n){return t[n]=ap(e[n]),t}),{}):e},op=function(e){return Be(JSON.stringify(ap(e)))},ip=function(e){var t=e.standard,n=e.version;return"".concat(t,".").concat(n)},sp=function(e){var t=e.storage;return{clear:function(){t.clear()},lookup:function(e){var n={},r=function(e){var t=ip(e),r=(e.standard,e.version,a(e,_e));return n[t]||(n[t]=op(r).toString()),n[t]};return{isNew:function(){return e.some((function(e){var n=ip(e),a=t.getItem(n);return null===a||a!==r(e)}))},save:function(){e.forEach((function(e){var n=ip(e);t.setItem(n,r(e))}))}}}}},cp=function(){var e={},t=ja({content:e,addIdentity:function(t,n){e.identityMap=e.identityMap||{},e.identityMap[t]=e.identityMap[t]||[],e.identityMap[t].push(n)},hasIdentity:function(t){return void 0!==(e.identityMap&&e.identityMap[t])}});return t.setConsent=function(t){e.consent=t},t},lp=function(e){var t=e.payload,n=e.datastreamIdOverride;return Ba({payload:t,datastreamIdOverride:n,getAction:function(){return"privacy/set-consent"},getUseSendBeacon:function(){return!1}})},up=function(e){var t=e.parseConsentCookie,n=e.orgId,r=e.cookieJar,a=Vt(n,Xt);return{read:function(){var e=r.get(a)
;return e?t(e):{}},clear:function(){r.remove(a)}}},dp=function(e){var t=e.createConsentRequestPayload,n=e.createConsentRequest,r=e.sendEdgeNetworkRequest,a=e.edgeConfigOverrides;return function(e){var o=e.consentOptions,i=e.identityMap,s=e.edgeConfigOverrides,c=Ga({payload:t(),globalConfigOverrides:a,localConfigOverrides:s});c.payload.setConsent(o),Pe(i)&&Object.keys(i).forEach((function(e){i[e].forEach((function(t){c.payload.addIdentity(e,t)}))}));var l=n(c);return r({request:l}).then((function(){}))}},gp=function(e){return e.split(";").reduce((function(e,t){var n=i(t.split("="),2),r=n[0],a=n[1];return e[r]=a,e}),{})},pp=Vr({consent:Lr(Or()).required().nonEmpty(),identityMap:Fr,edgeConfigOverrides:Gr}).noUnknownFields().required(),mp=Vr({defaultConsent:Ur(Zr,ea,ta).default(Zr)}),fp=function(e){var t=e.config,n=e.consent,r=e.sendEdgeNetworkRequest,a=e.createNamespacedStorage,o=t.orgId,i=t.defaultConsent,s=up({parseConsentCookie:gp,orgId:o,cookieJar:Re}),c=xe(),l=dp({createConsentRequestPayload:cp,createConsentRequest:lp,sendEdgeNetworkRequest:r,edgeConfigOverrides:t.edgeConfigOverrides}),u=a("".concat(Bt(o),".consentHashes.")),d=sp({storage:u.persistent}),g=Zt({orgId:o});return rp({storedConsent:s,taskQueue:c,defaultConsent:i,consent:n,sendSetConsentRequest:l,validateSetConsentOptions:pp,consentHashStore:d,doesIdentityCookieExist:g})};fp.namespace="Consent",fp.configValidators=mp;var vp=Vr({streamingMedia:Vr({channel:jr().nonEmpty().required(),playerName:jr().nonEmpty().required(),appVersion:jr(),mainPingInterval:xr().minimum(10).maximum(50).default(10),adPingInterval:xr().minimum(1).maximum(10).default(10)}).noUnknownFields()}),hp=function(e){var t=e.options;return Rr([Vr({playerId:jr().required(),getPlayerDetails:Dr().required(),xdm:Vr({mediaCollection:Vr({sessionDetails:Vr(Or()).required()})}),edgeConfigOverrides:Vr({})}).required(),Vr({xdm:Vr({mediaCollection:Vr({playhead:xr().required(),sessionDetails:Vr(Or()).required()})}),edgeConfigOverrides:Vr({})}).required()],"Error validating the createMediaSession command options.")(t)},bp=function(e){var t=e.options;return Rr([Vr({playerId:jr().required(),xdm:Vr({eventType:Ur.apply(void 0,f(Object.values(rl))).required(),mediaCollection:Vr(Or())}).required()}).required(),Vr({xdm:Vr({eventType:Ur.apply(void 0,f(Object.values(rl))).required(),mediaCollection:Vr({playhead:xr().integer().required(),sessionID:jr().required()}).required()}).required()}).required()],"Error validating the sendMediaEvent command options.")(t)},Cp=function(e){var t=e.config,n=e.trackMediaEvent,r=e.trackMediaSession,a=e.mediaResponseHandler;return{lifecycle:{onBeforeEvent:function(e){var t=e.mediaOptions,n=e.onResponse,r=void 0===n?gn:n;if(t){var o=t.legacy,i=t.playerId,s=t.getPlayerDetails;o||r((function(e){var t=e.response;return a({playerId:i,getPlayerDetails:s,response:t})}))}}},commands:{createMediaSession:{optionsValidator:function(e){return hp({options:e})},run:r},sendMediaEvent:{optionsValidator:function(e){return bp({options:e})},run:function(e){return t.streamingMedia?n(e):Promise.reject(new Error("Streaming media is not configured."))}}}}},Ep=function(e){var t=e.config,n=e.logger,r=e.eventManager,a=e.sendEdgeNetworkRequest,o=e.consent,i=sl(),s=ol({config:t,eventManager:r,logger:n,consent:o,sendEdgeNetworkRequest:a,setTimestamp:vs((function(){return new Date}))}),c=ll({mediaSessionCacheManager:i,mediaEventManager:s,config:t}),l=ul({config:t,mediaEventManager:s,mediaSessionCacheManager:i}),u=gl({mediaSessionCacheManager:i,config:t,trackMediaEvent:c});return Cp({config:t,trackMediaEvent:c,mediaEventManager:s,mediaResponseHandler:u,trackMediaSession:l})};Ep.namespace="Streaming media",Ep.configValidators=vp;var yp=Object.freeze({__proto__:null,activityCollector:os,audiences:ls,consent:fp,context:Ls,eventMerge:nl,mediaAnalyticsBridge:Pl,personalization:tp,rulesEngine:Zc,streamingMedia:Ep}),Sp=window.console,Tp=rn(window),Ap=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Vr({name:jr().default("alloy"),monitors:Lr(Vr({})).default([]),components:Lr(Dr())}).noUnknownFields()(e),n=t.name,r=t.monitors,a=t.components,o=function(){return(window.__alloyMonitors||[]).concat(r)},i=Wr({console:Sp,locationSearch:window.location.search,createLogger:Da,instanceName:n,createNamespacedStorage:Tp,getMonitors:o}),s=bi({instanceName:n,logController:i,components:a});return i.logger.logOnInstanceCreated({instance:s}),s};t.createInstance=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Vr({name:jr().default("alloy"),monitors:Lr(Vr({})).default([])}).noUnknownFields()(e),n=t.name,r=t.monitors;return Ap({name:n,monitors:r,components:Object.values(yp)})}}},"adobe-alloy/dist/lib/actions/updateVariable/createUpdateVariable.js":{script:function(e,t,n){"use strict";var r=n("../../utils/pathUtils").deletePath;e.exports=function(e){var t=e.variableStore,n=e.deepAssign;return function(e,a){var o,i=e.data,s=e.dataElementId,c=e.transforms,l=e.customCode,u=Object.keys(c||{}).reduce((function(e,t){return c[t].clear?r(e,t):e}),t[s]||{});t[s]=n({},u,i),l&&l(t[s],a);var d=(null===(o=t[s])||void 0===o?void 0:o.__adobe)||{};return d.audienceManager&&(d.audiencemanager=d.audienceManager,delete d.audienceManager),Promise.resolve()}}}},"adobe-alloy/dist/lib/utils/pathUtils.js":{script:function(e,t){"use strict";function n(e){return i(e)||o(e)||a(e)||r()}function r(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(e,t){if(e){if("string"==typeof e)return s(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function o(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function i(e){if(Array.isArray(e))return s(e)}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return(t=d(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e){var t=g(e,"string");return"symbol"==p(t)?t:t+""}function g(e,t){if("object"!=p(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=p(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}var m=/^-?[0-9]+$/,f=function(e){return e.split(".").map((function(e){return m.test(e)?parseInt(e,10):e})).filter((function(e){return""!==e}))},v=function(e){var t=e||{};return"object"!==p(t)?{}:t},h=function(e){var t=e||[];return Array.isArray(t)?t:[]},b=function(e,t,n){if("number"==typeof t){var r=e.slice();return r[t]=n,r}return l(l({},e),{},u({},t,n))},C=function(e,t){if("number"==typeof t)return[].concat(n(e.slice(0,t)),n(e.slice(t+1)));var r=l({},e);return delete r[t],r},E=function(e,t,n,r,a){if(r===n.length)return a(e,t);var o,i=n[r];return"number"==typeof i?(o=h(e[t]),i=(i=i<0?o.length+i:i)<0?0:i):o=v(e[t]),b(e,t,E(o,i,n,r+1,a))},y=function(e){return function(t,n,r){return E({value:t},"value",f(n),0,(function(t,n){return e(t,n,r)})).value}};t.setValue=y(b),t.deletePath=y(C)}},"adobe-alloy/dist/lib/actions/sendEvent/createSendEvent.js":{script:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,o=a(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function a(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var o=["instanceName"],i=n("../../utils/clone");e.exports=function(e){var t=e.instanceManager,n=e.sendEventCallbackStorage,a=e.getConfigOverrides;return function(e){var s=e.instanceName,c=r(e,o);c.edgeConfigOverrides=a(c);var l=t.getInstance(s);if(!l)throw new Error('Failed to send event for instance "'.concat(s,'". No matching instance was configured with this name.'));return c.xdm&&(c.xdm=i(c.xdm)),c.data&&(c.data=i(c.data)),l("sendEvent",c).then((function(e){n.triggerEvent(e)}))}}}},"adobe-alloy/dist/lib/utils/createGetConfigOverrides.js":{script:function(e){"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function r(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,n){return(t=o(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){var n=i(e,"string");return"symbol"==t(n)?n:n+""}function i(e,n){if("object"!=t(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,n||"default");if("object"!=t(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}var s=function(e){return function(t){var n,a,o,i,s,c=t.edgeConfigOverrides;if(c){if(c[e])s=r({},c[e]);else{if(c.development||c.staging||c.production)return;s=c}if(0!==Object.keys(s).length&&!1!==s.enabled){if(delete s.enabled,(null===(n=s.com_adobe_analytics)||void 0===n||null===(n=n.reportSuites)||void 0===n?void 0:n.length)>0&&(s.com_adobe_analytics.reportSuites=s.com_adobe_analytics.reportSuites.flatMap((function(e){return e.includes(",")?e.split(/,\s*/gi):e})).map((function(e){return e.trim()})).filter(Boolean)),void 0!==(null===(a=s.com_adobe_identity)||void 0===a?void 0:a.idSyncContainerId)&&null!==(null===(o=s.com_adobe_identity)||void 0===o?void 0:o.idSyncContainerId)&&"string"==typeof(null===(i=s.com_adobe_identity)||void 0===i?void 0:i.idSyncContainerId)){var l=parseInt(s.com_adobe_identity.idSyncContainerId.trim(),10);if(Number.isNaN(l))throw new Error('The ID sync container ID "'.concat(s.com_adobe_identity.idSyncContainerId,'" is not a valid integer.'));s.com_adobe_identity.idSyncContainerId=l}return s}}}};e.exports=s}},"adobe-alloy/dist/lib/utils/clone.js":{script:function(e){"use strict";e.exports=function(e){return JSON.parse(JSON.stringify(e))}}},"adobe-alloy/dist/lib/instanceManager/createInstanceManager.js":{script:function(e){"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function n(e){return i(e)||o(e)||a(e)||r()}function r(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(e,t){if(e){if("string"==typeof e)return s(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function o(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function i(e){if(Array.isArray(e))return s(e)}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return(t=d(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e){var n=g(e,"string");return"symbol"==t(n)?n:n+""}function g(e,n){if("object"!=t(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,n||"default");if("object"!=t(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}function p(e,t){if(null==e)return{};var n,r,a=m(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function m(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var f=["name","edgeConfigId","stagingEdgeConfigId","developmentEdgeConfigId","onBeforeEventSend"];e.exports=function(e){var t=e.turbine,r=e.window,a=e.createInstance,o=e.createEventMergeId,i=e.orgId,s=e.wrapOnBeforeEventSend,c=e.getConfigOverrides,u=t.getExtensionSettings().instances,d={},g={};return r.__alloyMonitors=r.__alloyMonitors||[],r.__alloyMonitors.push({onInstanceCreated:function(){g.onInstanceCreated||(g.onInstanceCreated=[]);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];g.onInstanceCreated.push(t)},onInstanceConfigured:function(){g.onInstanceConfigured||(g.onInstanceConfigured=[]);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];g.onInstanceConfigured.push(t)},onBeforeCommand:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];"configure"===t[0].commandName&&(g.onBeforeCommand||(g.onBeforeCommand=[]),g.onBeforeCommand.push(t))}}),u.forEach((function(e){var n=e.name,o=e.edgeConfigId,u=e.stagingEdgeConfigId,g=e.developmentEdgeConfigId,m=e.onBeforeEventSend,v=p(e,f),h=a({name:n});r[n]=h,r.__alloyNS||(r.__alloyNS=[]),r.__alloyNS.push(n),d[n]=h;var b=t.environment&&t.environment.stage,C="development"===b&&g||"staging"===b&&u||o;v.edgeConfigOverrides=c(v),h("configure",l(l({},v),{},{datastreamId:C,debugEnabled:t.debugEnabled,orgId:v.orgId||i,onBeforeEventSend:s(m)})),t.onDebugChanged((function(e){h("setDebug",{enabled:e})}))})),{getInstance:function(e){return d[e]},createEventMergeId:function(){return o()},addMonitor:function(e){r.__alloyMonitors.push(e),Object.keys(g).forEach((function(t){e[t]&&g[t].forEach((function(r){e[t].apply(e,n(r))}))}))}}}}},"adobe-alloy/dist/lib/instanceManager/injectWrapOnBeforeEventSend.js":{script:function(e){"use strict";e.exports=function(e){var t=e.version;return function(e){return function(n){if(n.xdm.implementationDetails.name="".concat(n.xdm.implementationDetails.name,"/reactor"),n.xdm.implementationDetails.version="".concat(n.xdm.implementationDetails.version,"+").concat(t),e)return e(n)}}}}},"adobe-alloy/dist/lib/actions/setConsent/createSetConsent.js":{script:function(e){"use strict";e.exports=function(e){var t=e.instanceManager,n=e.getConfigOverrides;return function(e){var r=e.instanceName,a=e.identityMap,o=e.consent,i=n(e),s=t.getInstance(r);if(!s)throw new Error('Failed to set consent for instance "'.concat(r,'". No matching instance was configured with this name.'));return s("setConsent",a?{identityMap:a,consent:o,edgeConfigOverrides:i}:{consent:o,edgeConfigOverrides:i})}}}}}},"adobe-analytics":{displayName:"Adobe Analytics",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EPe51f9b26f7c243dfa8d1d3ea2bf16f5f/",settings:{orgId:"C50417FE52CB33480A490D4C@AdobeOrg",customSetup:{source:function(e){function t(e,t){try{var n=_satellite.getVar("optanonActiveGroups")||"";if(""==n)_satellite.logger.warn("[Plugin] [getPreviousValue] function executed but optanonActiveGroups not defined correctly!");else{if(n.indexOf("C0009")>-1){_satellite.logger.info("[Plugin] [getPreviousValue] function executed for cookie ",t);var r=e,a=t;if("-v"===r)return{plugin:"getPreviousValue",version:"3.0"};var o,i=function(){if(void 0!==window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}();return void 0!==i&&(i.contextData.getPreviousValue="3.0"),window.cookieWrite=window.cookieWrite||function(e,t,n){if("string"==typeof e){var r=window.location.hostname,a=window.location.hostname.split(".").length-1;if(r&&!/^[0-9.]+$/.test(r)){a=2<a?a:2;var o=r.lastIndexOf(".");if(0<=o){for(;0<=o&&1<a;)o=r.lastIndexOf(".",o-1),a--;o=0<o?r.substring(o):r}}if(g=o,t=void 0!==t?""+t:"",n||""===t)if(""===t&&(n=-60),"number"==typeof n){var i=new Date;i.setTime(i.getTime()+6e4*n)}else i=n;return!(!e||(document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; path=/;"+(n?" expires="+i.toUTCString()+";":"")+(g?" domain="+g+";":""),"undefined"==typeof cookieRead))&&cookieRead(e)===t}},window.cookieRead=window.cookieRead||function(e){if("string"!=typeof e)return"";e=encodeURIComponent(e);var t=" "+document.cookie,n=t.indexOf(" "+e+"="),r=0>n?n:t.indexOf(";",n);return(e=0>n?"":decodeURIComponent(t.substring(n+2+e.length,0>r?t.length:r)))?e:""},a=a||"s_gpv",(i=new Date).setTime(i.getTime()+18e5),window.cookieRead(a)&&(o=window.cookieRead(a)),r?window.cookieWrite(a,r,i):window.cookieWrite(a,o,i),o}_satellite.logger.warn("[Plugin] [getPreviousValue] function executed but optanonActiveGroups did not include C0009")}}catch(e){_satellite.logger.error("[Plugin] [getPreviousValue] function executed but exception raised -- ",e)}}function n(t,n){e[t]||(e[t]=n)}function r(){try{var t="";if(tagging.getObjectProperty(window,"digitalDataV2.search.filters.features")){var n=digitalDataV2.search.filters.features;if(n.length>0)for(var r=0;r<n.length;r++){var a=n[r];0!==r&&(t+=","),t+=a.category+":"+a.name}}t.length>0&&(e.eVar214=t)}catch(e){_satellite.logger.error("Failed to build analytics search features details -- ",e)}}function a(){try{var t=0===e.linkType?"click":void 0!==e.linkType?e.linkType:"page";if(_satellite.logger.log("[Adobe Analytics] Updating analytics data. Current hit is of type",t," s.linkType is :",e.linkType),d(),"page"===t){i(),n("eVar29",e.getPreviousValue(e.pageName,"gpv_pn")),n("eVar51",e.getPreviousValue(location.hostname+location.pathname,"gpv_url")),e.eVar226="+1";const t=`spa=${l()}`;e.eVar14=t}r(),c(),u(),o(),n("pageName",_satellite.getVar("pageNameCleaned")),n("channel","D=v2>D=v3"),n("eVar19",_satellite.getVar("furlParam")),n("eVar20",_satellite.getVar("optanonActiveGroups")),n("eVar124",_satellite.getVar("sc_c124Param"))}catch(e){_satellite.logger.error("[Adobe Analytics] Failed in updateAnalyticsData",e)}}function o(){try{["/life-moments/managing-your-money/budget-calculator.html"].indexOf(window.location.pathname)>-1&&(e.eVar26="",e.prop15="",e.prop55="")}catch(e){_satellite.logger.error("[Adobe Analytics] Failed in patchPIIDataBreach",e)}}function i(){try{const t=_satellite.getVar("extcamParam"),n=_satellite.getVar("intcamParam"),r=_satellite.getVar("olbcamParam"),a="object"==typeof t?t[t.length-1]:t,o="object"==typeof r?r[r.length-1]:r,i="object"==typeof n?n[n.length-1]:n;e.campaign=a||(i?s(i):o||""),e.eVar35=a,e.eVar37=s(i)}catch(e){_satellite.logger.error("[Adobe Analytics] Failed in setCampaignData",e)}}function s(e){try{return e&&(e.match(/P1-/)?e=(e=(e=e.replace("HP-P1-DEF-Default","PC_HP-P1-DEF-UnKnown3-DEF")).replace("HP-P-P1-DEF-Default","PC_HP-P-P1-DEF-UnKnown3-DEF")).replace("HP-B-P1-DEF-Default","PC_HP-B-P1-DEF-UnKnown3-DEF"):e.match(/P2-/)?e=(e=(e=e.replace("HP-P2-DEF-Default","PC_HP-P2-DEF-UnKnown3-DEF")).replace("HP-P-P2-DEF-Default","PC_HP-P-P2-DEF-UnKnown3-DEF")).replace("HP-B-P2-DEF-Default","PC_HP-B-P2-DEF-UnKnown3-DEF"):e.match(/P3-/)?e=(e=(e=e.replace("HP-P3-DEF-Default","PC_HP-P3-PR3-UnKnown1-DEF")).replace("HP-P-P3-DEF-Default","PC_HP-P-P3-PR3-UnKnown1-DEF")).replace("HP-B-P3-DEF-Default","PC_HP-B-P3-PR3-UnKnown1-DEF"):e.match(/TB-/)&&(e=(e=(e=e.replace("HP-TB-DEF-Default","PC_HP-TB-DEF-5links-DEF")).replace("HP-P-TB-DEF-Default","PC_HP-P-TB-DEF-5links-DEF")).replace("HP-B-TB-DEF-Default","PC_HP-B-TB-DEF-5links-DEF"))),e}catch(e){_satellite.logger.error("[Adobe Analytics] Failed in applyInternalTrackingCodeFix",e)}}function c(){try{_satellite.getVar("productData")&&(_satellite.getVar("productData").productName&&n("products",";"+_satellite.getVar("productData").productName),e.linkType||n("events",_satellite.getVar("productData").analyticsEvents||"event1"),n("eVar25",_satellite.getVar("productData").formName),n("eVar31",_satellite.getVar("productData").toolName));const t=_satellite.getVar("aemAdvanceSettingsProducts");if(t){let n="";t.forEach((({name:e},t)=>{n+=`${t>0?",":""};${e}`})),n&&(e.products=n)}}catch(e){_satellite.logger.error("[Adobe Analytics] Failed in setProductData",e)}}function l(){try{const e=document.querySelector(".step-container"),t=document.querySelector('[class*="result"]');let n=["s0","r0"];return e&&(n[0]="s1",e.checkVisibility()&&(n[0]="s2")),t&&(n[1]="r1",t.checkVisibility()&&(n[1]="r2")),n.toString()}catch(e){_satellite.logger.error("")}}function u(){try{var t="",n={env:{production:"prod",development:"dev",staging:"stag"}[_satellite.environment.stage],prop:_satellite.property.name,build:_satellite.buildInfo.buildDate,turbV:_satellite.buildInfo.turbineVersion,aa:_satellite.getVar("aaVersion"),at:_satellite.getVar("atVersion"),vis:_satellite.getVar("ecidVersion"),aam:_satellite.getVar("aamVersion"),aaTs:_satellite.getVar("trackingServerUsed")};for(var r in n)t+=n[r]?r+"="+n[r]+"|":"";e.prop25=t}catch(e){_satellite.logger.error("[Adobe Analytics] Failed in setDebugData",e)}}function d(){try{_satellite.getVar("dotTargetCurrentProduct")&&n("eVar126",_satellite.getVar("dotTargetAnalytics"))}catch(e){_satellite.logger.error("[Adobe Analytics] Failed in setDotTargetData",e)}}function p(e,t){return!!e.contains(t)}e.getPreviousValue=t,e.usePlugins=!0,e.doPlugins=function(e){e.linkTrackVars="",e.linkTrackEvents="",e.contextData["cm.ssf"]=_satellite.getVar("serverSideForwarding"),n("eVar55","D=pageName"),a()},"true"==localStorage.getItem("com.adobe.reactor.debug")&&(e.debugTracking=!0),e.registerPostTrackCallback((function(){e.eVar35="",e.eVar37="",e.campaign="",e.eVar42="",e.eVar43="",e.eVar44="",e.eVar45="",e.eVar46="",e.eVar48="",e.eVar49="",e.eVar167="",e.prop22="",e.eVar32="",e.events="",e.prop71="",e.prop15="",e.prop55="",e.eVar26="",e.eVar226="",e.eVar214="",e.contextData={},e.events=""})),_satellite.getVar("optanonActiveGroups").match(/C0002/)&&function(){function t(){r||(r=!0,window.CS_CONF&&(CS_CONF.integrations=CS_CONF.integrations||[],CS_CONF.integrations.push("Adobe Analytics")))}function n(t){if(t)a=t;else{a=Math.random()+"_"+Date.now();var n=function(){for(var e=0,t=document.domain,n=t.split("."),r="_cs_tld"+(new Date).getTime();e<n.length-1&&-1==document.cookie.indexOf(r+"="+r);)t=n.slice(-1-++e).join("."),document.cookie=r+"="+r+";domain="+t+";SameSite=None;Secure";return document.cookie=r+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;Secure;domain="+t+";",t}(),r=new Date,i=r.getTime();i+=18e5,r.setTime(i),document.cookie=o+"="+a+"; expires="+r.toUTCString()+";path=/;domain="+n+";SameSite=None;Secure"}e.eVar217=a,_uxa.push(["trackDynamicVariable",{key:"csMatchingKey",value:a}])}var r=!1;window._uxa=window._uxa||[],_uxa.push(["afterPageView",t]);var a=null,o="_cs_mk_aa",i="; "+document.cookie;if(i){var s=i.split("; "+o+"=");1==s.length?n():n(s[1].split(";")[0])}}(),e.ActivityMap.region=function(e){if(0!==e){var t=document.querySelector("header"),n=document.querySelector("footer"),r=e;if(p(t,r)){var a=$(".iah").find(".iah__nav-l2 .ia-active > a")[0],o=$(".iah").find(".iah__nav-l2 .active-l3 > a")[0];return a=$(a).attr("data-navid"),(o=$(o).attr("data-skipid"))&&a?"global header>"+a+">"+o:a?"global header>"+a:"global header"}if(p(n,r))return"footer";var i=$(e).closest("[data-shelf-name]")[0];if(i)return i=$(i).attr("data-shelf-name");var s=$(e).closest("[id]")[0];return s?s=$(s).attr("id"):"body"}}}},libraryCode:{type:"managed",accounts:{staging:["%reportSuite%"],production:["%reportSuite%"],development:["%reportSuite%"]},useActivityMap:!0,scopeTrackerGlobally:!0},trackerProperties:{eVars:[{name:"eVar1",type:"value",value:"D=v2>D=v3"},{name:"eVar2",type:"value",value:"%subSection1%"},{name:"eVar3",type:"value",value:"%subSection2%"},{name:"eVar4",type:"value",value:"%subSection3%"},{name:"eVar5",type:"value",value:"%brandName%"},{name:"eVar7",type:"value",value:"%cin10Chars%"},{name:"eVar9",type:"value",value:"%visitorId%"}],props:[{name:"prop5",type:"value",value:"%hostName%"},{name:"prop6",type:"value",value:"%hostName%%pathName%"},{name:"prop26",type:"value",value:"%queryStrings%"}],server:"%serverName%",channel:"D=v2>D=v3",charSet:"UTF-8",pageName:"%pageNameCleaned%",currencyCode:"GBP",trackingServer:"%trackingServer%",trackInlineStats:!1,visitorNamespace:"royalbankofscotland",trackDownloadLinks:!0,trackExternalLinks:!0,writeSecureCookies:!0,cookieDomainPeriods:"%cookieDomainPeriod%",linkExternalFilters:[],linkInternalFilters:["javascript:","lombard.co.uk","natwest.com","nwolb.com","rbos.com","rbs.co.uk","rbsdigital.com","rbsgrp.net","ulsterbank.co.uk","ulsterbank.com","ulsterbank.ie","ulsterbankanytimebanking.co.uk","ulsterbankanytimebanking.ie","managedtest.com","natwestgroup.com","natwestgroupremembers.com","adobecqms.net","rbs.com","iombank.com","natwestinternational.com"],linkLeaveQueryString:!1,trackingServerSecure:"%trackingServerSecure%",fpCookieDomainPeriods:"%cookieDomainPeriod%",linkDownloadFileTypes:["avi","css","csv","doc","docx","eps","exe","jpg","js","m4v","mov","mp3","pdf","png","ppt","pptx","rar","svg","tab","txt","vsd","vxd","wav","wma","wmv","xls","xlsx","xml","zip"]}},modules:{"adobe-analytics/src/lib/actions/setVariables.js":{name:"set-variables",displayName:"Set Variables",script:function(e,t,n,r){"use strict";var a=n("../sharedModules/getTracker"),o=n("../helpers/applyTrackerVariables");e.exports=function(e,t){return a().then((function(n){r.logger.info("Set variables on the tracker."),o(n,e.trackerProperties),e.customSetup&&e.customSetup.source&&e.customSetup.source.call(t.element,t,n)}),(function(e){r.logger.error("Cannot set variables: "+e)}))}}},"adobe-analytics/src/lib/actions/sendBeacon.js":{name:"send-beacon",displayName:"Send Beacon",script:function(e,t,n,r){"use strict";var a=n("../sharedModules/getTracker"),o=n("../helpers/getNodeLinkText"),i=function(e){return e&&e.nodeName&&"a"===e.nodeName.toLowerCase()},s=function(e){return i(e)?o(e):"link clicked"},c=function(e,t,n){if("page"===t.type)r.logger.info("Firing page view beacon."),e.t();else{var a={linkType:t.linkType||"o",linkName:t.linkName||s(n)};r.logger.info("Firing link track beacon using the values: "+JSON.stringify(a)+"."),e.tl(i(n)?n:"true",a.linkType,a.linkName)}};e.exports=function(e,t){return a().then((function(n){c(n,e,t.element)}),(function(e){r.logger.error("Cannot send beacon: "+e)}))}}},"adobe-analytics/src/lib/sharedModules/getTracker.js":{script:function(e,t,n,r){"use strict";var a,o=n("@adobe/reactor-cookie"),i=n("@adobe/reactor-promise"),s=n("@adobe/reactor-window"),c=n("../helpers/settingsHelper"),l=n("../helpers/augmenters"),u=n("../helpers/applyTrackerVariables"),d=n("../helpers/loadLibrary"),g=n("../helpers/generateVersion")(r.buildInfo.turbineBuildDate),p="beforeSettings",m=r.getSharedModule("adobe-mcid","mcid-instance"),f=function(e){return!e||"true"===o.get(e)},v=function(e){return i.all(l.map((function(t){var n;try{n=t(e)}catch(e){setTimeout((function(){throw e}))}return i.resolve(n)}))).then((function(){return e}))},h=function(e){return m&&(r.logger.info("Setting MCID instance on the tracker."),e.visitor=m),e},b=function(e){return r.logger.info('Setting version on tracker: "'+g+'".'),void 0!==e.tagContainerMarker?e.tagContainerMarker=g:"string"==typeof e.version&&e.version.substring(e.version.length-5)!=="-"+g&&(e.version+="-"+g),e},C=function(e,t,n){return t.loadPhase===p&&t.source&&(r.logger.info("Calling custom script before settings."),t.source.call(s,n)),u(n,e||{}),t.loadPhase!==p&&t.source&&(r.logger.info("Calling custom script after settings."),t.source.call(s,n)),n},E=function(e,t){return c.isAudienceManagementEnabled(e)&&(t.loadModule("AudienceManagement"),r.logger.info("Initializing AudienceManagement module"),t.AudienceManagement.setup(e.moduleProperties.audienceManager.config)),t},y=(a=r.getExtensionSettings(),f(a.trackingCookieName)?d(a).then(v).then(h).then(b).then(C.bind(null,a.trackerProperties,a.customSetup||{})).then(E.bind(null,a)):i.reject("EU compliance was not acknowledged by the user."));e.exports=function(){return y}},name:"get-tracker",shared:!0},"adobe-analytics/src/lib/sharedModules/augmentTracker.js":{name:"augment-tracker",shared:!0,script:function(e,t,n){"use strict";var r=n("../helpers/augmenters");e.exports=function(e){r.push(e)}}},"adobe-analytics/src/lib/helpers/applyTrackerVariables.js":{script:function(e,t,n,r){"use strict";var a=n("@adobe/reactor-query-string"),o=n("@adobe/reactor-window"),i=/eVar([0-9]+)/,s=/prop([0-9]+)/,c=new RegExp("^(eVar[0-9]+)|(prop[0-9]+)|(hier[0-9]+)|campaign|purchaseID|channel|server|state|zip|pageType$"),l=function(e,t,n){return n.indexOf(e)===t},u=function(e,t,n){var r=Object.keys(t).filter(c.test.bind(c));return n&&r.push("events"),(r=r.concat((e.linkTrackVars||"").split(","))).filter((function(e,t){return"None"!==e&&e&&l(e,t,r)})).join(",")},d=function(e,t){var n=t.map((function(e){return e.name}));return(n=n.concat((e.linkTrackEvents||"").split(","))).filter((function(e,t){return"None"!==e&&l(e,t,n)})).join(",")},g=function(e,t,n){e[t]=n[t].join(",")},p=function(e,t,n){var r=n.dynamicVariablePrefix||"D=";n[t].forEach((function(t){var n;if("value"===t.type)n=t.value;else{var a=i.exec(t.value);if(a)n=r+"v"+a[1];else{var o=s.exec(t.value);o&&(n=r+"c"+o[1])}}e[t.name]=n}))},m={linkDownloadFileTypes:g,linkExternalFilters:g,linkInternalFilters:g,hierarchies:function(e,t,n){n[t].forEach((function(t){e[t.name]=t.sections.join(t.delimiter)}))},props:p,eVars:p,campaign:function(e,t,n){if("queryParam"===n[t].type){var r=a.parse(o.location.search);e[t]=r[n[t].value]}else e[t]=n[t].value},events:function(e,t,n){var r=n[t].map((function(e){var t=e.name;return e.id&&(t=[t,e.id].join(":")),e.value&&(t=[t,e.value].join("=")),t}));e[t]=r.join(",")}};e.exports=function(e,t){var n={};t=t||{},Object.keys(t).forEach((function(e){var r=m[e],a=t[e];r?r(n,e,t):n[e]=a})),n.events&&e.events&&e.events.length>0&&(n.events=e.events+","+n.events);var a=t&&t.events&&t.events.length>0,o=u(e,n,a);o&&(n.linkTrackVars=o);var i=d(e,t.events||[]);i&&(n.linkTrackEvents=i),r.logger.info('Applying the following properties on tracker: "'+JSON.stringify(n)+'".'),Object.keys(n).forEach((function(t){e[t]=n[t]}))}}},"adobe-analytics/src/lib/helpers/settingsHelper.js":{script:function(e,t,n,r){"use strict";var a=n("@adobe/reactor-window"),o={LIB_TYPES:{MANAGED:"managed",PREINSTALLED:"preinstalled",REMOTE:"remote",CUSTOM:"custom"},MANAGED_LIB_PATHS:{APP_MEASUREMENT:"AppMeasurement.js",ACTIVITY_MAP:"AppMeasurement_Module_ActivityMap.js",AUDIENCE_MANAGEMENT:"AppMeasurement_Module_AudienceManagement.js"},getReportSuites:function(e){var t=e.production;return e[r.environment.stage]&&(t=e[r.environment.stage]),t.join(",")},isActivityMapEnabled:function(e){return!(e.libraryCode&&!e.libraryCode.useActivityMap&&!1===e.libraryCode.useActivityMap)},isAudienceManagementEnabled:function(e){var t=!1
;return e&&e.moduleProperties&&e.moduleProperties.audienceManager&&e.moduleProperties.audienceManager.config&&a&&a._satellite&&a._satellite.company&&a._satellite.company.orgId&&(t=!0),t}};e.exports=o}},"adobe-analytics/src/lib/helpers/augmenters.js":{script:function(e){"use strict";e.exports=[]}},"adobe-analytics/src/lib/helpers/loadLibrary.js":{script:function(e,t,n,r){"use strict";var a=n("@adobe/reactor-load-script"),o=n("@adobe/reactor-window"),i=n("@adobe/reactor-promise"),s=n("./settingsHelper"),c=n("./pollHelper"),l=function(e,t){if(!o.s_gi)throw new Error("Unable to create AppMeasurement tracker, `s_gi` function not found."+o.AppMeasurement);r.logger.info('Creating AppMeasurement tracker with these report suites: "'+t+'"');var n=o.s_gi(t);return e.libraryCode.scopeTrackerGlobally&&(r.logger.info("Setting the tracker as window.s"),o.s=n),n},u=function(e){var t=[];switch(e.libraryCode.type){case s.LIB_TYPES.MANAGED:t.push(r.getHostedLibFileUrl(s.MANAGED_LIB_PATHS.APP_MEASUREMENT)),s.isActivityMapEnabled(e)&&t.push(r.getHostedLibFileUrl(s.MANAGED_LIB_PATHS.ACTIVITY_MAP));break;case s.LIB_TYPES.CUSTOM:t.push(e.libraryCode.source);break;case s.LIB_TYPES.REMOTE:t.push("https:"===o.location.protocol?e.libraryCode.httpsUrl:e.libraryCode.httpUrl)}if(s.isAudienceManagementEnabled(e)){var n={namespace:o._satellite.company.orgId};e.moduleProperties.audienceManager.config.visitorService=n,t.push(r.getHostedLibFileUrl(s.MANAGED_LIB_PATHS.AUDIENCE_MANAGEMENT))}return t},d=function(e){return i.all(u(e).map((function(e){return r.logger.info("Loading script: "+e),a(e)})))},g=function(e,t){if(e.libraryCode.accounts)if(t.sa){var n=s.getReportSuites(e.libraryCode.accounts);r.logger.info('Setting the following report suites on the tracker: "'+n+'"'),t.sa(n)}else r.logger.warn("Cannot set report suites on tracker. `sa` method not available.");return t},p=function(e){if(o[e])return r.logger.info('Found tracker located at: "'+e+'".'),o[e];throw new Error('Cannot find the global variable name: "'+e+'".')};e.exports=function(e){var t=d(e);switch(e.libraryCode.type){case s.LIB_TYPES.MANAGED:var n=s.getReportSuites(e.libraryCode.accounts);return t.then(l.bind(null,e,n));case s.LIB_TYPES.PREINSTALLED:return t.then(c.poll.bind(null,o,e.libraryCode.trackerVariableName)).then(g.bind(null,e));case s.LIB_TYPES.CUSTOM:case s.LIB_TYPES.REMOTE:return t.then(p.bind(null,e.libraryCode.trackerVariableName)).then(g.bind(null,e));default:throw new Error("Cannot load library. Type not supported.")}}}},"adobe-analytics/src/lib/helpers/generateVersion.js":{script:function(e){"use strict";var t=8,n=function(e){return e.getUTCDate().toString(36)},r=function(e){return e.substr(e.length-1)},a=function(e){return Math.floor(e.getUTCHours()/t)},o=function(e){var t=(e.getUTCMonth()+1+12*a(e)).toString(36);return r(t)},i=function(e){return(e.getUTCFullYear()-2010).toString(36)};e.exports=function(e){var t=new Date(e);if(isNaN(t))throw new Error("Invalid date provided");return("L"+i(t)+o(t)+n(t)).toUpperCase()}}},"adobe-analytics/src/lib/helpers/pollHelper.js":{script:function(e,t,n,r){"use strict";var a=n("@adobe/reactor-promise"),o=40,i=250,s=function(e,t,n){r.logger.info('Found property located at: "'+t+'"].'),e(n)},c=function(e,t){return new a((function(n,r){if(e[t])return s(n,t,e[t]);var a=1,c=setInterval((function(){e[t]&&(s(n,t,e[t]),clearInterval(c)),a>=o&&(clearInterval(c),r(new Error('Bailing out. Cannot find the variable name: "'+t+'"].'))),a++}),i)}))};e.exports={poll:function(e,t){return r.logger.info('Waiting for the property to become accessible at: "'+t+'"].'),c(e,t)}}}},"adobe-analytics/src/lib/helpers/getNodeLinkText.js":{script:function(e){"use strict";var t=function(e){return e&&e.replace(/\s+/g," ").trim()},n=/^(SCRIPT|STYLE|LINK|CANVAS|NOSCRIPT|#COMMENT)$/i,r=function(e){return!(e&&e.nodeName&&e.nodeName.match(n))},a=function(e){var t=[],n=!1;return r(e)?(t.push(e),e.childNodes&&Array.prototype.slice.call(e.childNodes).forEach((function(e){var r=a(e);t=t.concat(r.supportedNodes),n=n||r.includesUnsupportedNodes}))):n=!0,{supportedNodes:t,includesUnsupportedNodes:n}},o=function(e,t,n){var r;return n&&n!==e.nodeName.toUpperCase()||(r=e.getAttribute(t)),r};e.exports=function(e){var n=t(e.innerText||e.textContent),r=a(e);if(!n||r.includesUnsupportedNodes){var i,s,c,l,u=[];r.supportedNodes.forEach((function(e){e.getAttribute&&(i=i||t(e.getAttribute("alt")),s=s||t(e.getAttribute("title")),c=c||t(o(e,"value","INPUT")),l=l||t(o(e,"src","IMG"))),e.nodeValue&&u.push(e.nodeValue)})),(n=t(u.join("")))||(n=t(i||s||c||l||""))}return n}}}}},"adobe-mcid":{displayName:"Experience Cloud ID Service",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP4413121ff4ce4a49869b12b0ea80c748/",settings:{orgId:"C50417FE52CB33480A490D4C@AdobeOrg",variables:[{name:"trackingServer",value:"%trackingServer%"},{name:"trackingServerSecure",value:"%trackingServerSecure%"},{name:"marketingCloudServer",value:"%trackingServer%"},{name:"marketingCloudServerSecure",value:"%trackingServerSecure%"},{name:"secureCookie",value:"true"},{name:"disableThirdPartyCalls",value:"%disableThirdPartyCallsConditioned%"},{name:"overwriteCrossDomainMCIDAndAID",value:"true"}],doesOptInApply:!0,previousPermissions:"%adobeOptInStatus%",isOptInStorageEnabled:!1},modules:{"adobe-mcid/src/lib/dataElements/ecid.js":{name:"ecid",displayName:"ECID",script:function(e,t,n){"use strict";var r;n("../sharedModules/mcidInstance").onReceiveEcid((function(e){r=e})),e.exports=function(){return r}}},"adobe-mcid/src/lib/actions/setCustomerIds.js":{name:"set-customer-ids",displayName:"Set Customer IDs",script:function(e,t,n,r){"use strict";var a=n("../sharedModules/mcidInstance"),o=r.logger,i=function(e){return"string"==typeof e&&e.length>0},s=function(e){var t={},n=[];return e.forEach((function(e){var r=e.integrationCode,a=e.value;i(r)&&i(a)?(t[r]={id:a},e.hasOwnProperty("authState")&&(t[e.integrationCode].authState=e.authState),e.hasOwnProperty("hashType")&&(t[e.integrationCode].hashType=e.hashType)):n.push(e)})),n.length&&o.warn("Rejected these customer ids: "+JSON.stringify(n)),t};e.exports=function(e){if(a){var t=s(e.customerIds);a.setCustomerIDs(t),o.info("Set Customer IDs: "+JSON.stringify(t))}else o.warn("MCID instance cannot be found. Cannot set Customer IDs.")}}},"adobe-mcid/src/lib/sharedModules/mcidInstance.js":{script:function(e,t,n,r){"use strict";var a=n("@adobe/reactor-document"),o=n("../codeLibrary/VisitorAPI"),i=n("../../view/utils/timeUnits"),s=function(e){return e.reduce((function(e,t){var n=/^(true|false)$/i.test(t.value)?JSON.parse(t.value):t.value;return e[t.name]=n,e}),{})},c=function(e){var t=r.getExtensionSettings();if("string"!=typeof t.orgId)throw new TypeError("Org ID is not a string.");var n=s(t.variables||[]),a=t.doesOptInApply;a&&("boolean"==typeof a?n.doesOptInApply=a:t.optInCallback&&(n.doesOptInApply=t.optInCallback));var o=t.isOptInStorageEnabled;o&&(n.isOptInStorageEnabled=o);var c=t.optInCookieDomain;c&&(n.optInCookieDomain=c);var l=t.optInStorageExpiry;if(l){var u=t.timeUnit;if(u&&i[u]){var d=l*i[u];n.optInStorageExpiry=d}}else!0===o&&(n.optInStorageExpiry=33696e3);var g=t.previousPermissions;g&&(n.previousPermissions=g);var p=t.preOptInApprovals;if(p)n.preOptInApprovals=p;else{var m=t.preOptInApprovalInput;m&&(n.preOptInApprovals=m)}var f=t.isIabContext;f&&(n.isIabContext=f);var v=e.getInstance(t.orgId,n);return r.logger.info('Created instance using orgId: "'+t.orgId+'"'),r.logger.info("Set variables: "+JSON.stringify(n)),v.getMarketingCloudVisitorID((function(e){r.logger.info("Obtained Marketing Cloud Visitor Id: "+e)}),!0),v},l=function(e){return(r.getExtensionSettings().pathExclusions||[]).some((function(t){return t.valueIsRegex?new RegExp(t.value,"i").test(e):t.value===e}))},u=null;_satellite.getVisitorId=function(){return u},l(a.location.pathname)?r.logger.warn("MCID library not loaded. One of the path exclusions matches the current path."):u=c(o),e.exports=u},name:"mcid-instance",shared:!0},"adobe-mcid/src/lib/codeLibrary/VisitorAPI.js":{script:function(e){e.exports=(function(){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function n(){return{callbacks:{},add:function(e,t){this.callbacks[e]=this.callbacks[e]||[];var n=this.callbacks[e].push(t)-1,r=this;return function(){r.callbacks[e].splice(n,1)}},execute:function(e,t){if(this.callbacks[e]){t=(t=void 0===t?[]:t)instanceof Array?t:[t];try{for(;this.callbacks[e].length;){var n=this.callbacks[e].shift();"function"==typeof n?n.apply(null,t):n instanceof Array&&n[1].apply(n[0],t)}delete this.callbacks[e]}catch(e){}}},executeAll:function(e,t){(t||e&&!R.isObjectEmpty(e))&&Object.keys(this.callbacks).forEach((function(t){var n=void 0!==e[t]?e[t]:"";this.execute(t,n)}),this)},hasCallbacks:function(){return Boolean(Object.keys(this.callbacks).length)}}}function r(e,t,n){var r=null==e?void 0:e[t];return void 0===r?n:r}function a(e){for(var t=/^\d+$/,n=0,r=e.length;n<r;n++)if(!t.test(e[n]))return!1;return!0}function o(e,t){for(;e.length<t.length;)e.push("0");for(;t.length<e.length;)t.push("0")}function i(e,t){for(var n=0;n<e.length;n++){var r=parseInt(e[n],10),a=parseInt(t[n],10);if(r>a)return 1;if(a>r)return-1}return 0}function s(e,t){if(e===t)return 0;var n=e.toString().split("."),r=t.toString().split(".");return a(n.concat(r))?(o(n,r),i(n,r)):NaN}function c(e){return e===Object(e)&&0===Object.keys(e).length}function l(e){return"function"==typeof e||e instanceof Array&&e.length}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!0};this.log=ue("log",e,t),this.warn=ue("warn",e,t),this.error=ue("error",e,t)}function d(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).cookieName,t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).cookies;if(!e||!t)return{get:_e,set:_e,remove:_e};var n={remove:function(){t.remove(e)},get:function(){var n=t.get(e),r={};try{r=JSON.parse(n)}catch(n){r={}}return r},set:function(r,a){a=a||{};var o=n.get(),i=Object.assign(o,r);t.set(e,JSON.stringify(i),{domain:a.optInCookieDomain||"",cookieLifetime:a.optInStorageExpiry||3419e4,secure:a.secure,sameSite:a.sameSite,expires:!0})}};return n}function g(e){this.name=this.constructor.name,this.message=e,"function"==typeof Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error(e).stack}function p(){function e(e,t){var n=fe(e);return n.length?n.every((function(e){return!!t[e]})):ve(t)}function t(){I(N),P(te.COMPLETE),b(h.status,h.permissions),s&&v.set(h.permissions,{optInCookieDomain:c,optInStorageExpiry:l,secure:g,sameSite:p}),C.execute(Oe)}function n(e){return function(n,r){if(!he(n))throw new Error("[OptIn] Invalid category(-ies). Please use the `OptIn.Categories` enum.");return P(te.CHANGED),Object.assign(N,be(fe(n),e)),r||t(),h}}var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=r.doesOptInApply,o=r.previousPermissions,i=r.preOptInApprovals,s=r.isOptInStorageEnabled,c=r.optInCookieDomain,l=r.optInStorageExpiry,u=r.isIabContext,g=r.secureCookie,p=r.sameSiteCookie,m=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).cookies,f=Ne(o);Pe(f,"Invalid `previousPermissions`!"),Pe(i,"Invalid `preOptInApprovals`!");var v=d({cookieName:"adobeujs-optin"},{cookies:m}),h=this,b=ee(h),C=se(),E=ye(f),y=ye(i),S=s?v.get():{},T={},A=function(e,t){return Se(e)||t&&Se(t)?te.COMPLETE:te.PENDING}(E,S),_=function(e,t,n){var r=be(ie,!a);return a?Object.assign({},r,e,t,n):r}(y,E,S),N=Ce(_),P=function(e){return A=e},I=function(e){return _=e};h.deny=n(!1),h.approve=n(!0),h.denyAll=h.deny.bind(h,ie),h.approveAll=h.approve.bind(h,ie),h.isApproved=function(t){return e(t,h.permissions)},h.isPreApproved=function(t){return e(t,y)},h.fetchPermissions=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t?h.on(te.COMPLETE,e):_e;return!a||a&&h.isComplete||i?e(h.permissions):t||C.add(Oe,(function(){return e(h.permissions)})),n},h.complete=function(){h.status===te.CHANGED&&t()},h.registerPlugin=function(e){if(!e||!e.name||"function"!=typeof e.onRegister)throw new Error(Le);T[e.name]||(T[e.name]=e,e.onRegister.call(e,h))},h.execute=Re(T),h.memoizeContent=function(e){Ae(e)&&v.set(e,{optInCookieDomain:c,optInStorageExpiry:l,secure:g,sameSite:p})},h.getMemoizedContent=function(e){var t=v.get();if(t)return t[e]},Object.defineProperties(h,{permissions:{get:function(){return _}},status:{get:function(){return A}},Categories:{get:function(){return ne}},doesOptInApply:{get:function(){return!!a}},isPending:{get:function(){return h.status===te.PENDING}},isComplete:{get:function(){return h.status===te.COMPLETE}},__plugins:{get:function(){return Object.keys(T)}},isIabContext:{get:function(){return u}}})}function m(e,t){function n(){a=null,e.call(e,new g("The call took longer than you wanted!"))}function r(){a&&(clearTimeout(a),e.apply(e,arguments))}if(void 0===t)return e;var a=setTimeout(n,t);return r}function f(){if(window.__tcfapi)return window.__tcfapi;var e=window;if(e!==window.top){for(var t;!t;){e=e.parent;try{e.frames.__tcfapiLocator&&(t=e)}catch(e){}if(e===window.top)break}if(t){var n={};return window.__tcfapi=function(e,r,a,o){var i=Math.random()+"",s={__tcfapiCall:{command:e,parameter:o,version:r,callId:i}};n[i]=a,t.postMessage(s,"*")},window.addEventListener("message",(function(e){var t=e.data;if("string"==typeof t)try{t=JSON.parse(e.data)}catch(e){}if(t.__tcfapiReturn){var r=t.__tcfapiReturn;"function"==typeof n[r.callId]&&(n[r.callId](r.returnValue,r.success),delete n[r.callId])}}),!1),window.__tcfapi}pe.error("__tcfapi not found")}else pe.error("__tcfapi not found")}function v(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=!0===e.vendor.consents[t],a=n.every((function(t){return!0===e.purpose.consents[t]}));return r&&a}function h(){var e=this;e.name="iabPlugin",e.version="0.0.2";var t,n=se(),r={transparencyAndConsentData:null},a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r[e]=t};e.fetchConsentData=function(e){var t=m(e.callback,e.timeout);o({callback:t})},e.isApproved=function(e){var t=e.callback,n=e.category,a=e.timeout;if(r.transparencyAndConsentData)return t(null,v(r.transparencyAndConsentData,re[n],ae[n]));var i=m((function(e,r){t(e,v(r,re[n],ae[n]))}),a);o({category:n,callback:i})},e.onRegister=function(n){t=n;var r=Object.keys(re),a=function(e,t){!e&&t&&(r.forEach((function(e){var r=v(t,re[e],ae[e]);n[r?"approve":"deny"](e,!0)})),n.complete())};e.fetchConsentData({callback:a})};var o=function(e){var o=e.callback;if(r.transparencyAndConsentData)return o(null,r.transparencyAndConsentData);n.add("FETCH_CONSENT_DATA",o),i((function(e,o){if(o){var i=Ce(e),s=t.getMemoizedContent("iabConsentHash"),c=ge(i.tcString).toString(32);i.consentString=e.tcString,i.hasConsentChangedSinceLastCmpPull=s!==c,a("transparencyAndConsentData",i),t.memoizeContent({iabConsentHash:c})}n.execute("FETCH_CONSENT_DATA",[null,r.transparencyAndConsentData])}))},i=function(e){var t=we(re),n=f();"function"==typeof n&&n("getTCData",2,e,t)}}var b="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};Object.assign=Object.assign||function(e){for(var t,n,r=1;r<arguments.length;++r)for(t in n=arguments[r])Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t]);return e};var C,E,y={MESSAGES:{HANDSHAKE:"HANDSHAKE",GETSTATE:"GETSTATE",PARENTSTATE:"PARENTSTATE"},STATE_KEYS_MAP:{MCMID:"MCMID",MCAID:"MCAID",MCAAMB:"MCAAMB",MCAAMLH:"MCAAMLH",MCOPTOUT:"MCOPTOUT",CUSTOMERIDS:"CUSTOMERIDS"},ASYNC_API_MAP:{MCMID:"getMarketingCloudVisitorID",MCAID:"getAnalyticsVisitorID",MCAAMB:"getAudienceManagerBlob",MCAAMLH:"getAudienceManagerLocationHint",MCOPTOUT:"isOptedOut",ALLFIELDS:"getVisitorValues"},SYNC_API_MAP:{CUSTOMERIDS:"getCustomerIDs"},ALL_APIS:{MCMID:"getMarketingCloudVisitorID",MCAAMB:"getAudienceManagerBlob",MCAAMLH:"getAudienceManagerLocationHint",MCOPTOUT:"isOptedOut",MCAID:"getAnalyticsVisitorID",CUSTOMERIDS:"getCustomerIDs",ALLFIELDS:"getVisitorValues"},FIELDGROUP_TO_FIELD:{MC:"MCMID",A:"MCAID",AAM:"MCAAMB"},FIELDS:{MCMID:"MCMID",MCOPTOUT:"MCOPTOUT",MCAID:"MCAID",MCAAMLH:"MCAAMLH",MCAAMB:"MCAAMB"},AUTH_STATE:{UNKNOWN:0,AUTHENTICATED:1,LOGGED_OUT:2},OPT_OUT:{GLOBAL:"global"},SAME_SITE_VALUES:{LAX:"Lax",STRICT:"Strict",NONE:"None"}},S=y.STATE_KEYS_MAP,T=function(e){function t(){}function n(t,n){var r=this;return function(){var a=e(0,t),o={};return o[t]=a,r.setStateAndPublish(o),n(a),a}}this.getMarketingCloudVisitorID=function(e){e=e||t;var r=this.findField(S.MCMID,e),a=n.call(this,S.MCMID,e);return void 0!==r?r:a()},this.getVisitorValues=function(e){this.getMarketingCloudVisitorID((function(t){e({MCMID:t})}))}},A=y.MESSAGES,_=y.ASYNC_API_MAP,N=y.SYNC_API_MAP,P=function(){function e(){}function t(e,t){var n=this;return function(){return n.callbackRegistry.add(e,t),n.messageParent(A.GETSTATE),""}}function n(n){this[_[n]]=function(r){r=r||e;var a=this.findField(n,r),o=t.call(this,n,r);return void 0!==a?a:o()}}function r(t){this[N[t]]=function(){return this.findField(t,e)||{}}}Object.keys(_).forEach(n,this),Object.keys(N).forEach(r,this)},I=y.ASYNC_API_MAP,w=function(){Object.keys(I).forEach((function(e){this[I[e]]=function(t){this.callbackRegistry.add(e,t)}}),this)},R=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(t,n){n.isObjectEmpty=function(e){return e===Object(e)&&0===Object.keys(e).length},n.isValueEmpty=function(e){return""===e||n.isObjectEmpty(e)};var r=function(){var e=navigator.appName,t=navigator.userAgent;return"Microsoft Internet Explorer"===e||t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0&&t.indexOf("Windows NT 6")>=0};n.getIeVersion=function(){return document.documentMode?document.documentMode:r()?7:null},n.isFirefox=function(e){return!!/Firefox\/([0-9\.]+)(?:\s|$)/.test(e||window.navigator.userAgent)},n.encodeAndBuildRequest=function(e,t){return e.map(encodeURIComponent).join(t)},n.isObject=function(t){return null!==t&&"object"===e(t)&&!1===Array.isArray(t)},n.defineGlobalNamespace=function(){return window.adobe=n.isObject(window.adobe)?window.adobe:{},window.adobe},n.pluck=function(e,t){return t.reduce((function(t,n){return e[n]&&(t[n]=e[n]),t}),Object.create(null))},n.parseOptOut=function(e,t,n){t||(t=n,e.d_optout&&e.d_optout instanceof Array&&(t=e.d_optout.join(",")));var r=parseInt(e.d_ottl,10);return isNaN(r)&&(r=7200),{optOut:t,d_ottl:r}},n.normalizeBoolean=function(e){var t=e;return"true"===e?t=!0:"false"===e&&(t=!1),t}})),O=(R.isObjectEmpty,R.isValueEmpty,R.getIeVersion,R.isFirefox,R.encodeAndBuildRequest,R.isObject,R.defineGlobalNamespace,R.pluck,R.parseOptOut,R.normalizeBoolean,n),L=y.MESSAGES,k={0:"prefix",1:"orgID",2:"state"},D=function(e,t){this.parse=function(e){try{var t={};return e.data.split("|").forEach((function(e,n){void 0!==e&&(t[k[n]]=2!==n?e:JSON.parse(e))})),t}catch(e){}},this.isInvalid=function(n){var r=this.parse(n);if(!r||Object.keys(r).length<2)return!0;var a=e!==r.orgID,o=!t||n.origin!==t,i=-1===Object.keys(L).indexOf(r.prefix);return a||o||i},this.send=function(n,r,a){var o=r+"|"+e;a&&a===Object(a)&&(o+="|"+JSON.stringify(a));try{n.postMessage(o,t)}catch(e){}}},M=y.MESSAGES,x=function(e,t,n,r){function a(e){Object.assign(p,e)}function o(e){Object.assign(p.state,e),Object.assign(p.state.ALLFIELDS,e),p.callbackRegistry.executeAll(p.state)}function i(e){if(!v.isInvalid(e)){f=!1;var t=v.parse(e);p.setStateAndPublish(t.state)}}function s(e){!f&&m&&(f=!0,v.send(r,e))}function c(){a(new T(n._generateID)),p.getMarketingCloudVisitorID(),p.callbackRegistry.executeAll(p.state,!0),b.removeEventListener("message",l)}function l(e){if(!v.isInvalid(e)){var t=v.parse(e);f=!1,b.clearTimeout(p._handshakeTimeout),b.removeEventListener("message",l),a(new P(p)),b.addEventListener("message",i),p.setStateAndPublish(t.state),p.callbackRegistry.hasCallbacks()&&s(M.GETSTATE)}}function u(){m&&postMessage?(b.addEventListener("message",l),s(M.HANDSHAKE),p._handshakeTimeout=setTimeout(c,250)):c()}function d(){b.s_c_in||(b.s_c_il=[],b.s_c_in=0),p._c="Visitor",p._il=b.s_c_il,p._in=b.s_c_in,p._il[p._in]=p,b.s_c_in++}function g(){function e(e){0!==e.indexOf("_")&&"function"==typeof n[e]&&(p[e]=function(){})}Object.keys(n).forEach(e),p.getSupplementalDataID=n.getSupplementalDataID,p.isAllowed=function(){return!0}}var p=this,m=t.whitelistParentDomain;p.state={ALLFIELDS:{}},p.version=n.version,p.marketingCloudOrgID=e,p.cookieDomain=n.cookieDomain||"",p._instanceType="child";var f=!1,v=new D(e,m);p.callbackRegistry=O(),p.init=function(){d(),g(),a(new w(p)),u()},p.findField=function(e,t){if(void 0!==p.state[e])return t(p.state[e]),p.state[e]},p.messageParent=s,p.setStateAndPublish=o},B=y.MESSAGES,V=y.ALL_APIS,j=y.ASYNC_API_MAP,U=y.FIELDGROUP_TO_FIELD,F=function(e,t){function n(){var t={};return Object.keys(V).forEach((function(n){var r=V[n],a=e[r]();R.isValueEmpty(a)||(t[n]=a)})),t}function r(){var t=[];return e._loading&&Object.keys(e._loading).forEach((function(n){if(e._loading[n]){var r=U[n];t.push(r)}})),t.length?t:null}function a(t){return function n(){var a=r();if(a){var o=j[a[0]];e[o](n,!0)}else t()}}function o(e,r){var a=n();t.send(e,r,a)}function i(e){c(e),o(e,B.HANDSHAKE)}function s(e){a((function(){o(e,B.PARENTSTATE)}))()}function c(n){function r(r){a.call(e,r),t.send(n,B.PARENTSTATE,{CUSTOMERIDS:e.getCustomerIDs()})}var a=e.setCustomerIDs;e.setCustomerIDs=r}return function(e){t.isInvalid(e)||(t.parse(e).prefix===B.HANDSHAKE?i:s)(e.source)}},G=function(e,t){function n(e){return function(n){r[e]=n,++a===o&&t(r)}}var r={},a=0,o=Object.keys(e).length;Object.keys(e).forEach((function(t){var r=e[t];if(r.fn){var a=r.args||[];a.unshift(n(t)),r.fn.apply(r.context||null,a)}}))},H={get:function(e){e=encodeURIComponent(e);var t=(";"+document.cookie).split(" ").join(";"),n=t.indexOf(";"+e+"="),r=n<0?n:t.indexOf(";",n+1);return n<0?"":decodeURIComponent(t.substring(n+2+e.length,r<0?t.length:r))},set:function(e,t,n){var a=r(n,"cookieLifetime"),o=r(n,"expires"),i=r(n,"domain"),s=r(n,"secure"),c=r(n,"sameSite"),l=s?"Secure":"",u=c?"SameSite="+c+";":"";if(o&&"SESSION"!==a&&"NONE"!==a){var d=""!==t?parseInt(a||0,10):-60;if(d)(o=new Date).setTime(o.getTime()+1e3*d);else if(1===o){var g=(o=new Date).getYear();o.setYear(g+2+(g<1900?1900:0))}}else o=0;return e&&"NONE"!==a?(document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; path=/;"+(o?" expires="+o.toGMTString()+";":"")+(i?" domain="+i+";":"")+u+l,this.get(e)===t):0},remove:function(e,t){var n=r(t,"domain");n=n?" domain="+n+";":"";var a=r(t,"secure"),o=r(t,"sameSite"),i=a?"Secure":"",s=o?"SameSite="+o+";":"";document.cookie=encodeURIComponent(e)+"=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;"+n+s+i}},W=function(e,t){!e&&b.location&&(e=b.location.hostname);var n,r=e.split("."),a=t||{};for(n=r.length-2;n>=0;n--)if(a.domain=r.slice(n).join("."),H.set("test","cookie",a))return H.remove("test",a),a.domain;return""},q={compare:s,isLessThan:function(e,t){return s(e,t)<0},areVersionsDifferent:function(e,t){return 0!==s(e,t)},isGreaterThan:function(e,t){return s(e,t)>0},isEqual:function(e,t){return 0===s(e,t)}},K=!!b.postMessage,Y={postMessage:function(e,t,n){var r=1;t&&(K?n.postMessage(e,t.replace(/([^:]+:\/\/[^\/]+).*/,"$1")):t&&(n.location=t.replace(/#.*$/,"")+"#"+ +new Date+r+++"&"+e))},receiveMessage:function(e,t){var n;try{K&&(e&&(n=function(n){if("string"==typeof t&&n.origin!==t||"[object Function]"===Object.prototype.toString.call(t)&&!1===t(n.origin))return!1;e(n)}),b.addEventListener?b[e?"addEventListener":"removeEventListener"]("message",n):b[e?"attachEvent":"detachEvent"]("onmessage",n))}catch(e){}}},z=function(e){var t,n,r="0123456789",a="",o="",i=8,s=10,c=10,l=(""+Date.now()).substr(-6).split("").reverse("").join("");if(1==e){for(r+="ABCDEF",t=0;16>t;t++)n=Math.floor(Math.random()*i),4>t&&l[t]<i&&(n=+l[t]),a+=r.substring(n,n+1),n=Math.floor(Math.random()*i),o+=r.substring(n,n+1),i=16;return a+"-"+o}for(t=0;19>t;t++)n=Math.floor(Math.random()*s),6>t&&l[t]<s?(a+=l[t],n=l[t]):a+=r.substring(n,n+1),0===t&&9==n?s=3:((1==t||2==t)&&10!=s&&2>n||2<t)&&(s=10),n=Math.floor(Math.random()*c),o+=r.substring(n,n+1),0===t&&9==n?c=3:((1==t||2==t)&&10!=c&&2>n||2<t)&&(c=10);return a+o},J=function(e){return{corsMetadata:function(){var e="none",t=!0;return"undefined"!=typeof XMLHttpRequest&&XMLHttpRequest===Object(XMLHttpRequest)&&("withCredentials"in new XMLHttpRequest?e="XMLHttpRequest":"undefined"!=typeof XDomainRequest&&XDomainRequest===Object(XDomainRequest)&&(t=!1),Object.prototype.toString.call(b.HTMLElement).indexOf("Constructor")>0&&(t=!1)),{corsType:e,corsCookiesEnabled:t}}(),getCORSInstance:function(){return"none"===this.corsMetadata.corsType?null:new b[this.corsMetadata.corsType]},fireCORS:function(t,n){function r(e){var n;try{if((n=JSON.parse(e))!==Object(n))return void a.handleCORSError(t,null,"Response is not JSON")}catch(e){return void a.handleCORSError(t,e,"Error parsing response as JSON")}try{for(var r=t.callback,o=b,i=0;i<r.length;i++)o=o[r[i]];o(n)}catch(e){a.handleCORSError(t,e,"Error forming callback function")}}var a=this;n&&(t.loadErrorHandler=n);try{var o=this.getCORSInstance();o.open("get",t.corsUrl+"&ts="+(new Date).getTime(),!0),"XMLHttpRequest"===this.corsMetadata.corsType&&(o.withCredentials=!0,o.timeout=e.loadTimeout,o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.onreadystatechange=function(){4===this.readyState&&200===this.status&&r(this.responseText)}),o.onerror=function(e){a.handleCORSError(t,e,"onerror")},o.ontimeout=function(e){a.handleCORSError(t,e,"ontimeout")},o.send(),e._log.requests.push(t.corsUrl)}catch(e){this.handleCORSError(t,e,"try-catch")}},handleCORSError:function(t,n,r){e.CORSErrors.push({corsData:t,error:n,description:r}),t.loadErrorHandler&&("ontimeout"===r?t.loadErrorHandler(!0):t.loadErrorHandler(!1))}}},$={POST_MESSAGE_ENABLED:!!b.postMessage,DAYS_BETWEEN_SYNC_ID_CALLS:1,MILLIS_PER_DAY:864e5,ADOBE_MC:"adobe_mc",ADOBE_MC_SDID:"adobe_mc_sdid",VALID_VISITOR_ID_REGEX:/^[0-9a-fA-F\-]+$/,ADOBE_MC_TTL_IN_MIN:5,VERSION_REGEX:/vVersion\|((\d+\.)?(\d+\.)?(\*|\d+))(?=$|\|)/,FIRST_PARTY_SERVER_COOKIE:"s_ecid"},X=function(e,t){var n=b.document;return{THROTTLE_START:3e4,MAX_SYNCS_LENGTH:649,throttleTimerSet:!1,id:null,onPagePixels:[],iframeHost:null,getIframeHost:function(e){if("string"==typeof e){var t=e.split("/");return t[0]+"//"+t[2]}},subdomain:null,url:null,getUrl:function(){var t,r="http://fast.",a="?d_nsid="+e.idSyncContainerID+"#"+encodeURIComponent(n.location.origin);return this.subdomain||(this.subdomain="nosubdomainreturned"),e.loadSSL&&(r=e.idSyncSSLUseAkamai?"https://fast.":"https://"),t=r+this.subdomain+".demdex.net/dest5.html"+a,this.iframeHost=this.getIframeHost(t),this.id="destination_publishing_iframe_"+this.subdomain+"_"+e.idSyncContainerID,t},checkDPIframeSrc:function(){var t="?d_nsid="+e.idSyncContainerID+"#"+encodeURIComponent(n.location.href);"string"==typeof e.dpIframeSrc&&e.dpIframeSrc.length&&(this.id="destination_publishing_iframe_"+(e._subdomain||this.subdomain||(new Date).getTime())+"_"+e.idSyncContainerID,this.iframeHost=this.getIframeHost(e.dpIframeSrc),this.url=e.dpIframeSrc+t)},idCallNotProcesssed:null,doAttachIframe:!1,startedAttachingIframe:!1,iframeHasLoaded:null,iframeIdChanged:null,newIframeCreated:null,originalIframeHasLoadedAlready:null,iframeLoadedCallbacks:[],regionChanged:!1,timesRegionChanged:0,sendingMessages:!1,messages:[],messagesPosted:[],messagesReceived:[],messageSendingInterval:$.POST_MESSAGE_ENABLED?null:100,onPageDestinationsFired:[],jsonForComparison:[],jsonDuplicates:[],jsonWaiting:[],jsonProcessed:[],canSetThirdPartyCookies:!0,receivedThirdPartyCookiesNotification:!1,readyToAttachIframePreliminary:function(){return!(e.idSyncDisableSyncs||e.disableIdSyncs||e.idSyncDisable3rdPartySyncing||e.disableThirdPartyCookies||e.disableThirdPartyCalls)},readyToAttachIframe:function(){return this.readyToAttachIframePreliminary()&&(this.doAttachIframe||e._doAttachIframe)&&(this.subdomain&&"nosubdomainreturned"!==this.subdomain||e._subdomain)&&this.url&&!this.startedAttachingIframe},attachIframe:function(){function e(){(a=n.createElement("iframe")).sandbox="allow-scripts allow-same-origin",a.title="Adobe ID Syncing iFrame",a.id=r.id,a.name=r.id+"_name",a.style.cssText="display: none; width: 0; height: 0;",a.src=r.url,r.newIframeCreated=!0,t(),n.body.appendChild(a)}function t(e){a.addEventListener("load",(function(){a.className="aamIframeLoaded",r.iframeHasLoaded=!0,r.fireIframeLoadedCallbacks(e),r.requestToProcess()}))}this.startedAttachingIframe=!0;var r=this,a=n.getElementById(this.id);a?"IFRAME"!==a.nodeName?(this.id+="_2",this.iframeIdChanged=!0,e()):(this.newIframeCreated=!1,"aamIframeLoaded"!==a.className?(this.originalIframeHasLoadedAlready=!1,t("The destination publishing iframe already exists from a different library, but hadn't loaded yet.")):(this.originalIframeHasLoadedAlready=!0,this.iframeHasLoaded=!0,this.iframe=a,this.fireIframeLoadedCallbacks("The destination publishing iframe already exists from a different library, and had loaded alresady."),this.requestToProcess())):e(),this.iframe=a},fireIframeLoadedCallbacks:function(e){this.iframeLoadedCallbacks.forEach((function(t){"function"==typeof t&&t({message:e||"The destination publishing iframe was attached and loaded successfully."})})),this.iframeLoadedCallbacks=[]},requestToProcess:function(t){function n(){a.jsonForComparison.push(t),a.jsonWaiting.push(t),a.processSyncOnPage(t)}var r,a=this;if(t===Object(t)&&t.ibs)if(r=JSON.stringify(t.ibs||[]),this.jsonForComparison.length){var o,i,s,c=!1;for(o=0,i=this.jsonForComparison.length;o<i;o++)if(s=this.jsonForComparison[o],r===JSON.stringify(s.ibs||[])){c=!0;break}c?this.jsonDuplicates.push(t):n()}else n();if((this.receivedThirdPartyCookiesNotification||!$.POST_MESSAGE_ENABLED||this.iframeHasLoaded)&&this.jsonWaiting.length){var l=this.jsonWaiting.shift();this.process(l),this.requestToProcess()}e.idSyncDisableSyncs||e.disableIdSyncs||!this.iframeHasLoaded||!this.messages.length||this.sendingMessages||(this.throttleTimerSet||(this.throttleTimerSet=!0,setTimeout((function(){a.messageSendingInterval=$.POST_MESSAGE_ENABLED?null:150}),this.THROTTLE_START)),this.sendingMessages=!0,this.sendMessages())},getRegionAndCheckIfChanged:function(t,n){var r=e._getField("MCAAMLH"),a=t.d_region||t.dcs_region;return r?a&&(e._setFieldExpire("MCAAMLH",n),e._setField("MCAAMLH",a),parseInt(r,10)!==a&&(this.regionChanged=!0,this.timesRegionChanged++,e._setField("MCSYNCSOP",""),e._setField("MCSYNCS",""),r=a)):(r=a)&&(e._setFieldExpire("MCAAMLH",n),e._setField("MCAAMLH",r)),r||(r=""),r},processSyncOnPage:function(e){var t,n,r,a;if((t=e.ibs)&&t instanceof Array&&(n=t.length))for(r=0;r<n;r++)(a=t[r]).syncOnPage&&this.checkFirstPartyCookie(a,"","syncOnPage")},process:function(e){var t,n,r,a,o,i=encodeURIComponent,s=!1;if((t=e.ibs)&&t instanceof Array&&(n=t.length))for(s=!0,r=0;r<n;r++)a=t[r],o=[i("ibs"),i(a.id||""),i(a.tag||""),R.encodeAndBuildRequest(a.url||[],","),i(a.ttl||""),"","",a.fireURLSync?"true":"false"],a.syncOnPage||(this.canSetThirdPartyCookies?this.addMessage(o.join("|")):a.fireURLSync&&this.checkFirstPartyCookie(a,o.join("|")));s&&this.jsonProcessed.push(e)},checkFirstPartyCookie:function(t,n,r){var a="syncOnPage"===r,o=a?"MCSYNCSOP":"MCSYNCS";e._readVisitor();var i,s,c=e._getField(o),l=!1,u=!1,d=Math.ceil((new Date).getTime()/$.MILLIS_PER_DAY);c?(i=c.split("*"),l=(s=this.pruneSyncData(i,t.id,d)).dataPresent,u=s.dataValid,l&&u||this.fireSync(a,t,n,i,o,d)):(i=[],this.fireSync(a,t,n,i,o,d))},pruneSyncData:function(e,t,n){var r,a,o,i=!1,s=!1;for(a=0;a<e.length;a++)r=e[a],o=parseInt(r.split("-")[1],10),r.match("^"+t+"-")?(i=!0,n<o?s=!0:(e.splice(a,1),a--)):n>=o&&(e.splice(a,1),a--);return{dataPresent:i,dataValid:s}},manageSyncsSize:function(e){if(e.join("*").length>this.MAX_SYNCS_LENGTH)for(e.sort((function(e,t){return parseInt(e.split("-")[1],10)-parseInt(t.split("-")[1],10)}));e.join("*").length>this.MAX_SYNCS_LENGTH;)e.shift()},fireSync:function(t,n,r,a,o,i){var s=this;if(t){if("img"===n.tag){var c,l,u,d,g=n.url,p=e.loadSSL?"https:":"http:";for(c=0,l=g.length;c<l;c++){u=g[c],d=/^\/\//.test(u);var m=new Image;m.addEventListener("load",function(t,n,r,a){return function(){s.onPagePixels[t]=null,e._readVisitor();var i,c,l,u,d=e._getField(o),g=[];if(d)for(c=0,
l=(i=d.split("*")).length;c<l;c++)(u=i[c]).match("^"+n.id+"-")||g.push(u);s.setSyncTrackingData(g,n,r,a)}}(this.onPagePixels.length,n,o,i)),m.src=(d?p:"")+u,this.onPagePixels.push(m)}}}else this.addMessage(r),this.setSyncTrackingData(a,n,o,i)},addMessage:function(t){var n=encodeURIComponent(e._enableErrorReporting?"---destpub-debug---":"---destpub---");this.messages.push(($.POST_MESSAGE_ENABLED?"":n)+t)},setSyncTrackingData:function(t,n,r,a){t.push(n.id+"-"+(a+Math.ceil(n.ttl/60/24))),this.manageSyncsSize(t),e._setField(r,t.join("*"))},sendMessages:function(){var e,t=this,n="",r=encodeURIComponent;this.regionChanged&&(n=r("---destpub-clear-dextp---"),this.regionChanged=!1),this.messages.length?$.POST_MESSAGE_ENABLED?(e=n+r("---destpub-combined---")+this.messages.join("%01"),this.postMessage(e),this.messages=[],this.sendingMessages=!1):(e=this.messages.shift(),this.postMessage(n+e),setTimeout((function(){t.sendMessages()}),this.messageSendingInterval)):this.sendingMessages=!1},postMessage:function(e){Y.postMessage(e,this.url,this.iframe.contentWindow),this.messagesPosted.push(e)},receiveMessage:function(e){var t,n=/^---destpub-to-parent---/;"string"==typeof e&&n.test(e)&&("canSetThirdPartyCookies"===(t=e.replace(n,"").split("|"))[0]&&(this.canSetThirdPartyCookies="true"===t[1],this.receivedThirdPartyCookiesNotification=!0,this.requestToProcess()),this.messagesReceived.push(e))},processIDCallData:function(r){(null==this.url||r.subdomain&&"nosubdomainreturned"===this.subdomain)&&("string"==typeof e._subdomain&&e._subdomain.length?this.subdomain=e._subdomain:this.subdomain=r.subdomain||"",this.url=this.getUrl()),r.ibs instanceof Array&&r.ibs.length&&(this.doAttachIframe=!0),this.readyToAttachIframe()&&(e.idSyncAttachIframeOnWindowLoad?(t.windowLoaded||"complete"===n.readyState||"loaded"===n.readyState)&&this.attachIframe():this.attachIframeASAP()),"function"==typeof e.idSyncIDCallResult?e.idSyncIDCallResult(r):this.requestToProcess(r),"function"==typeof e.idSyncAfterIDCallResult&&e.idSyncAfterIDCallResult(r)},canMakeSyncIDCall:function(t,n){return e._forceSyncIDCall||!t||n-t>$.DAYS_BETWEEN_SYNC_ID_CALLS},attachIframeASAP:function(){function e(){t.startedAttachingIframe||(n.body?t.attachIframe():setTimeout(e,30))}var t=this;e()}}},Q={audienceManagerServer:{},audienceManagerServerSecure:{},cookieDomain:{},cookieLifetime:{},cookieName:{},doesOptInApply:{type:"boolean"},disableThirdPartyCalls:{type:"boolean"},discardTrackingServerECID:{type:"boolean"},idSyncAfterIDCallResult:{},idSyncAttachIframeOnWindowLoad:{type:"boolean"},idSyncContainerID:{},idSyncDisable3rdPartySyncing:{type:"boolean"},disableThirdPartyCookies:{type:"boolean"},idSyncDisableSyncs:{type:"boolean"},disableIdSyncs:{type:"boolean"},idSyncIDCallResult:{},idSyncSSLUseAkamai:{type:"boolean"},isCoopSafe:{type:"boolean"},isIabContext:{type:"boolean"},isOptInStorageEnabled:{type:"boolean"},loadSSL:{type:"boolean"},loadTimeout:{},marketingCloudServer:{},marketingCloudServerSecure:{},optInCookieDomain:{},optInStorageExpiry:{},overwriteCrossDomainMCIDAndAID:{type:"boolean"},preOptInApprovals:{},previousPermissions:{},resetBeforeVersion:{},sdidParamExpiry:{},serverState:{},sessionCookieName:{},secureCookie:{type:"boolean"},sameSiteCookie:{},takeTimeoutMetrics:{},trackingServer:{},trackingServerSecure:{},useLocalStorage:{type:"boolean"},whitelistIframeDomains:{},whitelistParentDomain:{}},Z={getConfigNames:function(){return Object.keys(Q)},getConfigs:function(){return Q},normalizeConfig:function(e,t){return Q[e]&&"boolean"===Q[e].type?"function"!=typeof t?t:t():t}},ee=function(e){var t={};return e.on=function(e,n,r){if(!n||"function"!=typeof n)throw new Error("[ON] Callback should be a function.");t.hasOwnProperty(e)||(t[e]=[]);var a=t[e].push({callback:n,context:r})-1;return function(){t[e].splice(a,1),t[e].length||delete t[e]}},e.off=function(e,n){t.hasOwnProperty(e)&&(t[e]=t[e].filter((function(e){if(e.callback!==n)return e})))},e.publish=function(e){if(t.hasOwnProperty(e)){var n=[].slice.call(arguments,1);t[e].slice(0).forEach((function(e){e.callback.apply(e.context,n)}))}},e.publish},te={PENDING:"pending",CHANGED:"changed",COMPLETE:"complete"},ne={AAM:"aam",ADCLOUD:"adcloud",ANALYTICS:"aa",CAMPAIGN:"campaign",ECID:"ecid",LIVEFYRE:"livefyre",TARGET:"target",MEDIA_ANALYTICS:"mediaaa"},re=(t(C={},ne.AAM,565),t(C,ne.ECID,565),C),ae=(t(E={},ne.AAM,[1,10]),t(E,ne.ECID,[1,10]),E),oe=["videoaa","iabConsentHash"],ie=function(e){return Object.keys(e).map((function(t){return e[t]}))}(ne),se=function(){var e={};return e.callbacks=Object.create(null),e.add=function(t,n){if(!l(n))throw new Error("[callbackRegistryFactory] Make sure callback is a function or an array of functions.");e.callbacks[t]=e.callbacks[t]||[];var r=e.callbacks[t].push(n)-1;return function(){e.callbacks[t].splice(r,1)}},e.execute=function(t,n){if(e.callbacks[t]){n=(n=void 0===n?[]:n)instanceof Array?n:[n];try{for(;e.callbacks[t].length;){var r=e.callbacks[t].shift();"function"==typeof r?r.apply(null,n):r instanceof Array&&r[1].apply(r[0],n)}delete e.callbacks[t]}catch(e){}}},e.executeAll=function(t,n){(n||t&&!c(t))&&Object.keys(e.callbacks).forEach((function(n){var r=void 0!==t[n]?t[n]:"";e.execute(n,r)}),e)},e.hasCallbacks=function(){return Boolean(Object.keys(e.callbacks).length)},e},ce=function(){},le=function(e){var t=window.console;return!!t&&"function"==typeof t[e]},ue=function(e,t,n){return n()?function(){if(le(e)){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];console[e].apply(console,[t].concat(r))}}:ce},de=u,ge=function(){for(var e=[],t=0;t<256;t++){for(var n=t,r=0;r<8;r++)n=1&n?3988292384^n>>>1:n>>>1;e.push(n)}return function(t,n){t=unescape(encodeURIComponent(t)),n||(n=0),n^=-1;for(var r=0;r<t.length;r++){var a=255&(n^t.charCodeAt(r));n=n>>>8^e[a]}return(n^=-1)>>>0}}(),pe=new de("[ADOBE OPT-IN]"),me=function(t,n){return e(t)===n},fe=function(e,t){return e instanceof Array?e:me(e,"string")?[e]:t||[]},ve=function(e){var t=Object.keys(e);return!!t.length&&t.every((function(t){return!0===e[t]}))},he=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!(!e||Ee(e))&&fe(e).every((function(e){return ie.indexOf(e)>-1||t&&oe.indexOf(e)>-1}))},be=function(e,t){return e.reduce((function(e,n){return e[n]=t,e}),{})},Ce=function(e){return JSON.parse(JSON.stringify(e))},Ee=function(e){return"[object Array]"===Object.prototype.toString.call(e)&&!e.length},ye=function(e){if(Ae(e))return e;try{return JSON.parse(e)}catch(e){return{}}},Se=function(e){return void 0===e||(Ae(e)?he(Object.keys(e),!0):Te(e))},Te=function(e){try{var t=JSON.parse(e);return!!e&&me(e,"string")&&he(Object.keys(t),!0)}catch(e){return!1}},Ae=function(e){return null!==e&&me(e,"object")&&!1===Array.isArray(e)},_e=function(){},Ne=function(e){return me(e,"function")?e():e},Pe=function(e,t){Se(e)||pe.error("".concat(t))},Ie=function(e){return Object.keys(e).map((function(t){return e[t]}))},we=function(e){return Ie(e).filter((function(e,t,n){return n.indexOf(e)===t}))},Re=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.command,r=t.params,a=void 0===r?{}:r,o=t.callback,i=void 0===o?_e:o;if(!n||-1===n.indexOf("."))throw new Error("[OptIn.execute] Please provide a valid command.");try{var s=n.split("."),c=e[s[0]],l=s[1];if(!c||"function"!=typeof c[l])throw new Error("Make sure the plugin and API name exist.");var u=Object.assign(a,{callback:i});c[l].call(c,u)}catch(e){pe.error("[execute] Something went wrong: "+e.message)}}};g.prototype=Object.create(Error.prototype),g.prototype.constructor=g;var Oe="fetchPermissions",Le="[OptIn#registerPlugin] Plugin is invalid.";p.Categories=ne,p.TimeoutError=g;var ke=Object.freeze({OptIn:p,IabPlugin:h}),De=function(e,t){e.publishDestinations=function(n){var r=arguments[1],a=arguments[2];try{a="function"==typeof a?a:n.callback}catch(e){a=function(){}}var o=t;if(o.readyToAttachIframePreliminary()){if("string"==typeof n){if(!n.length)return void a({error:"subdomain is not a populated string."});if(!(r instanceof Array&&r.length))return void a({error:"messages is not a populated array."});var i=!1;if(r.forEach((function(e){"string"==typeof e&&e.length&&(o.addMessage(e),i=!0)})),!i)return void a({error:"None of the messages are populated strings."})}else{if(!R.isObject(n))return void a({error:"Invalid parameters passed."});var s=n;if("string"!=typeof(n=s.subdomain)||!n.length)return void a({error:"config.subdomain is not a populated string."});var c=s.urlDestinations;if(!(c instanceof Array&&c.length))return void a({error:"config.urlDestinations is not a populated array."});var l=[];c.forEach((function(e){R.isObject(e)&&(e.hideReferrer?e.message&&o.addMessage(e.message):l.push(e))})),function e(){l.length&&setTimeout((function(){var t=new Image,n=l.shift();t.src=n.url,o.onPageDestinationsFired.push(n),e()}),100)}()}o.iframe?(a({message:"The destination publishing iframe is already attached and loaded."}),o.requestToProcess()):!e.subdomain&&e._getField("MCMID")?(o.subdomain=n,o.doAttachIframe=!0,o.url=o.getUrl(),o.readyToAttachIframe()?(o.iframeLoadedCallbacks.push((function(e){a({message:"Attempted to attach and load the destination publishing iframe through this API call. Result: "+(e.message||"no result")})})),o.attachIframe()):a({error:"Encountered a problem in attempting to attach and load the destination publishing iframe through this API call."})):o.iframeLoadedCallbacks.push((function(e){a({message:"Attempted to attach and load the destination publishing iframe through normal Visitor API processing. Result: "+(e.message||"no result")})}))}else a({error:"The destination publishing iframe is disabled in the Visitor library."})}},Me=function e(t){function n(e,t){return e>>>t|e<<32-t}for(var r,a,o=Math.pow,i=o(2,32),s="",c=[],l=8*t.length,u=e.h=e.h||[],d=e.k=e.k||[],g=d.length,p={},m=2;g<64;m++)if(!p[m]){for(r=0;r<313;r+=m)p[r]=m;u[g]=o(m,.5)*i|0,d[g++]=o(m,1/3)*i|0}for(t+="\x80";t.length%64-56;)t+="\0";for(r=0;r<t.length;r++){if((a=t.charCodeAt(r))>>8)return;c[r>>2]|=a<<(3-r)%4*8}for(c[c.length]=l/i|0,c[c.length]=l,a=0;a<c.length;){var f=c.slice(a,a+=16),v=u;for(u=u.slice(0,8),r=0;r<64;r++){var h=f[r-15],b=f[r-2],C=u[0],E=u[4],y=u[7]+(n(E,6)^n(E,11)^n(E,25))+(E&u[5]^~E&u[6])+d[r]+(f[r]=r<16?f[r]:f[r-16]+(n(h,7)^n(h,18)^h>>>3)+f[r-7]+(n(b,17)^n(b,19)^b>>>10)|0);(u=[y+((n(C,2)^n(C,13)^n(C,22))+(C&u[1]^C&u[2]^u[1]&u[2]))|0].concat(u))[4]=u[4]+y|0}for(r=0;r<8;r++)u[r]=u[r]+v[r]|0}for(r=0;r<8;r++)for(a=3;a+1;a--){var S=u[r]>>8*a&255;s+=(S<16?0:"")+S.toString(16)}return s},xe=function(e,t){return"SHA-256"!==t&&"SHA256"!==t&&"sha256"!==t&&"sha-256"!==t||(e=Me(e)),e},Be=function(e){return String(e).trim().toLowerCase()},Ve=ke.OptIn;R.defineGlobalNamespace(),window.adobe.OptInCategories=Ve.Categories;var je=function(t,n,r){function a(){C._customerIDsHashChanged=!1}function o(e){var t=e;return function(e){var n=e||N.location.href;try{var r=C._extractParamFromUri(n,t);if(r)return te.parsePipeDelimetedKeyValues(r)}catch(e){}}}function i(e){function t(e,t,n){e&&e.match($.VALID_VISITOR_ID_REGEX)&&(n===L&&(_=!0),t(e))}t(e[L],C.setMarketingCloudVisitorID,L),C._setFieldExpire(V,-1),t(e[x],C.setAnalyticsVisitorID)}function s(e){e=e||{},C._supplementalDataIDCurrent=e.supplementalDataIDCurrent||"",C._supplementalDataIDCurrentConsumed=e.supplementalDataIDCurrentConsumed||{},C._supplementalDataIDLast=e.supplementalDataIDLast||"",C._supplementalDataIDLastConsumed=e.supplementalDataIDLastConsumed||{}}function c(e){function t(e,t,n){return(n=n?n+="|":n)+(e+"=")+encodeURIComponent(t)}function n(e,n){var r=n[0],a=n[1];return null!=a&&a!==j&&(e=t(r,a,e)),e}return function(e){return(e=e?e+="|":e)+"TS="+te.getTimestampInSeconds()}(e.reduce(n,""))}function l(e){var t=e.minutesToLive,n="";return(C.idSyncDisableSyncs||C.disableIdSyncs)&&(n=n||"Error: id syncs have been disabled"),"string"==typeof e.dpid&&e.dpid.length||(n=n||"Error: config.dpid is empty"),"string"==typeof e.url&&e.url.length||(n=n||"Error: config.url is empty"),void 0===t?t=20160:(t=parseInt(t,10),(isNaN(t)||t<=0)&&(n=n||"Error: config.minutesToLive needs to be a positive number")),{error:n,ttl:t}}function u(){return!(!C.configs.doesOptInApply||E.optIn.isComplete&&d())}function d(){return C.configs.doesOptInApply&&C.configs.isIabContext?E.optIn.isApproved(E.optIn.Categories.ECID)&&A:E.optIn.isApproved(E.optIn.Categories.ECID)}function g(){[["getMarketingCloudVisitorID"],["setCustomerIDs",void 0],["syncIdentity",void 0],["getAnalyticsVisitorID"],["getAudienceManagerLocationHint"],["getLocationHint"],["getAudienceManagerBlob"]].forEach((function(e){var t=e[0],n=2===e.length?e[1]:"",r=C[t];C[t]=function(e){return d()&&C.isAllowed()?r.apply(C,arguments):("function"==typeof e&&C._callCallback(e,[n]),n)}}))}function p(){var e=C._getAudienceManagerURLData(),t=e.url;return C._loadData(O,t,null,e)}function m(e,t){if(A=!0,e)throw new Error("[IAB plugin] : "+e);t&&t.gdprApplies&&(S=t.consentString,T=t.hasConsentChangedSinceLastCmpPull?1:0),p(),h()}function f(e,t){if(A=!0,e)throw new Error("[IAB plugin] : "+e);t.gdprApplies&&(S=t.consentString,T=t.hasConsentChangedSinceLastCmpPull?1:0),C.init(),h()}function v(){E.optIn.isComplete&&(E.optIn.isApproved(E.optIn.Categories.ECID)?C.configs.isIabContext?E.optIn.execute({command:"iabPlugin.fetchConsentData",callback:f}):(C.init(),h()):C.configs.isIabContext?E.optIn.execute({command:"iabPlugin.fetchConsentData",callback:m}):(g(),h()))}function h(){E.optIn.off("complete",v)}if(!r||r.split("").reverse().join("")!==t)throw new Error("Please use `Visitor.getInstance` to instantiate Visitor.");var C=this,E=window.adobe,S="",T=0,A=!1,_=!1;C.version="5.3.0";var N=b,P=N.Visitor;P.version=C.version,P.AuthState=y.AUTH_STATE,P.OptOut=y.OPT_OUT,N.s_c_in||(N.s_c_il=[],N.s_c_in=0),C._c="Visitor",C._il=N.s_c_il,C._in=N.s_c_in,C._il[C._in]=C,N.s_c_in++,C._instanceType="regular",C._log={requests:[]},C.marketingCloudOrgID=t,C.cookieName="AMCV_"+t,C.sessionCookieName="AMCVS_"+t;var I={};n&&n.secureCookie&&n.sameSiteCookie&&(I={sameSite:n.sameSiteCookie,secure:n.secureCookie}),C.cookieDomain=C.useLocalStorage?"":W(null,I),C.loadSSL=!0,C.loadTimeout=3e4,C.CORSErrors=[],C.marketingCloudServer=C.audienceManagerServer="dpm.demdex.net",C.sdidParamExpiry=30;var w=null,O="MC",L="MCMID",k="MCIDTS",M="A",x="MCAID",B="AAM",V="MCAAMB",j="NONE",U=function(e){return!Object.prototype[e]},K=J(C);C.FIELDS=y.FIELDS,C.cookieRead=function(e){return C.useLocalStorage?e===C.sessionCookieName?sessionStorage.getItem(e):localStorage.getItem(e):H.get(e)},C.cookieWrite=function(e,t,n){var r=""+t;if(C.useLocalStorage)return e===C.sessionCookieName?sessionStorage.setItem(e,r):localStorage.setItem(e,r);var a=C.cookieLifetime?(""+C.cookieLifetime).toUpperCase():"",o={expires:n,domain:C.cookieDomain,cookieLifetime:a};return C.configs&&C.configs.secureCookie&&"https:"===location.protocol&&(o.secure=!0),C.configs&&C.configs.sameSiteCookie&&"https:"===location.protocol&&(o.sameSite=y.SAME_SITE_VALUES[C.configs.sameSiteCookie.toUpperCase()]||"Lax"),H.set(e,r,o)},C.removeCookie=function(e){if(C.useLocalStorage)return e===C.sessionCookieName?sessionStorage.removeItem(e):localStorage.removeItem(e);var t={domain:C.cookieDomain};return C.configs&&C.configs.secureCookie&&"https:"===location.protocol&&(t.secure=!0),C.configs&&C.configs.sameSiteCookie&&"https:"===location.protocol&&(t.sameSite=y.SAME_SITE_VALUES[C.configs.sameSiteCookie.toUpperCase()]||"Lax"),H.remove(e,t)},C.resetState=function(e){e?C._mergeServerState(e):s()},C._isAllowedDone=!1,C._isAllowedFlag=!1,C.isAllowed=function(){return C._isAllowedDone||(C._isAllowedDone=!0,(C.cookieRead(C.cookieName)||C.cookieWrite(C.cookieName,"T",1))&&(C._isAllowedFlag=!0)),"T"===C.cookieRead(C.cookieName)&&C.removeCookie(C.cookieName),C._isAllowedFlag},C.setMarketingCloudVisitorID=function(e){C._setMarketingCloudFields(e)},C._use1stPartyMarketingCloudServer=!1,C.getMarketingCloudVisitorID=function(e,t){C.marketingCloudServer&&C.marketingCloudServer.indexOf(".demdex.net")<0&&(C._use1stPartyMarketingCloudServer=!0);var n=C._getAudienceManagerURLData("_setMarketingCloudFields"),r=n.url;return C._getRemoteField(L,r,e,t,n)};var Q=function(e,t){var n={};C.getMarketingCloudVisitorID((function(){t.forEach((function(e){n[e]=C._getField(e,!0)})),-1!==t.indexOf("MCOPTOUT")?C.isOptedOut((function(t){n.MCOPTOUT=t,e(n)}),null,!0):e(n)}),!0)};C.getVisitorValues=function(e,t){var n={MCMID:{fn:C.getMarketingCloudVisitorID,args:[!0],context:C},MCOPTOUT:{fn:C.isOptedOut,args:[void 0,!0],context:C},MCAID:{fn:C.getAnalyticsVisitorID,args:[!0],context:C},MCAAMLH:{fn:C.getAudienceManagerLocationHint,args:[!0],context:C},MCAAMB:{fn:C.getAudienceManagerBlob,args:[!0],context:C}},r=t&&t.length?R.pluck(n,t):n;t&&-1===t.indexOf("MCAID")?Q(e,t):G(r,e)},C._currentCustomerIDs={},C._customerIDsHashChanged=!1,C._newCustomerIDsHash="",C.setCustomerIDs=function(t,n){if(!C.isOptedOut()&&t){if(!R.isObject(t)||R.isObjectEmpty(t))return!1;var r,o,i,s;for(r in C._readVisitor(),t)if(U(r)&&(C._currentCustomerIDs.dataSources=C._currentCustomerIDs.dataSources||{},n=(o=t[r]).hasOwnProperty("hashType")?o.hashType:n,o))if("object"===e(o)){var c={};if(o.id){if(n){if(!(s=xe(Be(o.id),n)))return;o.id=s,c.hashType=n}c.id=o.id}null!=o.authState&&(c.authState=o.authState),C._currentCustomerIDs.dataSources[r]=c}else if(n){if(!(s=xe(Be(o),n)))return;C._currentCustomerIDs.dataSources[r]={id:s,hashType:n}}else C._currentCustomerIDs.dataSources[r]={id:o};var l=C.getCustomerIDs(!0),u=C._getField("MCCIDH"),d="";for(i in u||(u=0),l){var g=l[i];if(!R.isObjectEmpty(g))for(r in g)U(r)&&(d+=(d?"|":"")+r+"|"+((o=g[r]).id?o.id:"")+(o.authState?o.authState:""))}C._newCustomerIDsHash=String(C._hash(d)),C._newCustomerIDsHash!==u&&(C._customerIDsHashChanged=!0,C._mapCustomerIDs(a))}},C.syncIdentity=function(t,n){if(!C.isOptedOut()&&t){if(!R.isObject(t)||R.isObjectEmpty(t))return!1;var r,o,i,s,c;for(r in C._readVisitor(),t)if(U(r)&&(C._currentCustomerIDs.nameSpaces=C._currentCustomerIDs.nameSpaces||{},n=(o=t[r]).hasOwnProperty("hashType")?o.hashType:n,o&&"object"===e(o))){var l={};if(o.id){if(n){if(!(i=xe(Be(o.id),n)))return;o.id=i,l.hashType=n}l.id=o.id}null!=o.authState&&(l.authState=o.authState),o.dataSource&&(C._currentCustomerIDs.dataSources=C._currentCustomerIDs.dataSources||{},s=o.dataSource,C._currentCustomerIDs.dataSources[s]=l),C._currentCustomerIDs.nameSpaces[r]=l}var u=C.getCustomerIDs(!0),d=C._getField("MCCIDH"),g="";for(c in d||(d="0"),u){var p=u[c];if(!R.isObjectEmpty(p))for(r in p)U(r)&&(g+=(g?"|":"")+r+"|"+((o=p[r]).id?o.id:"")+(o.authState?o.authState:""))}C._newCustomerIDsHash=String(C._hash(g)),C._newCustomerIDsHash!==d&&(C._customerIDsHashChanged=!0,C._mapCustomerIDs(a))}},C.getCustomerIDs=function(e){C._readVisitor();var t,n,r={dataSources:{},nameSpaces:{}},a=C._currentCustomerIDs.dataSources;for(t in a)U(t)&&(n=a[t]).id&&(r.dataSources[t]||(r.dataSources[t]={}),r.dataSources[t].id=n.id,null!=n.authState?r.dataSources[t].authState=n.authState:r.dataSources[t].authState=P.AuthState.UNKNOWN,n.hashType&&(r.dataSources[t].hashType=n.hashType));var o=C._currentCustomerIDs.nameSpaces;for(t in o)U(t)&&(n=o[t]).id&&(r.nameSpaces[t]||(r.nameSpaces[t]={}),r.nameSpaces[t].id=n.id,null!=n.authState?r.nameSpaces[t].authState=n.authState:r.nameSpaces[t].authState=P.AuthState.UNKNOWN,n.hashType&&(r.nameSpaces[t].hashType=n.hashType));return e?r:r.dataSources},C.setAnalyticsVisitorID=function(e){C._setAnalyticsFields(e)},C.getAnalyticsVisitorID=function(e,t,n){if(!te.isTrackingServerPopulated()&&!n)return C._callCallback(e,[""]),"";var r="";if(n||(r=C.getMarketingCloudVisitorID((function(){C.getAnalyticsVisitorID(e,!0)}))),r||n){var a=n?C.marketingCloudServer:C.trackingServer,o="";C.loadSSL&&(n?C.marketingCloudServerSecure&&(a=C.marketingCloudServerSecure):C.trackingServerSecure&&(a=C.trackingServerSecure));var i={};if(a){var s="http"+(C.loadSSL?"s":"")+"://"+a+"/id",c="d_visid_ver="+C.version+"&mcorgid="+encodeURIComponent(C.marketingCloudOrgID)+(r?"&mid="+encodeURIComponent(r):"")+(C.idSyncDisable3rdPartySyncing||C.disableThirdPartyCookies?"&d_coppa=true":""),l=["s_c_il",C._in,"_set"+(n?"MarketingCloud":"Analytics")+"Fields"];o=s+"?"+c+"&callback=s_c_il%5B"+C._in+"%5D._set"+(n?"MarketingCloud":"Analytics")+"Fields",i.corsUrl=s+"?"+c,i.callback=l}return i.url=o,C._getRemoteField(n?L:x,o,e,t,i)}return""},C.getAudienceManagerLocationHint=function(e,t){if(C.getMarketingCloudVisitorID((function(){C.getAudienceManagerLocationHint(e,!0)}))){var n=C._getField(x);if(!n&&te.isTrackingServerPopulated()&&(n=C.getAnalyticsVisitorID((function(){C.getAudienceManagerLocationHint(e,!0)}))),n||!te.isTrackingServerPopulated()){var r=C._getAudienceManagerURLData(),a=r.url;return C._getRemoteField("MCAAMLH",a,e,t,r)}}return""},C.getLocationHint=C.getAudienceManagerLocationHint,C.getAudienceManagerBlob=function(e,t){if(C.getMarketingCloudVisitorID((function(){C.getAudienceManagerBlob(e,!0)}))){var n=C._getField(x);if(!n&&te.isTrackingServerPopulated()&&(n=C.getAnalyticsVisitorID((function(){C.getAudienceManagerBlob(e,!0)}))),n||!te.isTrackingServerPopulated()){var r=C._getAudienceManagerURLData(),a=r.url;return C._customerIDsHashChanged&&C._setFieldExpire(V,-1),C._getRemoteField(V,a,e,t,r)}}return""},C._supplementalDataIDCurrent="",C._supplementalDataIDCurrentConsumed={},C._supplementalDataIDLast="",C._supplementalDataIDLastConsumed={},C.getSupplementalDataID=function(e,t){C._supplementalDataIDCurrent||t||(C._supplementalDataIDCurrent=C._generateID(1));var n=C._supplementalDataIDCurrent;return C._supplementalDataIDLast&&!C._supplementalDataIDLastConsumed[e]?(n=C._supplementalDataIDLast,C._supplementalDataIDLastConsumed[e]=!0):n&&(C._supplementalDataIDCurrentConsumed[e]&&(C._supplementalDataIDLast=C._supplementalDataIDCurrent,C._supplementalDataIDLastConsumed=C._supplementalDataIDCurrentConsumed,C._supplementalDataIDCurrent=n=t?"":C._generateID(1),C._supplementalDataIDCurrentConsumed={}),n&&(C._supplementalDataIDCurrentConsumed[e]=!0)),n};var Z=!1;C._liberatedOptOut=null,C.getOptOut=function(e,t){var n=C._getAudienceManagerURLData("_setMarketingCloudFields"),r=n.url;if(d())return C._getRemoteField("MCOPTOUT",r,e,t,n);if(C._registerCallback("liberatedOptOut",e),null!==C._liberatedOptOut)return C._callAllCallbacks("liberatedOptOut",[C._liberatedOptOut]),Z=!1,C._liberatedOptOut;if(Z)return null;Z=!0;var a="liberatedGetOptOut";return n.corsUrl=n.corsUrl.replace(/\.demdex\.net\/id\?/,".demdex.net/optOutStatus?"),n.callback=[a],b[a]=function(e){if(e===Object(e)){var t,n,r=R.parseOptOut(e,t,j);t=r.optOut,n=1e3*r.d_ottl,C._liberatedOptOut=t,setTimeout((function(){C._liberatedOptOut=null}),n)}C._callAllCallbacks("liberatedOptOut",[t]),Z=!1},K.fireCORS(n),null},C.isOptedOut=function(e,t,n){t||(t=P.OptOut.GLOBAL);var r=C.getOptOut((function(n){var r=n===P.OptOut.GLOBAL||n.indexOf(t)>=0;C._callCallback(e,[r])}),n);return r?r===P.OptOut.GLOBAL||r.indexOf(t)>=0:null};var ee={subscribed:!1,callbacks:[]};C.onReceiveEcid=function(e){if(d())return C.getMarketingCloudVisitorID(e,!0);ee.subscribed=!0,e&&"function"==typeof e&&ee.callbacks.push(e)},C._fields=null,C._fieldsExpired=null,C._hash=function(e){var t,n=0;if(e)for(t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n&=n;return n},C._generateID=z,C._generateLocalMID=function(){var e=C._generateID(0);return ae.isClientSideMarketingCloudVisitorID=!0,e},C._callbackList=null,C._callCallback=function(e,t){try{"function"==typeof e?e.apply(N,t):e[1].apply(e[0],t)}catch(e){}},C._registerCallback=function(e,t){t&&(null==C._callbackList&&(C._callbackList={}),null==C._callbackList[e]&&(C._callbackList[e]=[]),C._callbackList[e].push(t))},C._callAllCallbacks=function(e,t){if(null!=C._callbackList){var n=C._callbackList[e];if(n)for(;n.length>0;)C._callCallback(n.shift(),t)}},C._addQuerystringParam=function(e,t,n,r){var a=encodeURIComponent(t)+"="+encodeURIComponent(n),o=te.parseHash(e),i=te.hashlessUrl(e);if(-1===i.indexOf("?"))return i+"?"+a+o;var s=i.split("?"),c=s[0]+"?",l=s[1];return c+te.addQueryParamAtLocation(l,a,r)+o},C._extractParamFromUri=function(e,t){var n=new RegExp("[\\?&#]"+t+"=([^&#]*)").exec(e);if(n&&n.length)return decodeURIComponent(n[1])},C._parseAdobeMcFromUrl=o($.ADOBE_MC),C._parseAdobeMcSdidFromUrl=o($.ADOBE_MC_SDID),C._attemptToPopulateSdidFromUrl=function(e){var n=C._parseAdobeMcSdidFromUrl(e),r=1e9;n&&n.TS&&(r=te.getTimestampInSeconds()-n.TS),n&&n.SDID&&n.MCORGID===t&&r<C.sdidParamExpiry&&(C._supplementalDataIDCurrent=n.SDID,C._supplementalDataIDCurrentConsumed.SDID_URL_PARAM=!0)},C._attemptToPopulateIdsFromUrl=function(){var e=C._parseAdobeMcFromUrl();if(e&&e.TS){var n=te.getTimestampInSeconds()-e.TS;if(Math.floor(n/60)>$.ADOBE_MC_TTL_IN_MIN||e.MCORGID!==t)return;i(e)}},C._mergeServerState=function(e){if(e)try{if((e=function(e){return te.isObject(e)?e:JSON.parse(e)}(e))[C.marketingCloudOrgID]){var t=e[C.marketingCloudOrgID];!function(e){te.isObject(e)&&C.setCustomerIDs(e)}(t.customerIDs),s(t.sdid)}}catch(e){throw new Error("`serverState` has an invalid format.")}},C._timeout=null,C._loadData=function(e,t,n,r){t=C._addQuerystringParam(t,"d_fieldgroup",e,1),r.url=C._addQuerystringParam(r.url,"d_fieldgroup",e,1),r.corsUrl=C._addQuerystringParam(r.corsUrl,"d_fieldgroup",e,1),ae.fieldGroupObj[e]=!0,r===Object(r)&&r.corsUrl&&"XMLHttpRequest"===K.corsMetadata.corsType&&K.fireCORS(r,n,e)},C._clearTimeout=function(e){null!=C._timeout&&C._timeout[e]&&(clearTimeout(C._timeout[e]),C._timeout[e]=0)},C._settingsDigest=0,C._getSettingsDigest=function(){if(!C._settingsDigest){var e=C.version;C.audienceManagerServer&&(e+="|"+C.audienceManagerServer),C.audienceManagerServerSecure&&(e+="|"+C.audienceManagerServerSecure),C._settingsDigest=C._hash(e)}return C._settingsDigest},C._readVisitorDone=!1,C._readVisitor=function(){if(!C._readVisitorDone){C._readVisitorDone=!0;var e,t,n,r,a,o,i=C._getSettingsDigest(),s=!1,c=C.cookieRead(C.cookieName),l=new Date;if(c||_||C.discardTrackingServerECID||(c=C.cookieRead($.FIRST_PARTY_SERVER_COOKIE)),null==C._fields&&(C._fields={}),c&&"T"!==c)for((c=c.split("|"))[0].match(/^[\-0-9]+$/)&&(parseInt(c[0],10)!==i&&(s=!0),c.shift()),c.length%2==1&&c.pop(),e=0;e<c.length;e+=2)n=(t=c[e].split("-"))[0],r=c[e+1],t.length>1?(a=parseInt(t[1],10),o=t[1].indexOf("s")>0):(a=0,o=!1),s&&("MCCIDH"===n&&(r=""),a>0&&(a=l.getTime()/1e3-60)),n&&r&&(C._setField(n,r,1),a>0&&(C._fields["expire"+n]=a+(o?"s":""),(l.getTime()>=1e3*a||o&&!C.cookieRead(C.sessionCookieName))&&(C._fieldsExpired||(C._fieldsExpired={}),C._fieldsExpired[n]=!0)));!C._getField(x)&&te.isTrackingServerPopulated()&&(c=C.cookieRead("s_vi"))&&(c=c.split("|")).length>1&&c[0].indexOf("v1")>=0&&((e=(r=c[1]).indexOf("["))>=0&&(r=r.substring(0,e)),r&&r.match($.VALID_VISITOR_ID_REGEX)&&C._setField(x,r))}},C._appendVersionTo=function(e){var t="vVersion|"+C.version,n=e?C._getCookieVersion(e):null;return n?q.areVersionsDifferent(n,C.version)&&(e=e.replace($.VERSION_REGEX,t)):e+=(e?"|":"")+t,e},C._writeVisitor=function(){var e,t,n=C._getSettingsDigest();for(e in C._fields)U(e)&&C._fields[e]&&"expire"!==e.substring(0,6)&&(t=C._fields[e],n+=(n?"|":"")+e+(C._fields["expire"+e]?"-"+C._fields["expire"+e]:"")+"|"+t);n=C._appendVersionTo(n),C.cookieWrite(C.cookieName,n,1)},C._getField=function(e,t){return null==C._fields||!t&&C._fieldsExpired&&C._fieldsExpired[e]?null:C._fields[e]},C._setField=function(e,t,n){null==C._fields&&(C._fields={}),C._fields[e]=t,n||C._writeVisitor()},C._getFieldList=function(e,t){var n=C._getField(e,t);return n?n.split("*"):null},C._setFieldList=function(e,t,n){C._setField(e,t?t.join("*"):"",n)},C._getFieldMap=function(e,t){var n=C._getFieldList(e,t);if(n){var r,a={};for(r=0;r<n.length;r+=2)a[n[r]]=n[r+1];return a}return null},C._setFieldMap=function(e,t,n){var r,a=null;if(t)for(r in a=[],t)U(r)&&(a.push(r),a.push(t[r]));C._setFieldList(e,a,n)},C._setFieldExpire=function(e,t,n){var r=new Date;r.setTime(r.getTime()+1e3*t),null==C._fields&&(C._fields={}),C._fields["expire"+e]=Math.floor(r.getTime()/1e3)+(n?"s":""),t<0?(C._fieldsExpired||(C._fieldsExpired={}),C._fieldsExpired[e]=!0):C._fieldsExpired&&(C._fieldsExpired[e]=!1),n&&(C.cookieRead(C.sessionCookieName)||C.cookieWrite(C.sessionCookieName,"1"))},C._findVisitorID=function(t){return t&&("object"===e(t)&&(t=t.d_mid?t.d_mid:t.visitorID?t.visitorID:t.id?t.id:t.uuid?t.uuid:""+t),t&&"NOTARGET"===(t=t.toUpperCase())&&(t=j),t&&(t===j||t.match($.VALID_VISITOR_ID_REGEX))||(t="")),t},C._setFields=function(t,n){if(C._clearTimeout(t),null!=C._loading&&(C._loading[t]=!1),ae.fieldGroupObj[t]&&ae.setState(t,!1),t===O){!0!==ae.isClientSideMarketingCloudVisitorID&&(ae.isClientSideMarketingCloudVisitorID=!1);var r=C._getField(L);if(!r||C.overwriteCrossDomainMCIDAndAID){if(!(r="object"===e(n)&&n.mid?n.mid:C._findVisitorID(n))){if(C._use1stPartyMarketingCloudServer&&!C.tried1stPartyMarketingCloudServer)return C.tried1stPartyMarketingCloudServer=!0,void C.getAnalyticsVisitorID(null,!1,!0);r=C._generateLocalMID()}C._setField(L,r)}r&&r!==j||(r=""),"object"===e(n)&&((n.d_region||n.dcs_region||n.d_blob||n.blob)&&C._setFields(B,n),C._use1stPartyMarketingCloudServer&&n.mid&&C._setFields(M,{id:n.id})),C._callAllCallbacks(L,[r])}if(t===B&&"object"===e(n)){var a=604800;null!=n.id_sync_ttl&&n.id_sync_ttl&&(a=parseInt(n.id_sync_ttl,10));var o=ne.getRegionAndCheckIfChanged(n,a);C._callAllCallbacks("MCAAMLH",[o]);var i=C._getField(V);(n.d_blob||n.blob)&&((i=n.d_blob)||(i=n.blob),C._setFieldExpire(V,a),C._setField(V,i)),i||(i=""),C._callAllCallbacks(V,[i]),!n.error_msg&&C._newCustomerIDsHash&&C._setField("MCCIDH",C._newCustomerIDsHash)}if(t===M){var s=C._getField(x);s&&!C.overwriteCrossDomainMCIDAndAID||((s=C._findVisitorID(n))?s!==j&&C._setFieldExpire(V,-1):s=j,C._setField(x,s)),s&&s!==j||(s=""),C._callAllCallbacks(x,[s])}if(C.idSyncDisableSyncs||C.disableIdSyncs)ne.idCallNotProcesssed=!0;else{ne.idCallNotProcesssed=!1;var c={};c.ibs=n.ibs,c.subdomain=n.subdomain,ne.processIDCallData(c)}if(n===Object(n)){var l,u;d()&&C.isAllowed()&&(l=C._getField("MCOPTOUT"));var g=R.parseOptOut(n,l,j);l=g.optOut,u=g.d_ottl,C._setFieldExpire("MCOPTOUT",u,!0),C._setField("MCOPTOUT",l),C._callAllCallbacks("MCOPTOUT",[l])}},C._loading=null,C._getRemoteField=function(e,t,n,r,a){var o,i="",s=te.isFirstPartyAnalyticsVisitorIDCall(e),c={MCAAMLH:!0,MCAAMB:!0};if(d()&&C.isAllowed())if(C._readVisitor(),!(!(i=C._getField(e,!0===c[e]))||C._fieldsExpired&&C._fieldsExpired[e])||C.disableThirdPartyCalls&&!s)i||(e===L?(C._registerCallback(e,n),i=C._generateLocalMID(),C.setMarketingCloudVisitorID(i)):e===x?(C._registerCallback(e,n),i="",C.setAnalyticsVisitorID(i)):(i="",r=!0));else if(e===L||"MCOPTOUT"===e?o=O:"MCAAMLH"===e||e===V?o=B:e===x&&(o=M),o)return!t||null!=C._loading&&C._loading[o]||(null==C._loading&&(C._loading={}),C._loading[o]=!0,o===B&&(T=0),C._loadData(o,t,(function(t){if(!C._getField(e)){t&&ae.setState(o,!0);var n="";e===L?n=C._generateLocalMID():o===B&&(n={error_msg:"timeout"}),C._setFields(o,n)}}),a)),C._registerCallback(e,n),i||(t||C._setFields(o,{id:j}),"");return e!==L&&e!==x||i!==j||(i="",r=!0),n&&r&&C._callCallback(n,[i]),e===L&&ee.subscribed&&(ee.callbacks&&ee.callbacks.length&&ee.callbacks.forEach((function(e){C._callCallback(e,[i])})),ee.subscribed=!1,ee.callbacks.length=0),i},C._setMarketingCloudFields=function(e){C._readVisitor(),C._setFields(O,e)},C._mapCustomerIDs=function(e){C.getAudienceManagerBlob(e,!0)},C._setAnalyticsFields=function(e){C._readVisitor(),C._setFields(M,e)},C._setAudienceManagerFields=function(e){C._readVisitor(),C._setFields(B,e)},C._getAudienceManagerURLData=function(e){var t=C.audienceManagerServer,n="",r=C._getField(L),a=C._getField(V,!0),o=C._getField(x),i=o&&o!==j?"&d_cid_ic=AVID%01"+encodeURIComponent(o):"";if(C.loadSSL&&C.audienceManagerServerSecure&&(t=C.audienceManagerServerSecure),t){var s,c,l,u=C.getCustomerIDs(!0);if(u)for(c in u){var d=u[c];if(!R.isObjectEmpty(d)){var g="nameSpaces"===c?"&d_cid_ns=":"&d_cid_ic=";for(s in d)U(s)&&(l=d[s],i+=g+encodeURIComponent(s)+"%01"+encodeURIComponent(l.id?l.id:"")+(l.authState?"%01"+l.authState:""))}}e||(e="_setAudienceManagerFields");var p="http"+(C.loadSSL?"s":"")+"://"+t+"/id",m="d_visid_ver="+C.version+(S&&-1!==p.indexOf("demdex.net")?"&gdpr=1&gdpr_consent="+S:"")+(T&&-1!==p.indexOf("demdex.net")?"&d_cf="+T:"")+"&d_rtbd=json&d_ver=2"+(!r&&C._use1stPartyMarketingCloudServer?"&d_verify=1":"")+"&d_orgid="+encodeURIComponent(C.marketingCloudOrgID)+"&d_nsid="+(C.idSyncContainerID||0)+(r?"&d_mid="+encodeURIComponent(r):"")+(C.idSyncDisable3rdPartySyncing||C.disableThirdPartyCookies?"&d_coppa=true":"")+(!0===w?"&d_coop_safe=1":!1===w?"&d_coop_unsafe=1":"")+(a?"&d_blob="+encodeURIComponent(a):"")+i,f=["s_c_il",C._in,e];return{url:n=p+"?"+m+"&d_cb=s_c_il%5B"+C._in+"%5D."+e,
corsUrl:p+"?"+m,callback:f}}return{url:n}},C.appendVisitorIDsTo=function(e){try{var t=[[L,C._getField(L)],[x,C._getField(x)],["MCORGID",C.marketingCloudOrgID]];return C._addQuerystringParam(e,$.ADOBE_MC,c(t))}catch(t){return e}},C.appendSupplementalDataIDTo=function(e,t){if(!(t=t||C.getSupplementalDataID(te.generateRandomString(),!0)))return e;try{var n=c([["SDID",t],["MCORGID",C.marketingCloudOrgID]]);return C._addQuerystringParam(e,$.ADOBE_MC_SDID,n)}catch(t){return e}};var te={parseHash:function(e){var t=e.indexOf("#");return t>0?e.substr(t):""},hashlessUrl:function(e){var t=e.indexOf("#");return t>0?e.substr(0,t):e},addQueryParamAtLocation:function(e,t,n){var r=e.split("&");return n=null!=n?n:r.length,r.splice(n,0,t),r.join("&")},isFirstPartyAnalyticsVisitorIDCall:function(e,t,n){return e===x&&(t||(t=C.trackingServer),n||(n=C.trackingServerSecure),!("string"!=typeof(r=C.loadSSL?n:t)||!r.length)&&r.indexOf("2o7.net")<0&&r.indexOf("omtrdc.net")<0);var r},isObject:function(e){return Boolean(e&&e===Object(e))},removeCookie:function(e){H.remove(e,{domain:C.cookieDomain})},isTrackingServerPopulated:function(){return!!C.trackingServer||!!C.trackingServerSecure},getTimestampInSeconds:function(){return Math.round((new Date).getTime()/1e3)},parsePipeDelimetedKeyValues:function(e){return e.split("|").reduce((function(e,t){var n=t.split("=");return e[n[0]]=decodeURIComponent(n[1]),e}),{})},generateRandomString:function(e){e=e||5;for(var t="",n="abcdefghijklmnopqrstuvwxyz0123456789";e--;)t+=n[Math.floor(Math.random()*n.length)];return t},normalizeBoolean:function(e){return"true"===e||"false"!==e&&e},parseBoolean:function(e){return"true"===e||"false"!==e&&null},replaceMethodsWithFunction:function(e,t){for(var n in e)e.hasOwnProperty(n)&&"function"==typeof e[n]&&(e[n]=t);return e}};C._helpers=te;var ne=X(C,P);C._destinationPublishing=ne,C.timeoutMetricsLog=[];var re,ae={isClientSideMarketingCloudVisitorID:null,MCIDCallTimedOut:null,AnalyticsIDCallTimedOut:null,AAMIDCallTimedOut:null,fieldGroupObj:{},setState:function(e,t){switch(e){case O:!1===t?!0!==this.MCIDCallTimedOut&&(this.MCIDCallTimedOut=!1):this.MCIDCallTimedOut=t;break;case M:!1===t?!0!==this.AnalyticsIDCallTimedOut&&(this.AnalyticsIDCallTimedOut=!1):this.AnalyticsIDCallTimedOut=t;break;case B:!1===t?!0!==this.AAMIDCallTimedOut&&(this.AAMIDCallTimedOut=!1):this.AAMIDCallTimedOut=t}}};C.isClientSideMarketingCloudVisitorID=function(){return ae.isClientSideMarketingCloudVisitorID},C.MCIDCallTimedOut=function(){return ae.MCIDCallTimedOut},C.AnalyticsIDCallTimedOut=function(){return ae.AnalyticsIDCallTimedOut},C.AAMIDCallTimedOut=function(){return ae.AAMIDCallTimedOut},C.idSyncGetOnPageSyncInfo=function(){return C._readVisitor(),C._getField("MCSYNCSOP")},C.idSyncByURL=function(e){if(!C.isOptedOut()){var t=l(e||{});if(t.error)return t.error;var n,r,a=e.url,o=encodeURIComponent,i=ne;return a=a.replace(/^https:/,"").replace(/^http:/,""),n=R.encodeAndBuildRequest(["",e.dpid,e.dpuuid||""],","),r=["ibs",o(e.dpid),"img",o(a),t.ttl,"",n],i.addMessage(r.join("|")),i.requestToProcess(),"Successfully queued"}},C.idSyncByDataSource=function(e){if(!C.isOptedOut())return e===Object(e)&&"string"==typeof e.dpuuid&&e.dpuuid.length?(e.url="//dpm.demdex.net/ibs:dpid="+e.dpid+"&dpuuid="+e.dpuuid,C.idSyncByURL(e)):"Error: config or config.dpuuid is empty"},De(C,ne),C._getCookieVersion=function(e){e=e||C.cookieRead(C.cookieName);var t=$.VERSION_REGEX.exec(e);return t&&t.length>1?t[1]:null},C._resetAmcvCookie=function(e){var t=C._getCookieVersion();t&&!q.isLessThan(t,e)||C.removeCookie(C.cookieName)},C.setAsCoopSafe=function(){w=!0},C.setAsCoopUnsafe=function(){w=!1},function(){if(C.configs=Object.create(null),te.isObject(n))for(var e in n)U(e)&&(C[e]=n[e],C.configs[e]=n[e])}(),g(),C.init=function(){u()&&(E.optIn.fetchPermissions(v,!0),!E.optIn.isApproved(E.optIn.Categories.ECID))||re||(re=!0,function(){if(te.isObject(n)){C.idSyncContainerID=C.idSyncContainerID||0,w="boolean"==typeof C.isCoopSafe?C.isCoopSafe:te.parseBoolean(C.isCoopSafe),C.resetBeforeVersion&&C._resetAmcvCookie(C.resetBeforeVersion),C._attemptToPopulateIdsFromUrl(),C._attemptToPopulateSdidFromUrl(),C._readVisitor();var e=C._getField(k),t=Math.ceil((new Date).getTime()/$.MILLIS_PER_DAY);C.idSyncDisableSyncs||C.disableIdSyncs||!ne.canMakeSyncIDCall(e,t)||(C._setFieldExpire(V,-1),C._setField(k,t)),C.getMarketingCloudVisitorID(),C.getAudienceManagerLocationHint(),C.getAudienceManagerBlob(),C._mergeServerState(C.serverState)}else C._attemptToPopulateIdsFromUrl(),C._attemptToPopulateSdidFromUrl()}(),function(){if(!C.idSyncDisableSyncs&&!C.disableIdSyncs){ne.checkDPIframeSrc();var e=function(){var e=ne;e.readyToAttachIframe()&&e.attachIframe()};N.addEventListener("load",(function(){P.windowLoaded=!0,e()}));try{Y.receiveMessage((function(e){ne.receiveMessage(e.data)}),ne.iframeHost)}catch(e){}}}(),C.whitelistIframeDomains&&$.POST_MESSAGE_ENABLED&&(C.whitelistIframeDomains=C.whitelistIframeDomains instanceof Array?C.whitelistIframeDomains:[C.whitelistIframeDomains],C.whitelistIframeDomains.forEach((function(e){var n=new D(t,e),r=F(C,n);Y.receiveMessage(r,e)}))))}};je.config=Z,b.Visitor=je;var Ue=je,Fe=function(e){if(R.isObject(e))return Object.keys(e).filter((function(t){return""!==e[t]&&Z.getConfigs()[t]})).reduce((function(t,n){var r=Z.normalizeConfig(n,e[n]),a=R.normalizeBoolean(r);return t[n]=a,t}),Object.create(null))},Ge=ke.OptIn,He=ke.IabPlugin;Ue.getInstance=function(e,t){if(!e)throw new Error("Visitor requires Adobe Marketing Cloud Org ID.");e.indexOf("@")<0&&(e+="@AdobeOrg");var n=function(){var t=b.s_c_il;if(t)for(var n=0;n<t.length;n++){var r=t[n];if(r&&"Visitor"===r._c&&r.marketingCloudOrgID===e)return r}}();if(n)return n;var r=Fe(t)||{};!function(e){b.adobe.optIn=b.adobe.optIn||function(){var t=R.pluck(e,["doesOptInApply","previousPermissions","preOptInApprovals","isOptInStorageEnabled","optInStorageExpiry","isIabContext","sameSiteCookie","secureCookie"]),n=e.optInCookieDomain||e.cookieDomain;n=(n=n||W())===window.location.hostname?"":n,t.optInCookieDomain=n;var r=new Ge(t,{cookies:H});if(t.isIabContext&&t.doesOptInApply){var a=new He;r.registerPlugin(a)}return r}()}(r||{});var a=e.split("").reverse().join(""),o=new Ue(e,null,a);r.cookieDomain&&(o.cookieDomain=r.cookieDomain),r.sameSiteCookie&&r.secureCookie&&(o.configs={sameSiteCookie:r.sameSiteCookie,secureCookie:r.secureCookie}),b.s_c_il.splice(--b.s_c_in,1);var i=R.getIeVersion();if("number"==typeof i&&i<10)return o._helpers.replaceMethodsWithFunction(o,(function(){}));var s=function(){try{return b.self!==b.parent}catch(e){return!0}}()&&(!function(e){return e.cookieWrite("TEST_AMCV_COOKIE","T",1),"T"===e.cookieRead("TEST_AMCV_COOKIE")&&(e.removeCookie("TEST_AMCV_COOKIE"),!0)}(o)||R.isFirefox())&&b.parent?new x(e,r,o,b.parent):new Ue(e,r,a);return o=null,s.init(),s},function(){function e(){Ue.windowLoaded=!0}b.addEventListener?b.addEventListener("load",e):b.attachEvent&&b.attachEvent("onload",e),Ue.codeLoadEnd=(new Date).getTime()}()}(),Visitor)}},"adobe-mcid/src/view/utils/timeUnits.js":{script:function(e){var t={Hours:3600,Days:86400,Weeks:604800,Months:2592e3,Years:31536e3};e.exports=t}}}},core:{displayName:"Core",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP1fdd2a6ec2ae468fb1d2cac08df65f83/",modules:{"core/src/lib/dataElements/customCode.js":{name:"custom-code",displayName:"Custom Code",script:function(e){"use strict";e.exports=function(e,t){return e.source(t)}}},"core/src/lib/dataElements/queryStringParameter.js":{name:"query-string-parameter",displayName:"Query String Parameter",script:function(e,t,n){"use strict";var r=n("@adobe/reactor-window"),a=n("@adobe/reactor-query-string");e.exports=function(e){var t=a.parse(r.location.search);if(!e.caseInsensitive)return t[e.name];for(var n=e.name.toLowerCase(),o=Object.keys(t),i=0;i<o.length;i++){var s=o[i];if(s.toLowerCase()===n)return t[s]}}}},"core/src/lib/dataElements/constant.js":{name:"constant",displayName:"Constant",script:function(e){"use strict";e.exports=function(e){return e.value}}},"core/src/lib/dataElements/pageInfo.js":{name:"page-info",displayName:"Page Info",script:function(e,t,n){"use strict";var r=n("@adobe/reactor-document");e.exports=function(e){switch(e.attribute){case"url":return r.location.href;case"hostname":return r.location.hostname;case"pathname":return r.location.pathname;case"protocol":return r.location.protocol;case"referrer":return r.referrer;case"title":return r.title}}}},"core/src/lib/dataElements/mergedObjects.js":{name:"merged-objects",displayName:"Merged Objects",script:function(e,t,n){"use strict";var r=n("../helpers/deepMerge");e.exports=function(e){var t=e.objects.slice();return t.unshift({}),r.apply(null,t)}}},"core/src/lib/dataElements/conditionalValue.js":{name:"conditional-value",displayName:"Conditional Value",script:function(e,t,n){"use strict";var r=n("../conditions/valueComparison");e.exports=function(e){return r(e)?e.conditionalValue:e.fallbackValue}}},"core/src/lib/dataElements/javascriptVariable.js":{name:"javascript-variable",displayName:"JavaScript Variable",script:function(e,t,n){"use strict";var r=n("../helpers/getObjectProperty.js");e.exports=function(e){return r(window,e.path)}}},"core/src/lib/dataElements/runtimeEnvironment.js":{name:"runtime-environment",displayName:"Runtime Environment",script:function(e,t,n,r){"use strict";var a=n("@adobe/reactor-window");e.exports=function(e,t){switch(e.attribute){case"buildDate":return r.buildInfo.buildDate;case"environmentStage":return a._satellite.environment.stage;case"propertyName":return a._satellite.property.name;case"propertyId":return a._satellite.property.id;case"ruleName":return t.$rule.name;case"ruleId":return t.$rule.id;case"eventType":return t.$type;case"eventDetail":return t.detail;case"DCRIdentifier":return t.identifier}}}},"core/src/lib/dataElements/domAttribute.js":{name:"dom-attribute",displayName:"DOM Attribute",script:function(e){"use strict";e.exports=function(e){var t=document.querySelector(e.elementSelector);if(t){var n=e.elementProperty;return"text"===n?t.innerText||t.textContent:n in t?t[n]:t.getAttribute?t.getAttribute(n):void 0}}}},"core/src/lib/events/directCall.js":{name:"direct-call",displayName:"Direct Call",script:function(e,t,n,r){"use strict";var a={};window._satellite=window._satellite||{},window._satellite.track=function(e,t){e=e.trim();var n=a[e];if(n){var o={identifier:e,detail:t};n.forEach((function(e){e(o)}));var i=['Rules using the direct call event type with identifier "'+e+'" have been triggered'+(t?" with additional detail:":".")];t&&i.push(t),r.logger.log.apply(r.logger,i)}else r.logger.log('"'+e+'" does not match any direct call identifiers.')},e.exports=function(e,t){var n=a[e.identifier];n||(n=a[e.identifier]=[]),n.push(t)}}},"core/src/lib/actions/customCode.js":{name:"custom-code",displayName:"Custom Code",script:function(e,t,n,r){"use strict";var a,o,i,s,c=n("@adobe/reactor-document"),l=n("@adobe/reactor-promise"),u=n("./helpers/decorateCode"),d=n("./helpers/loadCodeSequentially"),g=n("../../../node_modules/postscribe/dist/postscribe"),p=n("./helpers/unescapeHtmlCode"),m=n("../helpers/findPageScript").getTurbine,f=(o=function(e){g(c.body,e,{beforeWriteToken:function(e){var t=e.tagName&&e.tagName.toLowerCase();return a&&"script"===t&&(e.attrs.nonce=a),"script"!==t&&"style"!==t||(Object.keys(e.attrs||{}).forEach((function(t){e.attrs[t]=p(e.attrs[t])})),e.src&&(e.src=p(e.src))),e},error:function(e){r.logger.error(e.msg)}})},i=[],s=function(){if(c.body)for(;i.length;)o(i.shift());else setTimeout(s,20)},function(e){i.push(e),s()}),v=function(){if(c.currentScript)return c.currentScript.async;var e=m();return!e||e.async}();e.exports=function(e,t){var n;a=r.getExtensionSettings().cspNonce;var o={settings:e,event:t},i=o.settings.source;if(i)return o.settings.isExternal?d(i).then((function(e){return e?(n=u(o,e),f(n.code),n.promise):l.resolve()})):(n=u(o,i),v||"loading"!==c.readyState?f(n.code):c.write&&!1===r.propertySettings.ruleComponentSequencingEnabled?c.write(n.code):f(n.code),n.promise)}}},"core/src/lib/conditions/valueComparison.js":{name:"value-comparison",displayName:"Value Comparison",script:function(e,t,n){"use strict";var r=n("../helpers/stringAndNumberUtils").isString,a=n("../helpers/stringAndNumberUtils").isNumber,o=n("../helpers/stringAndNumberUtils").castToStringIfNumber,i=n("../helpers/stringAndNumberUtils").castToNumberIfString,s=function(e,t){return t&&r(e)?e.toLowerCase():e},c=function(e){return function(t,n,a){return t=o(t),n=o(n),r(t)&&r(n)&&e(t,n,a)}},l=function(e){return function(t,n){return t=i(t),n=i(n),a(t)&&a(n)&&e(t,n)}},u=function(e){return function(t,n,r){return e(s(t,r),s(n,r))}},d={equals:u((function(e,t){return e==t})),doesNotEqual:function(){return!d.equals.apply(null,arguments)},contains:c(u((function(e,t){return-1!==e.indexOf(t)}))),doesNotContain:function(){return!d.contains.apply(null,arguments)},startsWith:c(u((function(e,t){return 0===e.indexOf(t)}))),doesNotStartWith:function(){return!d.startsWith.apply(null,arguments)},endsWith:c(u((function(e,t){return e.substring(e.length-t.length,e.length)===t}))),doesNotEndWith:function(){return!d.endsWith.apply(null,arguments)},matchesRegex:c((function(e,t,n){return new RegExp(t,n?"i":"").test(e)})),doesNotMatchRegex:function(){return!d.matchesRegex.apply(null,arguments)},lessThan:l((function(e,t){return e<t})),lessThanOrEqual:l((function(e,t){return e<=t})),greaterThan:l((function(e,t){return e>t})),greaterThanOrEqual:l((function(e,t){return e>=t})),isTrue:function(e){return!0===e},isTruthy:function(e){return Boolean(e)},isFalse:function(e){return!1===e},isFalsy:function(e){return!e}};e.exports=function(e){return d[e.comparison.operator](e.leftOperand,e.rightOperand,Boolean(e.comparison.caseInsensitive))}}},"core/src/lib/conditions/customCode.js":{name:"custom-code",displayName:"Custom Code",script:function(e){"use strict";e.exports=function(e,t){return e.source.call(t.element,t,t.target)}}},"core/src/lib/conditions/domain.js":{name:"domain",displayName:"Domain",script:function(e,t,n){"use strict";var r=n("@adobe/reactor-document"),a=/[|\\{}()[\]^$+*?.-]/g,o=function(e){if("string"!=typeof e)throw new TypeError("Expected a string");return e.replace(a,"\\$&")};e.exports=function(e){var t=r.location.hostname;return e.domains.some((function(e){return t.match(new RegExp("(^|\\.)"+o(e)+"$","i"))}))}}},"core/src/lib/events/click.js":{name:"click",displayName:"Click",script:function(e,t,n){"use strict";var r=n("@adobe/reactor-window"),a=n("./helpers/createBubbly")(),o=new(n("./helpers/weakMap")),i=2,s=n("../helpers/stringAndNumberUtils").castToNumberIfString,c=function(e){if(!e.ctrlKey&&!e.metaKey&&e.button!==i)for(var t=e.target;t;){var n=t.tagName;if(n&&"a"===n.toLowerCase()){var a=t.getAttribute("href"),o=t.getAttribute("target");return a&&(!o||"_self"===o||"_top"===o&&r.top===r||o===r.name)?t:void 0}t=t.parentNode}};document.addEventListener("click",a.evaluateEvent,!0),e.exports=function(e,t){a.addListener(e,(function(n){var a=n.nativeEvent;if(!a.s_fe){var i=s(e.anchorDelay);if(i&&!o.has(a)){var l=c(a);l&&(a.preventDefault(),setTimeout((function(){r.location=l.href}),i)),o.set(a,!0)}t(n)}}))},e.exports.__reset=a.__reset}},"core/src/lib/conditions/path.js":{name:"path",displayName:"Path Without Query String",script:function(e,t,n){"use strict";var r=n("@adobe/reactor-document"),a=n("../helpers/textMatch");e.exports=function(e){var t=r.location.pathname;return e.paths.some((function(e){var n=e.valueIsRegex?new RegExp(e.value,"i"):e.value;return a(t,n)}))}}},"core/src/lib/conditions/pathAndQuerystring.js":{name:"path-and-querystring",displayName:"Path And Query String",script:function(e,t,n){"use strict";var r=n("@adobe/reactor-document"),a=n("../helpers/textMatch");e.exports=function(e){var t=r.location.pathname+r.location.search;return e.paths.some((function(e){var n=e.valueIsRegex?new RegExp(e.value,"i"):e.value;return a(t,n)}))}}},"core/src/lib/events/dataElementChange.js":{name:"data-element-change",displayName:"Data Element Change",script:function(e,t,n,r){"use strict";var a={},o={};setInterval((function(){Object.keys(a).forEach((function(e){var t=JSON.stringify(r.getDataElementValue(e));if(t!==o[e]){var n={dataElementName:e};a[e].forEach((function(e){e(n)})),o[e]=t}}))}),1e3),e.exports=function(e,t){var n=e.name,i=a[n];i||(i=a[n]=[],o[n]=JSON.stringify(r.getDataElementValue(n))),i.push(t)}}},"core/src/lib/events/windowLoaded.js":{name:"window-loaded",displayName:"Window Loaded",script:function(e,t,n){"use strict";var r=n("./helpers/pageLifecycleEvents");e.exports=function(e,t){r.registerWindowLoadedTrigger(t)}}},"core/src/lib/events/domReady.js":{name:"dom-ready",displayName:"DOM Ready",script:function(e,t,n){"use strict";var r=n("./helpers/pageLifecycleEvents");e.exports=function(e,t){r.registerDomReadyTrigger(t)}}},"core/src/lib/events/pageBottom.js":{name:"page-bottom",displayName:"Page Bottom",script:function(e,t,n){"use strict";var r=n("./helpers/pageLifecycleEvents");e.exports=function(e,t){r.registerPageBottomTrigger(t)}}},"core/src/lib/conditions/queryStringParameter.js":{name:"query-string-parameter",displayName:"Query String Parameter",script:function(e,t,n){"use strict";var r=n("@adobe/reactor-window"),a=n("@adobe/reactor-query-string"),o=n("../helpers/textMatch");e.exports=function(e){var t,n=a.parse(r.location.search);if(!n.hasOwnProperty(e.name))return!1;t=Array.isArray(e.queryParams)?e.queryParams:[{value:e.value,valueIsRegex:Boolean(e.valueIsRegex)}];var i=n[e.name];return t.some((function(e){var t=e.valueIsRegex?new RegExp(e.value,"i"):e.value;return o(i,t)}))}}},"core/src/lib/events/libraryLoaded.js":{name:"library-loaded",displayName:"Library Loaded (Page Top)",script:function(e,t,n){"use strict";var r=n("./helpers/pageLifecycleEvents");e.exports=function(e,t){r.registerLibraryLoadedTrigger(t)}}},"core/src/lib/events/customEvent.js":{name:"custom-event",displayName:"Custom Event",script:function(e,t,n){"use strict";var r=n("./helpers/createBubbly")(),a=[];e.exports=function(e,t){var n=e.type;-1===a.indexOf(n)&&(a.push(n),window.addEventListener(n,r.evaluateEvent,!0)),r.addListener(e,(function(e){e.nativeEvent.type===n&&(e.detail=e.nativeEvent.detail,t(e))}))}}},"core/src/lib/events/elementExists.js":{name:"element-exists",displayName:"Element Exists",script:function(e,t,n){"use strict";var r=3e3,a=new(n("./helpers/weakMap")),o=n("./helpers/matchesProperties"),i={};setInterval((function(){Object.keys(i).forEach((function(e){for(var t=i[e],n=document.querySelectorAll(e),r=0;r<n.length;r++){var s=n[r];if(!a.has(s)){a.set(s,!0);for(var c=0;c<t.length;c++){var l=t[c];o(s,l.settings.elementProperties)&&(l.trigger({element:s,target:s}),t.splice(c,1),c--)}}if(!t.length){delete i[e];break}}}))}),r),e.exports=function(e,t){var n=i[e.elementSelector];n||(n=i[e.elementSelector]=[]),n.push({settings:e,trigger:t})}}},"core/src/lib/events/historyChange.js":{name:"history-change",displayName:"History Change",script:function(e,t,n){"use strict";var r=n("./helpers/debounce"),a=n("./helpers/once"),o=window.history,i=window.location.href,s=[],c=function(e,t,n){var r=e[t];e[t]=function(){var t=r.apply(e,arguments);return n.apply(null,arguments),t}},l=r((function(){var e=window.location.href;i!==e&&(s.forEach((function(e){e()})),i=e)}),0),u=a((function(){o&&(o.pushState&&c(o,"pushState",l),o.replaceState&&c(o,"replaceState",l)),window.addEventListener("popstate",l),window.addEventListener("hashchange",l)}));e.exports=function(e,t){u(),s.push(t)}}},"core/src/lib/conditions/hash.js":{name:"hash",displayName:"Hash",script:function(e,t,n){"use strict";var r=n("../helpers/textMatch");e.exports=function(e){var t=document.location.hash;return e.hashes.some((function(e){var n=e.valueIsRegex?new RegExp(e.value,"i"):e.value;return r(t,n)}))}}},"core/src/lib/actions/directCall.js":{name:"direct-call",displayName:"Trigger Direct Call",script:function(e,t,n){"use strict";var r=n("@adobe/reactor-window");e.exports=function(e){if(e&&e.identifier){var t=e.detail;if(t&&Array.isArray(t.eventObjectEntries)&&t.eventObjectEntries.length){var n={};t.eventObjectEntries.forEach((function(e){n[e.key]=e.value})),r._satellite.track(e.identifier,n)}else r._satellite.track(e.identifier)}}}},"core/src/lib/events/blur.js":{name:"blur",displayName:"Blur",script:function(e,t,n){"use strict";var r=n("./helpers/createBubbly")();document.addEventListener("blur",r.evaluateEvent,!0),e.exports=function(e,t){r.addListener(e,t)}}},"core/src/lib/helpers/deepMerge.js":{script:function(e,t,n){"use strict";function r(e){return Array.prototype.slice.call(arguments,1).reduce((function(e,t){return null==t||Object.keys(t).forEach((function(n){var i=e[n],s=t[n];void 0===s&&void 0!==i||(Array.isArray(i)&&Array.isArray(s)?e[n]=i.concat(o(s)):a(i)&&a(s)?e[n]=r(i,s):e[n]=o(s))})),e}),e)}var a=n("../helpers/isPlainObject"),o=function(e){return a(e)?r({},e):Array.isArray(e)?r([],e):e};e.exports=r}},"core/src/lib/helpers/isPlainObject.js":{script:function(e,t,n){"use strict";var r=n("../../../node_modules/is-plain-object/dist/is-plain-object").isPlainObject;e.exports=r}},"core/node_modules/is-plain-object/dist/is-plain-object.js":{script:function(e,t){"use strict";function n(e){return"[object Object]"===Object.prototype.toString.call(e)}function r(e){var t,r;return!1!==n(e)&&(void 0===(t=e.constructor)||!1!==n(r=t.prototype)&&!1!==r.hasOwnProperty("isPrototypeOf"))}Object.defineProperty(t,"__esModule",{value:!0}),t.isPlainObject=r}},"core/src/lib/helpers/stringAndNumberUtils.js":{script:function(e){"use strict";var t=function(e){return"number"==typeof e&&isFinite(e)},n=function(e){return"string"==typeof e||e instanceof String},r=function(e){return t(e)?String(e):e},a=function(e){return n(e)?Number(e):e};e.exports={isNumber:t,isString:n,castToStringIfNumber:r,castToNumberIfString:a}}},"core/src/lib/helpers/getObjectProperty.js":{script:function(e){"use strict";e.exports=function(e,t){for(var n=t.split("."),r=e,a=0,o=n.length;a<o;a++){if(null==r)return;r=r[n[a]]}return r}}},"core/src/lib/actions/helpers/decorateCode.js":{script:function(e,t,n){"use strict";var r=n("./decorators/decorateGlobalJavaScriptCode"),a=n("./decorators/decorateNonGlobalJavaScriptCode"),o={javascript:function(e,t){return e.settings.global?r(e,t):a(e,t)},html:n("./decorators/decorateHtmlCode")};e.exports=function(e,t){return o[e.settings.language](e,t)}}},"core/src/lib/actions/helpers/loadCodeSequentially.js":{script:function(e,t,n){"use strict";var r=n("@adobe/reactor-promise"),a=n("./getSourceByUrl"),o=r.resolve();e.exports=function(e){var t=new r((function(t){var n=a(e);r.all([n,o]).then((function(e){var n=e[0];t(n)}))}));return o=t,t}}},"core/node_modules/postscribe/dist/postscribe.js":{script:function(e,t){var n,r;n=this,r=function(){return function(e){function t(r){if(n[r])return n[r].exports;var a=n[r]={exports:{},id:r,loaded:!1};return e[r].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=r(n(1));e.exports=a.default},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}function o(){}function i(){var e=m.shift();if(e){var t=d.last(e);t.afterDequeue(),e.stream=s.apply(void 0,e),t.afterStreamStart()}}function s(e,t,n){function r(e){e=n.beforeWrite(e),f.write(e),n.afterWrite(e)}(f=new u.default(e,n)).id=p++,f.name=n.name||f.id,c.streams[f.name]=f;var a=e.ownerDocument,s={close:a.close,open:a.open,write:a.write,writeln:a.writeln};l(a,{close:o,open:o,write:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return r(t.join(""))},writeln:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return r(t.join("")+"\n")}});var d=f.win.onerror||o;return f.win.onerror=function(e,t,r){n.error({msg:e+" - "+t+": "+r}),d.apply(f.win,[e,t,r])},f.write(t,(function(){l(a,s),f.win.onerror=d,n.done(),f=null,i()})),f}function c(e,t,n){if(d.isFunction(n))n={done:n};else if("clear"===n)return m=[],f=null,void(p=0);n=d.defaults(n,g);var r=[e=/^#/.test(e)?window.document.getElementById(e.substr(1)):e.jquery?e[0]:e,t,n];return e.postscribe={cancel:function(){r.stream?r.stream.abort():r[1]=o}},n.beforeEnqueue(r),m.push(r),f||i(),e.postscribe}t.__esModule=!0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=c;var u=a(n(2)),d=r(n(4)),g={afterAsync:o,afterDequeue:o,afterStreamStart:o,afterWrite:o,autoFix:!0,beforeEnqueue:o,beforeWriteToken:function(e){return e},beforeWrite:function(e){return e},done:o,error:function(e){throw new Error(e.msg)},releaseAsync:!1},p=0,m=[],f=null;l(c,{streams:{},queue:m,WriteStream:u.default})},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){var n=g+t,r=e.getAttribute(n);return u.existy(r)?String(r):r}function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=g+t;u.existy(n)&&""!==n?e.setAttribute(r,n):e.removeAttribute(r)}t.__esModule=!0;var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=a(n(3)),u=r(n(4)),d=!1,g="data-ps-",p="ps-style",m="ps-script",f=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(this,e),this.root=t,this.options=n,this.doc=t.ownerDocument,this.win=this.doc.defaultView||this.doc.parentWindow,this.parser=new l.default("",{autoFix:n.autoFix}),this.actuals=[t],this.proxyHistory="",this.proxyRoot=this.doc.createElement(t.nodeName),this.scriptStack=[],this.writeQueue=[],s(this.proxyRoot,"proxyof",0)}return e.prototype.write=function(){var e;for((e=this.writeQueue).push.apply(e,arguments);!this.deferredRemote&&this.writeQueue.length;){var t=this.writeQueue.shift();u.isFunction(t)?this._callFunction(t):this._writeImpl(t)}},e.prototype._callFunction=function(e){var t={type:"function",value:e.name||e.toString()};this._onScriptStart(t),e.call(this.win,this.doc),this._onScriptDone(t)},e.prototype._writeImpl=function(e){this.parser.append(e);for(var t=void 0,n=void 0,r=void 0,a=[];(t=this.parser.readToken())&&!(n=u.isScript(t))&&!(r=u.isStyle(t));)(t=this.options.beforeWriteToken(t))&&a.push(t);a.length>0&&this._writeStaticTokens(a),n&&this._handleScriptToken(t),r&&this._handleStyleToken(t)},e.prototype._writeStaticTokens=function(e){var t=this._buildChunk(e);return t.actual?(t.html=this.proxyHistory+t.actual,this.proxyHistory+=t.proxy,this.proxyRoot.innerHTML=t.html,d&&(t.proxyInnerHTML=this.proxyRoot.innerHTML),this._walkChunk(),d&&(t.actualInnerHTML=this.root.innerHTML),t):null},e.prototype._buildChunk=function(e){for(var t=this.actuals.length,n=[],r=[],a=[],o=e.length,i=0;i<o;i++){var s=e[i],c=s.toString();if(n.push(c),s.attrs){if(!/^noscript$/i.test(s.tagName)){var l=t++;r.push(c.replace(/(\/?>)/," "+g+"id="+l+" $1")),s.attrs.id!==m&&s.attrs.id!==p&&a.push("atomicTag"===s.type?"":"<"+s.tagName+" "+g+"proxyof="+l+(s.unary?" />":">"))}}else r.push(c),a.push("endTag"===s.type?c:"")}return{tokens:e,raw:n.join(""),actual:r.join(""),proxy:a.join("")}},e.prototype._walkChunk=function(){for(var e=void 0,t=[this.proxyRoot];u.existy(e=t.shift());){var n=1===e.nodeType;if(!n||!i(e,"proxyof")){n&&(this.actuals[i(e,"id")]=e,s(e,"id"));var r=e.parentNode&&i(e.parentNode,"proxyof");r&&this.actuals[r].appendChild(e)}t.unshift.apply(t,u.toArray(e.childNodes))}},e.prototype._handleScriptToken=function(e){var t=this,n=this.parser.clear();n&&this.writeQueue.unshift(n),e.src=e.attrs.src||e.attrs.SRC,(e=this.options.beforeWriteToken(e))&&(e.src&&this.scriptStack.length?this.deferredRemote=e:this._onScriptStart(e),this._writeScriptToken(e,(function(){t._onScriptDone(e)})))},e.prototype._handleStyleToken=function(e){var t=this.parser.clear();t&&this.writeQueue.unshift(t),e.type=e.attrs.type||e.attrs.TYPE||"text/css",(e=this.options.beforeWriteToken(e))&&this._writeStyleToken(e),t&&this.write()},e.prototype._writeStyleToken=function(e){var t=this._buildStyle(e);this._insertCursor(t,p),e.content&&(t.styleSheet&&!t.sheet?t.styleSheet.cssText=e.content:t.appendChild(this.doc.createTextNode(e.content)))},e.prototype._buildStyle=function(e){var t=this.doc.createElement(e.tagName);return t.setAttribute("type",e.type),u.eachKey(e.attrs,(function(e,n){t.setAttribute(e,n)})),t},e.prototype._insertCursor=function(e,t){this._writeImpl('<span id="'+t+'"/>');var n=this.doc.getElementById(t);n&&n.parentNode.replaceChild(e,n)},e.prototype._onScriptStart=function(e){e.outerWrites=this.writeQueue,this.writeQueue=[],this.scriptStack.unshift(e)},e.prototype._onScriptDone=function(e){e===this.scriptStack[0]?(this.scriptStack.shift(),this.write.apply(this,e.outerWrites),!this.scriptStack.length&&this.deferredRemote&&(this._onScriptStart(this.deferredRemote),this.deferredRemote=null)):this.options.error({msg:"Bad script nesting or script finished twice"})},e.prototype._writeScriptToken=function(e,t){var n=this._buildScript(e),r=this._shouldRelease(n),a=this.options.afterAsync;e.src&&(n.src=e.src,this._scriptLoadHandler(n,r?a:function(){t(),a()}));try{this._insertCursor(n,m),n.src&&!r||t()}catch(e){this.options.error(e),t()}},e.prototype._buildScript=function(e){var t=this.doc.createElement(e.tagName);return u.eachKey(e.attrs,(function(e,n){t.setAttribute(e,n)})),e.content&&(t.text=e.content),t},e.prototype._scriptLoadHandler=function(e,t){function n(){e=e.onload=e.onreadystatechange=e.onerror=null}function r(){n(),null!=t&&t(),t=null}function a(e){n(),i(e),null!=t&&t(),t=null}function o(e,t){var n=e["on"+t];null!=n&&(e["_on"+t]=n)}var i=this.options.error;o(e,"load"),o(e,"error"),c(e,{onload:function(){if(e._onload)try{e._onload.apply(this,Array.prototype.slice.call(arguments,0))}catch(t){a({msg:"onload handler failed "+t+" @ "+e.src})}r()},onerror:function(){if(e._onerror)try{e._onerror.apply(this,Array.prototype.slice.call(arguments,0))}catch(t){return void a({msg:"onerror handler failed "+t+" @ "+e.src})}a({msg:"remote script failed "+e.src})},onreadystatechange:function(){/^(loaded|complete)$/.test(e.readyState)&&r()}})},e.prototype._shouldRelease=function(e){return!/^script$/i.test(e.nodeName)||!!(this.options.releaseAsync&&e.src&&e.hasAttribute("async"))},e}();t.default=f},function(e){var t;t=function(){return function(e){function t(r){if(n[r])return n[r].exports;var a=n[r]={exports:{},id:r,loaded:!1};return e[r].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=r(n(1));e.exports=a.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var i=a(n(2)),s=a(n(3)),c=r(n(6)),l=n(5),u={comment:/^<!--/,endTag:/^<\//,atomicTag:/^<\s*(script|style|noscript|iframe|textarea)[\s\/>]/i,startTag:/^</,chars:/^[^<]/},d=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(this,e),this.stream=n;var a=!1,s={};for(var l in i)i.hasOwnProperty(l)&&(r.autoFix&&(s[l+"Fix"]=!0),a=a||s[l+"Fix"]);a?(this._readToken=(0,c.default)(this,s,(function(){return t._readTokenImpl()})),this._peekToken=(0,c.default)(this,s,(function(){return t._peekTokenImpl()}))):(this._readToken=this._readTokenImpl,this._peekToken=this._peekTokenImpl)}return e.prototype.append=function(e){this.stream+=e},e.prototype.prepend=function(e){this.stream=e+this.stream},e.prototype._readTokenImpl=function(){var e=this._peekTokenImpl();if(e)return this.stream=this.stream.slice(e.length),e},e.prototype._peekTokenImpl=function(){for(var e in u)if(u.hasOwnProperty(e)&&u[e].test(this.stream)){var t=s[e](this.stream);if(t)return"startTag"===t.type&&/script|style/i.test(t.tagName)?null:(t.text=this.stream.substr(0,t.length),t)}},e.prototype.peekToken=function(){return this._peekToken()},
e.prototype.readToken=function(){return this._readToken()},e.prototype.readTokens=function(e){for(var t=void 0;t=this.readToken();)if(e[t.type]&&!1===e[t.type](t))return},e.prototype.clear=function(){var e=this.stream;return this.stream="",e},e.prototype.rest=function(){return this.stream},e}();for(var g in t.default=d,d.tokenToString=function(e){return e.toString()},d.escapeAttributes=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=(0,l.escapeQuotes)(e[n],null));return t},d.supports=i,i)i.hasOwnProperty(g)&&(d.browserHasFlaw=d.browserHasFlaw||!i[g]&&g)},function(e,t){"use strict";t.__esModule=!0;var n=!1,r=!1,a=window.document.createElement("div");try{var o="<P><I></P></I>";a.innerHTML=o,t.tagSoup=n=a.innerHTML!==o}catch(e){t.tagSoup=n=!1}try{a.innerHTML="<P><i><P></P></i></P>",t.selfClose=r=2===a.childNodes.length}catch(e){t.selfClose=r=!1}a=null,t.tagSoup=n,t.selfClose=r},function(e,t,n){"use strict";function r(e){var t=e.indexOf("-->");if(t>=0)return new l.CommentToken(e.substr(4,t-1),t+3)}function a(e){var t=e.indexOf("<");return new l.CharsToken(t>=0?t:e.length)}function o(e){var t,n,r;if(-1!==e.indexOf(">")){var a=e.match(u.startTag);if(a){var o=(t={},n={},r=a[2],a[2].replace(u.attr,(function(e,a){arguments[2]||arguments[3]||arguments[4]||arguments[5]?arguments[5]?(t[arguments[5]]="",n[arguments[5]]=!0):t[a]=arguments[2]||arguments[3]||arguments[4]||u.fillAttr.test(a)&&a||"":t[a]="",r=r.replace(e,"")})),{v:new l.StartTagToken(a[1],a[0].length,t,n,!!a[3],r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""))});if("object"===(void 0===o?"undefined":c(o)))return o.v}}}function i(e){var t=o(e);if(t){var n=e.slice(t.length);if(n.match(new RegExp("</\\s*"+t.tagName+"\\s*>","i"))){var r=n.match(new RegExp("([\\s\\S]*?)</\\s*"+t.tagName+"\\s*>","i"));if(r)return new l.AtomicTagToken(t.tagName,r[0].length+t.length,t.attrs,t.booleanAttrs,r[1])}}}function s(e){var t=e.match(u.endTag);if(t)return new l.EndTagToken(t[1],t[0].length)}t.__esModule=!0;var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.comment=r,t.chars=a,t.startTag=o,t.atomicTag=i,t.endTag=s;var l=n(4),u={startTag:/^<([\-A-Za-z0-9_]+)((?:\s+[\w\-]+(?:\s*=?\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,endTag:/^<\/([\-A-Za-z0-9_]+)[^>]*>/,attr:/(?:([\-A-Za-z0-9_]+)\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))|(?:([\-A-Za-z0-9_]+)(\s|$)+)/g,fillAttr:/^(checked|compact|declare|defer|disabled|ismap|multiple|nohref|noresize|noshade|nowrap|readonly|selected)$/i}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0,t.EndTagToken=t.AtomicTagToken=t.StartTagToken=t.TagToken=t.CharsToken=t.CommentToken=t.Token=void 0;var a=n(5),o=(t.Token=function e(t,n){r(this,e),this.type=t,this.length=n,this.text=""},t.CommentToken=function(){function e(t,n){r(this,e),this.type="comment",this.length=n||(t?t.length:0),this.text="",this.content=t}return e.prototype.toString=function(){return"<!--"+this.content},e}(),t.CharsToken=function(){function e(t){r(this,e),this.type="chars",this.length=t,this.text=""}return e.prototype.toString=function(){return this.text},e}(),t.TagToken=function(){function e(t,n,a,o,i){r(this,e),this.type=t,this.length=a,this.text="",this.tagName=n,this.attrs=o,this.booleanAttrs=i,this.unary=!1,this.html5Unary=!1}return e.formatTag=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n="<"+e.tagName;for(var r in e.attrs)if(e.attrs.hasOwnProperty(r)){n+=" "+r;var o=e.attrs[r];void 0!==e.booleanAttrs&&void 0!==e.booleanAttrs[r]||(n+='="'+(0,a.escapeQuotes)(o)+'"')}return e.rest&&(n+=" "+e.rest),e.unary&&!e.html5Unary?n+="/>":n+=">",null!=t&&(n+=t+"</"+e.tagName+">"),n},e}());t.StartTagToken=function(){function e(t,n,a,o,i,s){r(this,e),this.type="startTag",this.length=n,this.text="",this.tagName=t,this.attrs=a,this.booleanAttrs=o,this.html5Unary=!1,this.unary=i,this.rest=s}return e.prototype.toString=function(){return o.formatTag(this)},e}(),t.AtomicTagToken=function(){function e(t,n,a,o,i){r(this,e),this.type="atomicTag",this.length=n,this.text="",this.tagName=t,this.attrs=a,this.booleanAttrs=o,this.unary=!1,this.html5Unary=!1,this.content=i}return e.prototype.toString=function(){return o.formatTag(this,this.content)},e}(),t.EndTagToken=function(){function e(t,n){r(this,e),this.type="endTag",this.length=n,this.text="",this.tagName=t}return e.prototype.toString=function(){return"</"+this.tagName+">"},e}()},function(e,t){"use strict";function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e?e.replace(/([^"]*)"/g,(function(e,t){return/\\/.test(t)?t+'"':t+'\\"'})):t}t.__esModule=!0,t.escapeQuotes=n},function(e,t){"use strict";function n(e){return e&&"startTag"===e.type&&(e.unary=s.test(e.tagName)||e.unary,e.html5Unary=!/\/>$/.test(e.text)),e}function r(e,t){var r=e.stream,a=n(t());return e.stream=r,a}function a(e,t){var n=t.pop();e.prepend("</"+n.tagName+">")}function o(){var e=[];return e.last=function(){return this[this.length-1]},e.lastTagNameEq=function(e){var t=this.last();return t&&t.tagName&&t.tagName.toUpperCase()===e.toUpperCase()},e.containsTagName=function(e){for(var t,n=0;t=this[n];n++)if(t.tagName===e)return!0;return!1},e}function i(e,t,i){function s(){var t=r(e,i);t&&u[t.type]&&u[t.type](t)}var l=o(),u={startTag:function(n){var r=n.tagName;"TR"===r.toUpperCase()&&l.lastTagNameEq("TABLE")?(e.prepend("<TBODY>"),s()):t.selfCloseFix&&c.test(r)&&l.containsTagName(r)?l.lastTagNameEq(r)?a(e,l):(e.prepend("</"+n.tagName+">"),s()):n.unary||l.push(n)},endTag:function(n){l.last()?t.tagSoupFix&&!l.lastTagNameEq(n.tagName)?a(e,l):l.pop():t.tagSoupFix&&(i(),s())}};return function(){return s(),n(i())}}t.__esModule=!0,t.default=i;var s=/^(AREA|BASE|BASEFONT|BR|COL|FRAME|HR|IMG|INPUT|ISINDEX|LINK|META|PARAM|EMBED)$/i,c=/^(COLGROUP|DD|DT|LI|OPTIONS|P|TD|TFOOT|TH|THEAD|TR)$/i}])},e.exports=t()},function(e,t){"use strict";function n(e){return null!=e}function r(e){return"function"==typeof e}function a(e,t,n){var r=void 0,a=e&&e.length||0;for(r=0;r<a;r++)t.call(n,e[r],r)}function o(e,t,n){for(var r in e)e.hasOwnProperty(r)&&t.call(n,r,e[r])}function i(e,t){return e=e||{},o(t,(function(t,r){n(e[t])||(e[t]=r)})),e}function s(e){try{return Array.prototype.slice.call(e)}catch(r){var t=(n=[],a(e,(function(e){n.push(e)})),{v:n});if("object"===(void 0===t?"undefined":g(t)))return t.v}var n}function c(e){return e[e.length-1]}function l(e,t){return!(!e||"startTag"!==e.type&&"atomicTag"!==e.type||!("tagName"in e)||!~e.tagName.toLowerCase().indexOf(t))}function u(e){return l(e,"script")}function d(e){return l(e,"style")}t.__esModule=!0;var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.existy=n,t.isFunction=r,t.each=a,t.eachKey=o,t.defaults=i,t.toArray=s,t.last=c,t.isTag=l,t.isScript=u,t.isStyle=d}])},"object"==typeof t&&"object"==typeof e?e.exports=r():"function"==typeof define&&define.amd?define([],r):"object"==typeof t?t.postscribe=r():n.postscribe=r()}},"core/src/lib/actions/helpers/unescapeHtmlCode.js":{script:function(e,t,n){"use strict";var r=n("@adobe/reactor-document").createElement("div");e.exports=function(e){return r.innerHTML=e,r.textContent||r.innerText||e}}},"core/src/lib/helpers/findPageScript.js":{script:function(e,t,n){"use strict";var r=n("@adobe/reactor-document"),a=function(e){for(var t=r.querySelectorAll("script"),n=0;n<t.length;n++){var a=t[n];if(e.test(a.src))return a}},o=function(){return a(new RegExp(/(launch|satelliteLib)-[^\/]+.js(\?.*)?$/))};e.exports={getTurbine:o,byRegexPattern:a}}},"core/src/lib/actions/helpers/decorators/decorateGlobalJavaScriptCode.js":{script:function(e,t,n){"use strict";var r=n("@adobe/reactor-promise");e.exports=function(e,t){return{code:"<script>\n"+t+"\n</script>",promise:r.resolve()}}}},"core/src/lib/actions/helpers/decorators/decorateNonGlobalJavaScriptCode.js":{script:function(e,t,n){"use strict";var r=n("@adobe/reactor-promise"),a=0;e.exports=function(e,t){var n="_runScript"+ ++a,o=new r((function(t,a){_satellite[n]=function(o){delete _satellite[n],new r((function(t){t(o.call(e.event.element,e.event,e.event.target,r))})).then(t,a)}}));return{code:'<script>_satellite["'+n+'"](function(event, target, Promise) {\n'+t+"\n});</script>",promise:o}}}},"core/src/lib/actions/helpers/decorators/decorateHtmlCode.js":{script:function(e,t,n,r){"use strict";var a=n("@adobe/reactor-promise"),o=0,i={};window._satellite=window._satellite||{},window._satellite._onCustomCodeSuccess=function(e){var t=i[e];t&&(delete i[e],t.resolve())},window._satellite._onCustomCodeFailure=function(e){var t=i[e];t&&(delete i[e],t.reject())};var s=function(e){return-1!==e.indexOf("${reactorCallbackId}")},c=function(e,t){return e.replace(/\${reactorCallbackId}/g,t)},l=function(e){return e.settings.isExternal};e.exports=function(e,t){var n;return l(e)&&(t=r.replaceTokens(t,e.event)),s(t)?(n=new a((function(e,t){i[String(o)]={resolve:e,reject:t}})),t=c(t,o),o+=1):n=a.resolve(),{code:t,promise:n}}}},"core/src/lib/actions/helpers/getSourceByUrl.js":{script:function(e,t,n){"use strict";var r=n("@adobe/reactor-load-script"),a=n("@adobe/reactor-promise"),o=n("../../helpers/findPageScript").byRegexPattern,i={},s={},c=function(e){return s[e]||(s[e]=r(e)),s[e]};_satellite.__registerScript=function(e,t){var n;if(document.currentScript)n=document.currentScript.getAttribute("src");else{var r=new RegExp(".*"+e+".*");n=o(r).getAttribute("src")}i[n]=t},e.exports=function(e){return i[e]?a.resolve(i[e]):new a((function(t){c(e).then((function(){t(i[e])}),(function(){t()}))}))}}},"core/src/lib/events/helpers/createBubbly.js":{script:function(e,t,n){"use strict";var r=n("./weakMap"),a=n("./matchesProperties"),o=n("./matchesSelector");e.exports=function(){var e=[],t=new r,n={addListener:function(t,n){e.push({settings:t,callback:n})},evaluateEvent:function(n,r){if(e.length&&!t.has(n)){for(var i=n.target,s=!1;i;){for(var c=!1,l=!1,u=0;u<e.length;u++){var d=e[u],g=d.settings.elementSelector,p=d.settings.elementProperties;if((!1!==d.settings.bubbleFireIfChildFired||!s)&&(i===n.target||!1!==d.settings.bubbleFireIfParent)&&(i===n.target||g||p&&Object.keys(p).length)&&(!g||o(i,g))&&(!p||a(i,p))){var m={};r?Object.keys(n).forEach((function(e){m[e]=n[e]})):m.nativeEvent=n,m.element=i,m.target=n.target,!1!==d.callback(m)&&(l=!0,d.settings.bubbleStop&&(c=!0))}}if(c)break;l&&(s=!0),i=i.parentNode}t.set(n,!0)}},__reset:function(){e=[]}};return n}}},"core/src/lib/events/helpers/weakMap.js":{script:function(e,t,n){"use strict";var r=n("@adobe/reactor-window").WeakMap;if(void 0===r){var a=Object.defineProperty,o=Date.now()%1e9;(r=function(){this.name="__st"+(1e9*Math.random()>>>0)+o+++"__"}).prototype={set:function(e,t){var n=e[this.name];return n&&n[0]===e?n[1]=t:a(e,this.name,{value:[e,t],writable:!0}),this},get:function(e){var t;return(t=e[this.name])&&t[0]===e?t[1]:void 0},delete:function(e){var t=e[this.name];return!(!t||t[0]!==e||(t[0]=t[1]=void 0,0))},has:function(e){var t=e[this.name];return!!t&&t[0]===e}}}e.exports=r}},"core/src/lib/events/helpers/matchesProperties.js":{script:function(e,t,n){"use strict";var r=n("./../../helpers/textMatch"),a=function(e,t){return"@text"===t||"innerText"===t?e.textContent||e.innerText:t in e?e[t]:e.getAttribute?e.getAttribute(t):void 0};e.exports=function(e,t){return!t||t.every((function(t){var n=a(e,t.name),o=t.valueIsRegex?new RegExp(t.value,"i"):t.value;return r(n,o)}))}}},"core/src/lib/events/helpers/matchesSelector.js":{script:function(e,t,n,r){"use strict";e.exports=function(e,t){var n=e.matches||e.msMatchesSelector;if(n)try{return n.call(e,t)}catch(e){return r.logger.warn("Matching element failed. "+t+" is not a valid selector."),!1}return!1}}},"core/src/lib/helpers/textMatch.js":{script:function(e){"use strict";e.exports=function(e,t){if(null==t)throw new Error("Illegal Argument: Pattern is not present");return null!=e&&("string"==typeof t?e===t:t instanceof RegExp&&t.test(e))}}},"core/src/lib/events/helpers/pageLifecycleEvents.js":{script:function(e,t,n){"use strict";var r=n("@adobe/reactor-window"),a=n("@adobe/reactor-document"),o=-1!==r.navigator.appVersion.indexOf("MSIE 10"),i="WINDOW_LOADED",s="DOM_READY",c="PAGE_BOTTOM",l=[c,s,i],u=function(e,t){return{element:e,target:e,nativeEvent:t}},d={};l.forEach((function(e){d[e]=[]}));var g=function(e,t){l.slice(0,m(e)+1).forEach((function(e){f(t,e)}))},p=function(){return"complete"===a.readyState?i:"interactive"===a.readyState?o?null:s:void 0},m=function(e){return l.indexOf(e)},f=function(e,t){d[t].forEach((function(t){v(e,t)})),d[t]=[]},v=function(e,t){var n=t.trigger,r=t.syntheticEventFn;n(r?r(e):null)};r._satellite=r._satellite||{},r._satellite.pageBottom=g.bind(null,c),a.addEventListener("DOMContentLoaded",g.bind(null,s),!0),r.addEventListener("load",g.bind(null,i),!0),r.setTimeout((function(){var e=p();e&&g(e)}),0),e.exports={registerLibraryLoadedTrigger:function(e){e()},registerPageBottomTrigger:function(e){d[c].push({trigger:e})},registerDomReadyTrigger:function(e){d[s].push({trigger:e,syntheticEventFn:u.bind(null,a)})},registerWindowLoadedTrigger:function(e){d[i].push({trigger:e,syntheticEventFn:u.bind(null,r)})}}}},"core/src/lib/events/helpers/debounce.js":{script:function(e){"use strict";e.exports=function(e,t,n){var r=null;return function(){var a=n||this,o=arguments;clearTimeout(r),r=setTimeout((function(){e.apply(a,o)}),t)}}}},"core/src/lib/events/helpers/once.js":{script:function(e){"use strict";e.exports=function(e,t){var n;return function(){return e&&(n=e.apply(t||this,arguments),e=null),n}}}}}},clicktale:{displayName:"Clicktale Tag Injector",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP6ac3b71faca2459f930cea1ae291819a/",settings:{guid:"",partition:"",piiselector:"",multipleconditions:'[{"conditionID":"1580207270811","definition":"_satellite.getVar(\\"brandName\\") === \\"Holts\\" && _satellite.getVar(\\"launchEnvironment\\") === \\"production\\"","partition":"www36","partition_text":"Partition 36","guid":"9dfe501b-f717-49cb-af08-e868adcb62c7"},{"conditionID":"1580207269059","definition":"_satellite.getVar(\\"brandName\\") === \\"Holts\\" && _satellite.getVar(\\"launchEnvironment\\") !== \\"production\\"","partition":"www36","partition_text":"Partition 36","guid":"c5677425-81aa-4cc6-8576-bfe79bb84e4e"},{"conditionID":"1579617597602","definition":"_satellite.getVar(\\"brandName\\") === \\"NatWest\\" && _satellite.getVar(\\"launchEnvironment\\") === \\"production\\" && digitalData.site.businessArea === \\"Business\\"","partition":"www36","partition_text":"Partition 36","guid":"d613076f-8ed2-456d-a1e2-7549c4e69012"},{"conditionID":"1579616756534","definition":"_satellite.getVar(\\"brandName\\") === \\"NatWest\\" && _satellite.getVar(\\"launchEnvironment\\") !== \\"production\\" && digitalData.site.businessArea === \\"Business\\"","partition":"www36","partition_text":"Partition 36","guid":"d613076f-8ed2-456d-a1e2-7549c4e69012"},{"conditionID":"1579615764610","definition":"_satellite.getVar(\\"brandName\\") === \\"Lombard\\"  && _satellite.getVar(\\"launchEnvironment\\") !== \\"production\\"","partition":"www36","partition_text":"Partition 36","guid":"d613076f-8ed2-456d-a1e2-7549c4e69012"},{"conditionID":"1578398057504","definition":"_satellite.getVar(\\"brandName\\") === \\"Lombard\\"  && _satellite.getVar(\\"launchEnvironment\\") === \\"production\\"","partition":"www36","partition_text":"Partition 36","guid":"d613076f-8ed2-456d-a1e2-7549c4e69012"},{"conditionID":"1550495942941","definition":"_satellite.getVar(\\"brandName\\") === \\"Ulster ROI\\" && _satellite.getVar(\\"launchEnvironment\\") === \\"production\\"","partition":"www36","partition_text":"Partition 36","guid":"9486a738-e668-4f4b-8a3d-0343a2896f23"},{"conditionID":"1550495942421","definition":"_satellite.getVar(\\"brandName\\") === \\"Ulster NI\\" && _satellite.getVar(\\"launchEnvironment\\") === \\"production\\"","partition":"www36","partition_text":"Partition 36","guid":"9486a738-e668-4f4b-8a3d-0343a2896f23"},{"conditionID":"1549362523526","definition":"_satellite.getVar(\\"brandName\\") === \\"NatWest\\" && _satellite.getVar(\\"launchEnvironment\\") === \\"production\\" && digitalData.site.businessArea !== \\"Business\\"","partition":"www36","partition_text":"Partition 36","guid":"ecfd2986-c519-41ff-a769-4fa55baf13ba"},{"conditionID":"1549362524229","definition":"_satellite.getVar(\\"brandName\\") === \\"RBS\\" && _satellite.getVar(\\"launchEnvironment\\") === \\"production\\" && digitalData.site.businessArea !== \\"Business\\"","partition":"www36","partition_text":"Partition 36","guid":"9dfe501b-f717-49cb-af08-e868adcb62c7"},{"conditionID":"1579174618705","definition":"_satellite.getVar(\\"brandName\\") === \\"Ulster ROI\\" && _satellite.getVar(\\"launchEnvironment\\") !== \\"production\\"","partition":"www36","partition_text":"Partition 36","guid":"417ba287-3533-4236-b1d7-edb24297195b"},{"conditionID":"1579174622498","definition":"_satellite.getVar(\\"brandName\\") === \\"NatWest\\" && _satellite.getVar(\\"launchEnvironment\\") !== \\"production\\" && digitalData.site.businessArea !== \\"Business\\"","partition":"www36","partition_text":"Partition 36","guid":"ecfd2986-c519-41ff-a769-4fa55baf13ba"},{"conditionID":"1579174622923","definition":"_satellite.getVar(\\"brandName\\") === \\"RBS\\" && _satellite.getVar(\\"launchEnvironment\\") !== \\"production\\" && digitalData.site.businessArea !== \\"Business\\"","partition":"www36","partition_text":"Partition 36","guid":"c5677425-81aa-4cc6-8576-bfe79bb84e4e"},{"conditionID":"1579622052118","definition":"_satellite.getVar(\\"brandName\\") === \\"RBS\\" && _satellite.getVar(\\"launchEnvironment\\") !== \\"production\\" && digitalData.site.businessArea === \\"Business\\"","partition":"www36","partition_text":"Partition 36","guid":"d613076f-8ed2-456d-a1e2-7549c4e69012"},{"conditionID":"1579623861101","definition":"_satellite.getVar(\\"brandName\\") === \\"RBS\\" && _satellite.getVar(\\"launchEnvironment\\") === \\"production\\" && digitalData.site.businessArea === \\"Business\\"","partition":"www36","partition_text":"Partition 36","guid":"d613076f-8ed2-456d-a1e2-7549c4e69012"}]'},modules:{"clicktale/src/lib/actions/deployclicktale.js":{name:"deployclicktale",displayName:"Deploy Clicktale",script:function(e,t,n,r){"use strict";function a(e){return decodeURIComponent(atob(e).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""))}var o=r.getExtensionSettings(),i=o.partition,s=o.guid,c=o.piiselector,l=o.multipleconditions||"[]";if((l=JSON.parse(l))&&l.forEach((function(e){var t=e.definition;if(t="return "+(t=t.replace(/&#39;/g,"'")),new Function(t)())return s=e.guid,void(i=e.partition)})),c){try{c=a(o.piiselector)}catch(e){c=o.piiselector}window.ClickTalePIISelector=c}e.exports=function(){i&&s&&(window.clickTaleTagInjected||function(e,t,n){function r(){var r=e.createElementNS,a=r?r.call(e,"http://www.w3.org/1999/xhtml",t):e.createElement(t),o=e.getElementsByTagName(t)[0];a.async=!0,a.crossOrigin="anonymous",a.type="text/javascript",a.src=n,o.parentNode.insertBefore(a,o)}window.clickTaleTagInjected=!0,"loading"!=e.readyState?r():e.addEventListener("DOMContentLoaded",(function(){setTimeout(r,0)}))}(document,"script","https://cdnssl.clicktale.net/"+i+"/ptc/"+s+".js"))}}}}},"marketing-hub":{displayName:"Marketing Hub",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP5706b3e8a983461f8e6764b219861e53/",modules:{"marketing-hub/src/lib/actions/linkedin.js":{name:"linkedin",displayName:"LinkedIn",script:function(e,t,n,r){"use strict";var a=n("../../helpers/isMarketingAllowed"),o=n("@adobe/reactor-load-script");e.exports=function(e){try{r.logger.info("Start LinkedIn marketing pixel with configuration : ",e);var t=e.partnerId,n=e.conversionId;a()?t&&n?(window._linkedin_data_partner_ids=window._linkedin_data_partner_ids||[],window._linkedin_data_partner_ids.push(t),window.lintrk?(r.logger.info("Firing LinkedIn marketing pixel with configuration:",e),window.lintrk("track",{conversion_id:n})):(window.lintrk=function(e,t){window.lintrk.q.push([e,t])},window.lintrk.q=[],o("https://snap.licdn.com/li.lms-analytics/insight.min.js").then((function(){r.logger.info("Firing LinkedIn marketing pixel with configuration: ",e),window.lintrk("track",{conversion_id:n})})))):r.logger.error("LinkedIn partner ID or conversion ID missing:",e):r.logger.log("Non production. Unable to fire LinkedIn marketing pixel with settings:",e)}catch(e){r.logger.error("Failed in LinkedIn marketing pixel.",e)}}}},"marketing-hub/src/lib/actions/facebook.js":{name:"facebook",displayName:"Facebook",script:function(e,t,n,r){"use strict";var a=n("../../helpers/isMarketingAllowed"),o=n("../../helpers/toJsonValue");e.exports=function(e){try{r.logger.info("Start Facebook marketing pixel with configuration : ",e);var t=e.id,n=e.eventName,i=o(e.attributes),s=e.eventID;a()?t&&n?(function(e,t,n,r,a,o,i){e.fbq||(a=e.fbq=function(){a.callMethod?a.callMethod.apply(a,arguments):a.queue.push(arguments)},e._fbq||(e._fbq=a),a.push=a,a.loaded=!0,a.version="2.0",a.queue=[],(o=t.createElement(n)).async=!0,o.src=r,(i=t.getElementsByTagName(n)[0]).parentNode.insertBefore(o,i))}(window,document,"script","https://connect.facebook.net/en_US/fbevents.js"),fbq("set","autoConfig","false",t),fbq("init",t),fbq("track","PageView"),r.logger.info("Firing Facebook marketing pixel with configuration : ",e),fbq("trackCustom",n,i||{},s?{eventID:s}:{})):r.logger.error("Facebook id or event name missing:",e):r.logger.log("Non production. Unable to fire Facebook marketing pixel with settings:",e)}catch(e){r.logger.error("Failed in Facebook marketing pixel.",e)}}}},"marketing-hub/src/lib/actions/floodlight.js":{name:"floodlight",displayName:"FloodLight",script:function(e,t,n,r){"use strict";function a(e){return"true"===e.allowsCustomScripts}function o(e){if(e.sendToToLowerCase){var t=e.sendTo.split("/");return t[1]=t[1].toLowerCase(),t[2]=t[2].toLowerCase(),t.join("/")}return e.sendTo}function i(e){var t={allow_custom_scripts:a(e),send_to:o(e)},n=e.additionalPayload,r=c(n);if(void 0!==r)for(var i in r)void 0!==r[i]&&(t[i]=r[i]);return t}var s=n("../../helpers/isMarketingAllowed"),c=n("../../helpers/toJsonValue"),l=n("../../helpers/marketing/gtag/gtagLogic");e.exports=function(e){try{r.logger.info("Start Gtag Floodlight marketing pixel with configuration : ",e);var t=e.floodlight;if(t.id&&t.sendTo){l(t.id);var n=i(t);s()?(r.logger.log("Firing Gtag floodlight marketing pixel with configuration : ",t,n),gtag("config",t.id,{cookie_expires:31536e3}),gtag("event","conversion",n)):r.logger.log("Non production. Unable to fire Gtag floodlight marketing pixel with settings:",e,"and eventParams",n)}else r.logger.error("Gtag floodlight id or sendTo missing",e)}catch(e){r.logger.error("Failed in Gtag Floodlight marketing pixel",e)}}}},"marketing-hub/src/lib/actions/adwords.js":{name:"adwords",displayName:"AdWords",script:function(e,t,n,r){"use strict";var a=n("../../helpers/isMarketingAllowed"),o=n("../../helpers/marketing/gtag/gtagLogic");e.exports=function(e){try{r.logger.info("Start Gtag AdWords marketing pixel with configuration : ",e);var t=e.adwords;t.id&&t.conversion?(o(t.id),a()?(r.logger.info("Firing Gtag AdWords marketing pixel with configuration : ",t),gtag("config",t.id,{cookie_expires:31536e3}),gtag("event","conversion",{send_to:t.id+"/"+t.conversion})):r.logger.log("Non production. Unable to fire Gtag AdWords marketing pixel with settings:",e)):r.logger.error("Gtag AdWords id or conversion missing",e)}catch(e){r.logger.error("Failed in Gtag AdWords marketing pixel",e)}}}},"marketing-hub/src/lib/actions/pinterest.js":{name:"pinterest",displayName:"Pinterest",script:function(e,t,n,r){"use strict";var a=n("../../helpers/isMarketingAllowed"),o=n("../../helpers/toJsonValue");e.exports=function(e){try{r.logger.info("Start Pinterest marketing pixel with configuration : ",e);var t=e.id,n=e.eventName,i=o(e.attributes);a()?t&&n?(function(e){if(!window.pintrk){window.pintrk=function(){window.pintrk.queue.push(Array.prototype.slice.call(arguments))};var t=window.pintrk;t.queue=[],t.version="3.0";var n=document.createElement("script");n.async=!0,n.src=e;var r=document.getElementsByTagName("script")[0];r.parentNode.insertBefore(n,r)}}("https://s.pinimg.com/ct/core.js"),pintrk("load",t),pintrk("page"),r.logger.info("Firing Pinterest marketing pixel with configuration : ",e),pintrk("track",n,i||{})):r.logger.error("Pinterest id or event name missing:",e):r.logger.log("Non production. Unable to fire Pinterest marketing pixel with settings:",e)}catch(e){r.logger.error("Failed in Pinterest marketing pixel.",e)}}}},"marketing-hub/src/helpers/isMarketingAllowed.js":{script:function(e,t,n,r){"use strict";e.exports=function(){var e=r.environment.stage,t=localStorage.getItem("forceMarketing");return"production"==e||"yes"==t}}},"marketing-hub/src/helpers/toJsonValue.js":{script:function(e,t,n,r){e.exports=function(e){try{return void 0===e?e:"string"==typeof e?e?JSON.parse(e):"":e}catch(t){return r.logger.error("Failed in toJsonValue",t),e}}}},"marketing-hub/src/helpers/marketing/gtag/gtagLogic.js":{script:function(e,t,n,r){"use strict";var a=n("@adobe/reactor-load-script"),o=r.getSharedModule("natwest-core","set-object-property"),i=r.getSharedModule("natwest-core","get-object-property"),s="https://www.googletagmanager.com/gtag/js?id=",c=n("../../constants");window.gtag=function(){dataLayer.push(arguments)},window.dataLayer=window.dataLayer||[],e.exports=function(e){try{i(window,c.GTAG_INJECTED)?r.logger.log("Gtag library already injected, skipping"):(a(s+=e),gtag("js",new Date),gtag("set",{cookie_flags:"SameSite=None;Secure"}),o(c.GTAG_INJECTED,!0),r.logger.log("Gtag library injected"))}catch(e){r.logger.error("Failed to inject Gtag library",e)}}}},"marketing-hub/src/helpers/constants.js":{script:function(e){"use strict";e.exports={GTAG_INJECTED:"tagging.marketing.gtag.injected"}}}}},"common-analytics-plugins":{displayName:"Common Analytics Plugins",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EPb691af6ae5364085b2c253385a4dda8d/",settings:{ns:{id:"ns",obj:"window",desc:"The Numbers Suite is a series of plugins that allow for...<ol><li>zeroPad - a number of zeroes to the beginning of a number</li><li>randomNumber - generate a random number with a specific number of digits</li><li>twoDecimals - round a number to the closest hundreth (for currency)</li></ol><p>This plugin suite is depricated.</p>",name:"Numbers Suite",display:!0,doclink:"//docs.adobe.com/content/help/en/analytics/implementation/vars/plugins/numberssuite.html",version:"1.0",depricated:!0},pt:{id:"pt",obj:"tracker",desc:"Executes a function on a list of Adobe Analytics variables. For example, the following function will run the clearVars function three times, once using eVar1 as the argument, once using eVar4 as the argument, and once using eVar29 as the argument. The end result clear out the values of eVar1, eVar4 & eVar29. s.pt('eVar1,eVar4,eVar29', ',', 'clearVars');",name:"pt",display:!0,doclink:"//docs.adobe.com/content/help/en/analytics/implementation/vars/plugins/pt-plugin.html",version:"3.0",depricated:!1},apl:{id:"apl",obj:"tracker",desc:'Add new values to list-delimited variables (e.g. events, linkTrackVars, listVars, etc.). This plugin requires "inList" to be initialized as well.',name:"Append To List",display:!0,version:"4.0",depricated:!1},rfl:{id:"rfl",obj:"tracker",desc:"Remove values from list-delimited variables (e.g. s.events, s.linkTrackVars, listVars, etc.).",name:"Remove From List",display:!0,doclink:"//docs.adobe.com/content/help/en/analytics/implementation/vars/plugins/removefromlist.html",version:"2.1",depricated:!1},p_fo:{id:"fpo",obj:"tracker",desc:"Checks for the existence of a specific JavaScript object. If the object doesn't exist, the plugin creates the object and returns the value of true. This would be the first and only time the plugin would create this object on the current page (hence the name, pageFirstOnly). If the JavaScript object already exists on the page, the function will return the value of false.",name:"First Page Only",display:!0,doclink:"//docs.adobe.com/content/help/en/analytics/implementation/vars/plugins/p-fo.html",version:"3.0",depricated:!1},inList:{id:"il",obj:"tracker",desc:"Check whether a value already exists within either a delimited list of values or a JavaScript array object.",name:"In List",display:!0,version:"3.0",depricated:!1},zeroPad:{display:!1,version:"1.0",depricated:!0},cleanStr:{id:"cs",obj:"window",desc:"Remove unnecessary characters from a string (or string variable), including HTML tag characters, Extra whitespaces (including double spaces), Left/right single quotes (\u2018\u2019) (replaced with straight single quotes), Tabs, Newlines/Carriage Returns. ",name:"Clean String",display:!0,version:"2.0",depricated:!1},formatTime:{id:"ft",obj:"tracker",desc:'Take a specified number of seconds and present them in a bucketed format, rounded to a benchmark value that you specify. The "inList" plugin is required by this plugin. This plugin requires "inList" to be initialized as well.',name:"Format Time",display:!0,version:"2.0",depricated:!1},getValOnce:{id:"gvo",obj:"tracker",desc:"Prevents a variable from being set equal to the same value on consecutive calls.",name:"Value Once",display:!0,version:"3.0",depricated:!1},manageVars:{id:"mv",obj:"tracker",desc:"Manipulate the values of multiple Adobe Analytics variables at one time; this version includes specific functionality to lowercase or remove unnecessary characters from multiple variable values at the same time.",name:"Manage Variables",display:!0,version:"3.0",depricated:!1},getPageName:{id:"gpn",obj:"window",desc:'Creates a value that can be inserted into the Adobe Analytics pageName variable and that is an easy-to-read, "friendly"-formatted version of the current URL.',name:"Page Name",display:!0,version:"4.2",depricated:!1,dataElement:!0},getVisitNum:{id:"gvn",obj:"tracker",desc:'Visit number for all visitors that come to the site within a specific time period (e.g. "x" number of days).',name:"Visit Number",display:!0,version:"4.2",depricated:!1,dataElement:!0},twoDecimals:{display:!1,version:"1.0",depricated:!0},getNewRepeat:{id:"gnr",obj:"tracker",desc:"Determines whether a visitor to the site is a new visitor or a repeat visitor within the number of days that is specified in the plugin call.",name:"New Repeat",display:!0,version:"3.0",depricated:!1,dataElement:!0},randomNumber:{display:!1,version:"1.0",depricated:!0},getQueryParam:{id:"gqp",obj:"tracker",desc:'Case-insensitively extract the value of any query string parameter contained in a URL. This plugin requires "pt" to be initialized as well.',name:"Query Parameter",display:!0,version:"4.0.1",depricated:!1},lowerCaseVars:{display:!1,version:"1.0",depricated:!1},addProductEvar:{id:"apv",obj:"tracker",desc:"Easily add an Adobe Analytics merchandising eVar that uses product syntax to the products variable (s.products) without worrying whether the already-existing contents of the variable will be changed/moved/deleted.",name:"Add Product eVar",display:!0,version:"2.0",depricated:!1},getTimeParting:{id:"gtp",obj:"window",desc:"Capture the details of the time when any measurable activity takes place on its site.",name:"Time Parting",display:!0,version:"6.3",depricated:!1,dataElement:!0},addProductEvent:{id:"ape",obj:"tracker",desc:"Easily add an Adobe Analytics custom numeric event or custom currency event to the products variable (s.products) without worrying whether the already-existing contents of the variable will be changed/moved/deleted.",name:"Add Product Event",display:!0,version:"2.0",depricated:!1},endOfDatePeriod:{id:"eodp",display:!1,version:"1.2",depricated:!1},getPageLoadTime:{id:"gplt",obj:"tracker",desc:'Uses the JavaScript performance object to allow you to measure the amount of time a page takes to load completely. This plugin requires "p_fo" to be initialized as well.',name:"Page Load Time",display:!0,version:"2.0",depricated:!1},handlePPVevents:{display:!1,version:"4.0",depricated:!1},getPreviousValue:{id:"gpv",obj:"tracker",desc:'Set an Analytics variable equal to the value of a variable that was set on a previous page or contained in a previous image request. This plugin requires "p_fo" to be initialized as well.',name:"Previous Value",display:!0,version:"3.0",depricated:!1},
getVisitDuration:{id:"gvd",obj:"tracker",desc:"Amount of time (in minutes) that the visitor has been on the site up to that point.",name:"Visit Duration",display:!0,version:"2.1",depricated:!1,dataElement:!0},performanceCheck:{display:!1,version:"1.0",depricated:!1},getGeoCoordinates:{id:"ggc",obj:"tracker",desc:"Returns the geographic location (latitude and longitude) of the visitors device.",name:"Geographic Coordinates",display:!0,version:"2.0",depricated:!1,dataElement:!0},getTimeToComplete:{id:"gttc",obj:"tracker",desc:'Time a user takes to complete a process on a site. The "clock" begins when the "start" action is called and ends when the "stop" action is called. This plugin requires "pt" to be initialized as well.',name:"Time To Complete",display:!0,version:"4.0",depricated:!1},getAndPersistValue:{id:"gapv",obj:"tracker",desc:"Stores a value in a cookie that can be retrieved later during a visit.",name:"Persist Value",display:!0,version:"3.0",depricated:!1},getResponsiveLayout:{id:"grl",obj:"window",desc:"Which version of your responsive design-based website a visitor is currently looking at.",name:"Responsive Layout",display:!0,version:"1.1",depricated:!1,dataElement:!0},getPercentPageViewed:{id:"gppv",obj:"tracker",desc:"Measures a visitor's scroll activity to see how much of the page they viewed before moving to another page.",name:"Percent Page Viewed",display:!0,version:"5.0",depricated:!1},getTimeBetweenEvents:{id:"gtbe",obj:"tracker",desc:'Amount of time between two different Adobe Analytics events (custom or otherwise). This plugin requires "inList" to be initialized as well.',name:"Time Between Events",display:!0,version:"3.0",depricated:!1},performanceWriteFull:{display:!1,version:"1.0",depricated:!1},performanceWritePart:{display:!1,version:"1.0",depricated:!1},getDaysSinceLastVisit:{id:"gdslv",obj:"tracker",desc:"Returns the number of days since the visitor's last (most recent) visit. This plugin is deprecated. Adobe recommends using the getTimeSinceLastVisit plugin instead.",name:"Days Since Last Visit",display:!0,doclink:"//docs.adobe.com/content/help/en/analytics/implementation/vars/plugins/gettimesincelastvisit.html",version:"3.0",depricated:!0},getTimeSinceLastVisit:{id:"gtslv",obj:"tracker",desc:"Returns the time since the visitor's last (most recent) visit.",name:"Time Since Last Visit",display:!0,version:"2.0",depricated:!1}},modules:{"common-analytics-plugins/src/lib/actions/initializeApl.js":{name:"initialize-apl",displayName:"Initialize APL (Append To List)",script:function(e,t,n){"use strict";n("./common").init("apl","analytics"),n("./common").init("inList","analytics"),e.exports=function(){}}},"common-analytics-plugins/src/lib/main-module.js":{script:function(e,t,n,r){"use strict";r.getSharedModule("adobe-analytics","get-tracker")||r.logger.error('The "Adobe Analytics" extension must be installed in the Launch web property ('+_satellite.property.name+') in order to use the "Common Analytics Plugins" extension'),r.getSharedModule("adobe-analytics","augment-tracker")((function(e){if("object"==typeof e.contextData&&"object"==typeof window.aaPlugins)for(var t in window.aaPlugins)e.contextData[t]=window.aaPlugins[t]}))}},"common-analytics-plugins/src/lib/actions/common.js":{script:function(e,t,n,r){"use strict";var a=function(e,t){return"analytics"===e||void 0===e?t:"window"===e?window:null},o=function(e,t,r){t[e]=n("../plugins/allPlugins")[e];var a=r.contextData||{},o=i(e,t);"n/a"===o.version&&(o=s(e)),a[e]=o.version},i=function(e,t){var n,r={plugin:e,version:"n/a"};try{n=t[e]("-v")}catch(e){n={}}try{("string"!=typeof n.plugin||n.plugin.length<1)&&(n=r)}catch(e){n=r}return n},s=function(e){var t=r.getExtensionSettings(),n={plugin:e,version:"n/a"};try{n.version=t[e].version}catch(e){n.version="n/a"}return n};e.exports.init=function(e,t){r.getSharedModule("adobe-analytics","augment-tracker")((function(n){n&&(t=a(t,n),e&&t&&o(e,t,n))}))},e.exports.initMany=function(e){var t;r.getSharedModule("adobe-analytics","augment-tracker")((function(n){if(n)for(var r=0;r<e.length;r++)t=a(e[r].obj,n),e[r].pname&&t&&o(e[r].pname,t,n)}))}}},"common-analytics-plugins/src/lib/plugins/allPlugins.js":{script:function(e,t,n){e.exports.addProductEvar=n("./addProductEvar").addProductEvar,e.exports.addProductEvent=n("./addProductEvent").addProductEvent,e.exports.apl=n("./apl").apl,e.exports.cleanStr=n("./cleanStr").cleanStr,e.exports.endOfDatePeriod=n("./endOfDatePeriod").endOfDatePeriod,e.exports.formatTime=n("./formatTime").formatTime,e.exports.getAndPersistValue=n("./getAndPersistValue").getAndPersistValue,e.exports.getDaysSinceLastVisit=n("./getDaysSinceLastVisit").getDaysSinceLastVisit,e.exports.getGeoCoordinates=n("./getGeoCoordinates").getGeoCoordinates,e.exports.getNewRepeat=n("./getNewRepeat").getNewRepeat,e.exports.getPageLoadTime=n("./getPageLoadTime").getPageLoadTime,e.exports.getPageName=n("./getPageName").getPageName,e.exports.getPreviousValue=n("./getPreviousValue").getPreviousValue,e.exports.getQueryParam=n("./getQueryParam").getQueryParam,e.exports.getResponsiveLayout=n("./getResponsiveLayout").getResponsiveLayout,e.exports.getTimeBetweenEvents=n("./getTimeBetweenEvents").getTimeBetweenEvents,e.exports.getTimeParting=n("./getTimeParting").getTimeParting,e.exports.getTimeSinceLastVisit=n("./getTimeSinceLastVisit").getTimeSinceLastVisit,e.exports.getTimeToComplete=n("./getTimeToComplete").getTimeToComplete,e.exports.getValOnce=n("./getValOnce").getValOnce,e.exports.getVisitDuration=n("./getVisitDuration").getVisitDuration,e.exports.getVisitNum=n("./getVisitNum").getVisitNum,e.exports.inList=n("./inList").inList,e.exports.lowerCaseVars=n("./lowerCaseVars").lowerCaseVars,e.exports.manageVars=n("./manageVars").manageVars,e.exports.p_fo=n("./p_fo").p_fo,e.exports.performanceCheck=n("./performanceCheck").performanceCheck,e.exports.performanceWriteFull=n("./performanceWriteFull").performanceWriteFull,e.exports.performanceWritePart=n("./performanceWritePart").performanceWritePart,e.exports.handlePPVevents=n("./handlePPVevents").handlePPVevents,e.exports.getPercentPageViewed=n("./getPercentPageViewed").getPercentPageViewed,e.exports.pt=n("./pt").pt,e.exports.rfl=n("./rfl").rfl,e.exports.twoDecimals=n("./twoDecimals").twoDecimals,e.exports.zeroPad=n("./zeroPad").zeroPad,e.exports.randomNumber=n("./randomNumber").randomNumber}},"common-analytics-plugins/src/lib/plugins/addProductEvar.js":{script:function(e){function t(e,t,n){var r=e,a=t,o=n;if("-v"===r)return{plugin:"addProductEvar",version:"2.0"};e:{if(void 0!==window.s_c_il)for(var i,s=0;s<window.s_c_il.length;s++)if((i=window.s_c_il[s])._c&&"s_c"===i._c){s=i;break e}s=void 0}if(void 0!==s&&(s.contextData.addProductEvar="2.0","string"==typeof r&&"string"==typeof a&&""!==a))if(o=o||!1,s.products){var c,l=(i=s.products.split(",")).length;for(o=o?0:l-1;o<l;o++)(c=i[o].split(";"))[5]&&-1<c[5].toLowerCase().indexOf("evar")?c[5]=c[5]+"|"+r+"="+a:c[5]?c[5]=r+"="+a:c[5]||(c[4]||(c[4]=""),c[3]||(c[3]=""),c[2]||(c[2]=""),c[1]||(c[1]=""),c[5]=r+"="+a),i[o]=c.join(";");s.products=i.join(",")}else s.products=";;;;;"+r+"="+a}e.exports.addProductEvar=t}},"common-analytics-plugins/src/lib/plugins/addProductEvent.js":{script:function(e){function t(e,t,n){var r=e,o=t,i=n;if("-v"===r)return{plugin:"addProductEvent",version:"2.0"};var s=function(){if(void 0!==window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}();if(void 0!==s&&(s.contextData.addProductEvent="2.0",window.apl=window.apl||function(e,t,n,r,o){function i(e,t,n,r){if("string"!=typeof t)return!1;if("string"==typeof e)e=e.split(n||",");else if("object"!=typeof e)return!1;for(n=0,a=e.length;n<a;n++)if(1==r&&t===e[n]||t.toLowerCase()===e[n].toLowerCase())return!0;return!1}if(!e||"string"==typeof e){if("string"!=typeof t||""===t)return e;n=n||",",1==(r=r||n)&&(r=n,o||(o=1)),2==r&&1!=o&&(r=n),t=t.split(","),k=t.length;for(var s=0;s<k;s++)i(e,t[s],n,o)||(e=e?e+r+t[s]:t[s])}return e},"string"==typeof r))if(o=isNaN(o)?"1":String(o),i=i||!1,s.events=window.apl(s.events,r),s.products){var c,l=s.products.split(","),u=l.length;for(i=i?0:u-1;i<u;i++)(c=l[i].split(";"))[4]&&-1<c[4].indexOf("event")?c[4]=c[4]+"|"+r+"="+o:c[5]?c[4]=r+"="+o:c[4]||(c[3]||(c[3]=""),c[2]||(c[2]=""),c[1]||(c[1]=""),c[4]=r+"="+o),l[i]=c.join(";");s.products=l.join(",")}else s.products=";;;;"+r+"="+o}e.exports.addProductEvent=t}},"common-analytics-plugins/src/lib/plugins/apl.js":{script:function(e){function t(e,t,n,r,o){var i=e,s=t,c=n,l=r,u=o;if("-v"===i)return{plugin:"apl",version:"4.0"};var d=function(){if(void 0!==window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}();if(void 0!==d&&(d.contextData.apl="4.0"),window.inList=window.inList||function(e,t,n,r){if("string"!=typeof t)return!1;if("string"==typeof e)e=e.split(n||",");else if("object"!=typeof e)return!1;for(n=0,a=e.length;n<a;n++)if(1==r&&t===e[n]||t.toLowerCase()===e[n].toLowerCase())return!0;return!1},!i||"string"==typeof i){if("string"!=typeof s||""===s)return i;c=c||",",1==(l=l||c)&&(l=c,u||(u=1)),2==l&&1!=u&&(l=c),d=(s=s.split(",")).length;for(var g=0;g<d;g++)window.inList(i,s[g],c,u)||(i=i?i+l+s[g]:s[g])}return i}e.exports.apl=t}},"common-analytics-plugins/src/lib/plugins/cleanStr.js":{script:function(e){function t(e){var t=e;if("-v"===t)return{plugin:"cleanStr",version:"2.0"};e:{if(void 0!==window.s_c_il)for(var n,r=0;r<window.s_c_il.length;r++)if((n=window.s_c_il[r])._c&&"s_c"===n._c){r=n;break e}r=void 0}if(void 0!==r&&(r.contextData.cleanStr="2.0"),"string"==typeof t){for(t=(t=(t=(t=(t=t.replace(/<\/?[^>]+(>|$)/g,"")).trim()).replace(/[\u2018\u2019\u201A]/g,"'")).replace(/\t+/g,"")).replace(/[\n\r]/g," ");-1<t.indexOf("  ");)t=t.replace(/\s\s/g," ");return t}return""}e.exports.cleanStr=t}},"common-analytics-plugins/src/lib/plugins/endOfDatePeriod.js":{script:function(e){function t(e){var t=e;if("-v"===t)return{plugin:"endOfDatePeriod",version:"1.2"};var n=function(){if(void 0!==window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}();void 0!==n&&(n.contextData.endOfDatePeriod="1.2"),n=new Date;var r=isNaN(t)?0:Math.floor(t),a=function(e,t){return new Date(t||1970,e||1,0).getDate()};return n.setHours(23),n.setMinutes(59),n.setSeconds(59),"w"===t&&(r=6-n.getDay()),"m"===t&&(r=a(n.getMonth()+1,n.getFullYear())-n.getDate()),n.setDate(n.getDate()+r),"y"===t&&(n.setMonth(11),n.setDate(31)),n}e.exports.endOfDatePeriod=t}},"common-analytics-plugins/src/lib/plugins/formatTime.js":{script:function(e){function t(e,t,n){function r(e,t,n,r){if("string"!=typeof t)return!1;if("string"==typeof e)e=e.split(n||",");else if("object"!=typeof e)return!1;for(n=0,a=e.length;n<a;n++)if(1==r&&t===e[n]||t.toLowerCase()===e[n].toLowerCase())return!0;return!1}var o=e,i=t,s=n;if(arguments&&"-v"===arguments[0])return{plugin:"formatTime",version:"2.0"};var c=function(){if(void 0!==window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}();if(void 0!==c&&(c.contextData.formatTime="2.0"),!(void 0===o||isNaN(o)||0>Number(o))){if(c="","string"==typeof i&&"d"===i||("string"!=typeof i||!r("h,m,s",i))&&86400<=o){var l=86400,u="days";c=isNaN(s)?1:l/(s*l)}else"string"==typeof i&&"h"===i||("string"!=typeof i||!r("m,s",i))&&3600<=o?(l=3600,u="hours",c=isNaN(s)?4:l/(s*l)):"string"==typeof i&&"m"===i||("string"!=typeof i||!r("s",i))&&60<=o?(l=60,u="minutes",c=isNaN(s)?2:l/(s*l)):(l=1,u="seconds",c=isNaN(s)?.2:l/s);return 0===(c=Math.round(o*c/l)/c+" "+u).indexOf("1 ")&&(c=c.substring(0,c.length-1)),c}}e.exports.formatTime=t}},"common-analytics-plugins/src/lib/plugins/getAndPersistValue.js":{script:function(e){function t(e,t,n){var r=e,a=t,o=n;if(void 0!==r&&"-v"===r)return{plugin:"getAndPersistValue",version:"3.0"};var i=function(){if(void 0!==window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}();return void 0!==i&&(i.contextData.getAndPersistValue="3.0"),window.cookieWrite=window.cookieWrite||function(e,t,n){if("string"==typeof e){var r=window.location.hostname,a=window.location.hostname.split(".").length-1;if(r&&!/^[0-9.]+$/.test(r)){a=2<a?a:2;var o=r.lastIndexOf(".");if(0<=o){for(;0<=o&&1<a;)o=r.lastIndexOf(".",o-1),a--;o=0<o?r.substring(o):r}}if(g=o,t=void 0!==t?""+t:"",n||""===t)if(""===t&&(n=-60),"number"==typeof n){var i=new Date;i.setTime(i.getTime()+6e4*n)}else i=n;return!(!e||(document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; path=/;"+(n?" expires="+i.toUTCString()+";":"")+(g?" domain="+g+";":""),"undefined"==typeof cookieRead))&&cookieRead(e)===t}},window.cookieRead=window.cookieRead||function(e){if("string"!=typeof e)return"";e=encodeURIComponent(e);var t=" "+document.cookie,n=t.indexOf(" "+e+"="),r=0>n?n:t.indexOf(";",n);return(e=0>n?"":decodeURIComponent(t.substring(n+2+e.length,0>r?t.length:r)))?e:""},i=new Date,a=a||"s_gapv",(o=o||0)?i.setTime(i.getTime()+864e5*o):i.setTime(i.getTime()+18e5),void 0!==r&&r||(r=cookieRead(a)),cookieWrite(a,r,i),r}e.exports.getAndPersistValue=t}},"common-analytics-plugins/src/lib/plugins/getDaysSinceLastVisit.js":{script:function(e){function t(){var e=new Date,t=e.getTime(),n=this.c_r("s_dslv");if(e.setTime(t+94608e6),this.c_w("s_dslv",t,e),n){if(18e5<(e=t-n)){if(31536e6<e)return"More than a year";if(2592e6<e)return"More than 30 days";if(e<2592000001&&6048e5<e)return"More than 7 days";if(e<604800001&&864e5<e)return"Less than 7 days";if(e<86400001)return"Less than 1 day"}return""}return"New Visitor"}e.exports.getDaysSinceLastVisit=t}},"common-analytics-plugins/src/lib/plugins/getGeoCoordinates.js":{script:function(e){function t(){if(arguments&&"-v"===arguments[0])return{plugin:"getGeoCoordinates",version:"2.0"};var e=function(){if(void 0!==window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}();void 0!==e&&(e.contextData.getGeoCoordinates="2.0"),window.cookieWrite=window.cookieWrite||function(e,t,n){if("string"==typeof e){var r=window.location.hostname,a=window.location.hostname.split(".").length-1;if(r&&!/^[0-9.]+$/.test(r)){a=2<a?a:2;var o=r.lastIndexOf(".");if(0<=o){for(;0<=o&&1<a;)o=r.lastIndexOf(".",o-1),a--;o=0<o?r.substring(o):r}}if(g=o,t=void 0!==t?""+t:"",n||""===t)if(""===t&&(n=-60),"number"==typeof n){var i=new Date;i.setTime(i.getTime()+6e4*n)}else i=n;return!(!e||(document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; path=/;"+(n?" expires="+i.toUTCString()+";":"")+(g?" domain="+g+";":""),"undefined"==typeof cookieRead))&&cookieRead(e)===t}},window.cookieRead=window.cookieRead||function(e){if("string"!=typeof e)return"";e=encodeURIComponent(e);var t=" "+document.cookie,n=t.indexOf(" "+e+"="),r=0>n?n:t.indexOf(";",n);return(e=0>n?"":decodeURIComponent(t.substring(n+2+e.length,0>r?t.length:r)))?e:""};var t="",n={timeout:5e3,maximumAge:0},r=function(e){e=e.coords,cookieWrite("s_ggc",parseFloat(e.latitude.toFixed(4))+"|"+parseFloat(e.longitude.toFixed(4)),30),t="latitude="+parseFloat(e.latitude.toFixed(4))+" | longitude="+parseFloat(e.longitude.toFixed(4))},a=function(){t="error retrieving geo coordinates"};return 1<(e=cookieRead("s_ggc").split("|")).length&&(t="latitude="+e[0]+" | longitude="+e[1]),navigator.geolocation&&navigator.geolocation.getCurrentPosition(r,a,n),""===t&&(t="geo coordinates not available"),t}e.exports.getGeoCoordinates=t}},"common-analytics-plugins/src/lib/plugins/getNewRepeat.js":{script:function(e){function t(e){var t=e;if("-v"===t)return{plugin:"getNewRepeat",version:"3.0"};void 0!==(e=function(){if(void 0!==window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}())&&(e.contextData.getNewRepeat="3.0"),window.cookieWrite=window.cookieWrite||function(e,t,n){if("string"==typeof e){var r=window.location.hostname,a=window.location.hostname.split(".").length-1;if(r&&!/^[0-9.]+$/.test(r)){a=2<a?a:2;var o=r.lastIndexOf(".");if(0<=o){for(;0<=o&&1<a;)o=r.lastIndexOf(".",o-1),a--;o=0<o?r.substring(o):r}}if(g=o,t=void 0!==t?""+t:"",n||""===t)if(""===t&&(n=-60),"number"==typeof n){var i=new Date;i.setTime(i.getTime()+6e4*n)}else i=n;return!(!e||(document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; path=/;"+(n?" expires="+i.toUTCString()+";":"")+(g?" domain="+g+";":""),"undefined"==typeof cookieRead))&&cookieRead(e)===t}},window.cookieRead=window.cookieRead||function(e){if("string"!=typeof e)return"";e=encodeURIComponent(e);var t=" "+document.cookie,n=t.indexOf(" "+e+"="),r=0>n?n:t.indexOf(";",n);return(e=0>n?"":decodeURIComponent(t.substring(n+2+e.length,0>r?t.length:r)))?e:""},e="s_nr"+(t=t||30);var n=new Date,r=cookieRead(e),a=r.split("-"),o=n.getTime();return n.setTime(o+864e5*t),""===r||18e5>o-a[0]&&"New"===a[1]?(cookieWrite(e,o+"-New",n),"New"):(cookieWrite(e,o+"-Repeat",n),"Repeat")}e.exports.getNewRepeat=t}},"common-analytics-plugins/src/lib/plugins/getPageLoadTime.js":{script:function(e){function t(){function e(){var e=performance.timing;if(0<e.loadEventEnd&&(clearInterval(window.pi),""===window.cookieRead("s_plt"))){var t=window,n=t.cookieWrite,r=e.loadEventEnd,a=e.navigationStart;r=0<=r&&0<=a?6e4>r-a&&0<=r-a?parseFloat((r-a)/1e3).toFixed(2):60:void 0,n.call(t,"s_plt",r),window.cookieWrite("s_pltp",window.pageName)}window.ptc=e.loadEventEnd}if(arguments&&"-v"===arguments[0])return{plugin:"getPageLoadTime",version:"2.0.1"};var t=function(){if(void 0!==window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}();void 0!==t&&(t.contextData.getPageLoadTime="2.0.1"),window.pageName=void 0!==t&&t.pageName||"",window.cookieWrite=window.cookieWrite||function(e,t,n){if("string"==typeof e){var r=window.location.hostname,a=window.location.hostname.split(".").length-1;if(r&&!/^[0-9.]+$/.test(r)){a=2<a?a:2;var o=r.lastIndexOf(".");if(0<=o){for(;0<=o&&1<a;)o=r.lastIndexOf(".",o-1),a--;o=0<o?r.substring(o):r}}if(g=o,t=void 0!==t?""+t:"",n||""===t)if(""===t&&(n=-60),"number"==typeof n){var i=new Date;i.setTime(i.getTime()+6e4*n)}else i=n;return!(!e||(document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; path=/;"+(n?" expires="+i.toUTCString()+";":"")+(g?" domain="+g+";":""),"undefined"==typeof cookieRead))&&cookieRead(e)===t}},window.cookieRead=window.cookieRead||function(e){if("string"!=typeof e)return"";e=encodeURIComponent(e);var t=" "+document.cookie,n=t.indexOf(" "+e+"="),r=0>n?n:t.indexOf(";",n);return(e=0>n?"":decodeURIComponent(t.substring(n+2+e.length,0>r?t.length:r)))?e:""},window.p_fo=window.p_fo||function(e){return window.__fo||(window.__fo={}),!window.__fo[e]&&(window.__fo[e]={},!0)},"undefined"!=typeof performance&&p_fo("performance")&&((t=performance).clearResourceTimings(),""!==window.cookieRead("s_plt")&&(0<t.timing.loadEventEnd&&clearInterval(window.pi),this._pltLoadTime=window.cookieRead("s_plt"),this._pltPreviousPage=window.cookieRead("s_pltp"),window.cookieWrite("s_plt",""),window.cookieWrite("s_pltp","")),0===t.timing.loadEventEnd?window.pi=setInterval((function(){e()}),250):0<t.timing.loadEventEnd&&(window.ptc?window.ptc===t.timing.loadEventEnd&&1===t.getEntries().length&&(window.pwp=setInterval((function(){var e=performance;0<e.getEntries().length&&(window.ppfe===e.getEntries().length?clearInterval(window.pwp):window.ppfe=e.getEntries().length),""===window.cookieRead("s_plt")&&(window.cookieWrite("s_plt",((e.getEntries()[e.getEntries().length-1].responseEnd-e.getEntries()[0].startTime)/1e3).toFixed(2)),window.cookieWrite("s_pltp",window.pageName))}),500)):e()))}e.exports.getPageLoadTime=t}},"common-analytics-plugins/src/lib/plugins/getPageName.js":{script:function(e){var t=function(e,t,n,r){var a=e,o=t,i=n,s=r;if("-v"===a)return{plugin:"getPageName",version:"4.2"};e:{if(void 0!==window.s_c_il)for(var c,l=0;l<window.s_c_il.length;l++)if((c=window.s_c_il[l])._c&&"s_c"===c._c){l=c;break e}l=void 0}void 0!==l&&(l.contextData.getPageName="4.2");var u=location.hostname,d=location.pathname.substring(1).split("/"),g=d.length,p=location.search.substring(1).split("&"),m=p.length;if(c=(l=location.hash.substring(1).split("&")).length,s=s||"|",a=a||u,o=o||"",i=i||"",1===g&&""===d[0])a=a+s+"home";else for(u=0;u<g;u++)a=a+s+decodeURIComponent(d[u]);if(o&&(1!==m||""!==p[0]))for(g=(d=o.split(",")).length,u=0;u<g;u++)for(o=0;o<m;o++)if(d[u]===p[o].split("=")[0]){a=a+s+decodeURIComponent(p[o]);break}if(i&&(1!==c||""!==l[0]))for(p=(i=i.split(",")).length,u=0;u<p;u++)for(o=0;o<c;o++)if(i[u]===l[o].split("=")[0]){a=a+s+decodeURIComponent(l[o]);break}return a.substring(a.length-s.length)===s?a.substring(0,a.length-s.length):a};e.exports.getPageName=t}},"common-analytics-plugins/src/lib/plugins/getPreviousValue.js":{script:function(e){function t(e,t){var n=e,r=t;if("-v"===n)return{plugin:"getPreviousValue",version:"3.0"};var a,o=function(){if(void 0!==window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}();return void 0!==o&&(o.contextData.getPreviousValue="3.0"),window.cookieWrite=window.cookieWrite||function(e,t,n){if("string"==typeof e){var r=window.location.hostname,a=window.location.hostname.split(".").length-1;if(r&&!/^[0-9.]+$/.test(r)){a=2<a?a:2;var o=r.lastIndexOf(".");if(0<=o){for(;0<=o&&1<a;)o=r.lastIndexOf(".",o-1),a--;o=0<o?r.substring(o):r}}if(g=o,t=void 0!==t?""+t:"",n||""===t)if(""===t&&(n=-60),"number"==typeof n){var i=new Date;i.setTime(i.getTime()+6e4*n)}else i=n;return!(!e||(document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; path=/;"+(n?" expires="+i.toUTCString()+";":"")+(g?" domain="+g+";":""),"undefined"==typeof cookieRead))&&cookieRead(e)===t}},window.cookieRead=window.cookieRead||function(e){if("string"!=typeof e)return"";e=encodeURIComponent(e);var t=" "+document.cookie,n=t.indexOf(" "+e+"="),r=0>n?n:t.indexOf(";",n);return(e=0>n?"":decodeURIComponent(t.substring(n+2+e.length,0>r?t.length:r)))?e:""},r=r||"s_gpv",(o=new Date).setTime(o.getTime()+18e5),window.cookieRead(r)&&(a=window.cookieRead(r)),n?window.cookieWrite(r,n,o):window.cookieWrite(r,a,o),a}e.exports.getPreviousValue=t}},"common-analytics-plugins/src/lib/plugins/getQueryParam.js":{script:function(e){function t(e,t,n){function r(e,t){var n=(t=(t=t.split("?").join("&")).split("#").join("&")).indexOf("&");if(e&&(-1<n||t.indexOf("=")>n))for(var r=0,a=(n=(n=t.substring(n+1)).split("&")).length;r<a;r++){var o=n[r].split("="),i=o[1];if(o[0].toLowerCase()===e.toLowerCase())return decodeURIComponent(i||!0)}return""}if("-v"===e)return{plugin:"getQueryParam",version:"4.0.1"};var a=function(){if(void 0!==window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}();if(void 0!==a&&(a.contextData.getQueryParam="4.0"),e){t=t||"",n=(n||void 0!==a&&a.pageURL||location.href)+"",(4<t.length||-1<t.indexOf("="))&&n&&4>n.length&&(a=t,t=n,n=a),a="";for(var o=e.split(","),i=o.length,s=0;s<i;s++)"string"==typeof(e=r(o[s],n))?(e=-1<e.indexOf("#")?e.substring(0,e.indexOf("#")):e,a+=a?t+e:e):a=""===a?e:a+(t+e);return a}}e.exports.getQueryParam=t}},"common-analytics-plugins/src/lib/plugins/getResponsiveLayout.js":{script:function(e){var t=function(e,t,n){var r=e,a=t,o=n;if("-v"===r)return{plugin:"getResponsiveLayout",version:"1.1"};e:{if(void 0!==window.s_c_il)for(var i,s=0;s<window.s_c_il.length;s++)if((i=window.s_c_il[s])._c&&"s_c"===i._c){s=i;break e}s=void 0}return void 0!==s&&(s.contextData.getResponsiveLayout="1.1"),isNaN(r)||isNaN(a)||isNaN(o)||a<r||o<a?void 0:(s=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,(r<a&&s<=a?s<=r?"phone portrait layout":"phone landscape layout":s<=a?"phone layout":s<=o?"tablet layout":"desktop layout")+":"+s+"x"+(window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight))};e.exports.getResponsiveLayout=t}},"common-analytics-plugins/src/lib/plugins/getTimeBetweenEvents.js":{script:function(e){function t(e,t,n,r,o,i,s,c,l){var u=e,d=t,p=n,m=r,f=o,v=i,h=s,b=c,C=l;if("-v"===u)return{plugin:"getTimeBetweenEvents",version:"3.0"};var E=function(){if(void 0!==window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}();if(void 0!==E&&(E.contextData.getTimeBetweenEvents="3.0",window.cookieWrite=window.cookieWrite||function(e,t,n){if("string"==typeof e){var r=window.location.hostname,a=window.location.hostname.split(".").length-1;if(r&&!/^[0-9.]+$/.test(r)){a=2<a?a:2;var o=r.lastIndexOf(".");if(0<=o){for(;0<=o&&1<a;)o=r.lastIndexOf(".",o-1),a--;o=0<o?r.substring(o):r}}if(g=o,t=void 0!==t?""+t:"",n||""===t)if(""===t&&(n=-60),"number"==typeof n){var i=new Date;i.setTime(i.getTime()+6e4*n)}else i=n;return!(!e||(document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; path=/;"+(n?" expires="+i.toUTCString()+";":"")+(g?" domain="+g+";":""),void 0===window.cookieRead))&&window.cookieRead(e)===t}},window.cookieRead=window.cookieRead||function(e){if("string"!=typeof e)return"";e=encodeURIComponent(e);var t=" "+document.cookie,n=t.indexOf(" "+e+"="),r=0>n?n:t.indexOf(";",n);return(e=0>n?"":decodeURIComponent(t.substring(n+2+e.length,0>r?t.length:r)))?e:""},window.formatTime=window.formatTime||function(e,t,n){function r(e,t,n,r){if("string"!=typeof t)return!1;if("string"==typeof e)e=e.split(n||",");else if("object"!=typeof e)return!1;for(n=0,a=e.length;n<a;n++)if(1==r&&t===e[n]||t.toLowerCase()===e[n].toLowerCase())return!0;return!1}if(!(void 0===e||isNaN(e)||0>Number(e))){var o="";return"string"==typeof t&&"d"===t||("string"!=typeof t||!r("h,m,s",t))&&86400<=e?(t=86400,o="days",n=isNaN(n)?1:t/(n*t)):"string"==typeof t&&"h"===t||("string"!=typeof t||!r("m,s",t))&&3600<=e?(t=3600,o="hours",n=isNaN(n)?4:t/(n*t)):"string"==typeof t&&"m"===t||("string"!=typeof t||!r("s",t))&&60<=e?(t=60,o="minutes",n=isNaN(n)?2:t/(n*t)):(t=1,o="seconds",n=isNaN(n)?.2:t/n),0===(o=Math.round(e*n/t)/n+" "+o).indexOf("1 ")&&(o=o.substring(0,o.length-1)),o}},window.inList=window.inList||function(e,t,n,r){if("string"!=typeof t)return!1;if("string"==typeof e)e=e.split(n||",");else if("object"!=typeof e)return!1;for(n=0,a=e.length;n<a;n++)if(1==r&&t===e[n]||t.toLowerCase()===e[n].toLowerCase())return!0;return!1},"string"==typeof u&&void 0!==d&&"string"==typeof p&&void 0!==m)){f=f||"s_tbe",v=isNaN(v)?1:Number(v);var y=!1,S=!1,T=u.split(","),A=p.split(",");C=C?C.split(","):[];for(var _,N=window.cookieRead(f),P=new Date,I=P.getTime(),w=new Date,R=0;R<C.length;++R)if(window.inList(E.events,C[R]))return w.setDate(w.getDate()-1),void window.cookieWrite(f,"",w);for(w.setTime(w.getTime()+864e5*v),R=0;R<T.length&&!y&&!0!==(y=window.inList(E.events,T[R]));++R);for(R=0;R<A.length&&!S&&!0!==(S=window.inList(E.events,A[R]));++R);return 1===T.length&&1===A.length&&u===p&&y&&S?(N&&(_=(I-N)/1e3),window.cookieWrite(f,I,v?w:0)):(!y||1!=d&&N||window.cookieWrite(f,I,v?w:0),S&&N&&(_=(P.getTime()-N)/1e3,!0===m&&(w.setDate(w.getDate()-1),window.cookieWrite(f,"",w)))),_?window.formatTime(_,h,b):""}}e.exports.getTimeBetweenEvents=t}},"common-analytics-plugins/src/lib/plugins/getTimeParting.js":{script:function(e){function t(e){var t=e;if("-v"===e)return{plugin:"getTimeParting",version:"6.3"};e:{if(void 0!==window.s_c_il)for(var n,r=0;r<window.s_c_il.length;r++)if((n=window.s_c_il[r])._c&&"s_c"===n._c){r=n;break e}r=void 0}return void 0!==r&&(r.contextData.getTimeParting="6.3"),t=document.documentMode?void 0:t||"Etc/GMT",r=(new Date).toLocaleDateString("en-US",{timeZone:t,minute:"numeric",hour:"numeric",weekday:"long",day:"numeric",year:"numeric",month:"long"}),"year="+(r=/([a-zA-Z]+).*?([a-zA-Z]+).*?([0-9]+).*?([0-9]+)(.*?)([0-9])(.*)/.exec(r))[4]+" | month="+r[2]+" | date="+r[3]+" | day="+r[1]+" | time="+(r[6]+r[7])}e.exports.getTimeParting=t}},"common-analytics-plugins/src/lib/plugins/getTimeSinceLastVisit.js":{script:function(e){function t(){if(arguments&&"-v"===arguments[0])return{plugin:"getTimeSinceLastVisit",version:"2.0"};var e=function(){if(void 0!==window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}();void 0!==e&&(e.contextData.getTimeSinceLastVisit="2.0"),window.formatTime=window.formatTime||function(e,t,n){function r(e,t,n,r){if("string"!=typeof t)return!1;if("string"==typeof e)e=e.split(n||",");else if("object"!=typeof e)return!1;for(n=0,a=e.length;n<a;n++)if(1==r&&t===e[n]||t.toLowerCase()===e[n].toLowerCase())return!0;return!1}if(!(void 0===e||isNaN(e)||0>Number(e))){var o="";return"string"==typeof t&&"d"===t||("string"!=typeof t||!r("h,m,s",t))&&86400<=e?(t=86400,o="days",n=isNaN(n)?1:t/(n*t)):"string"==typeof t&&"h"===t||("string"!=typeof t||!r("m,s",t))&&3600<=e?(t=3600,o="hours",n=isNaN(n)?4:t/(n*t)):"string"==typeof t&&"m"===t||("string"!=typeof t||!r("s",t))&&60<=e?(t=60,o="minutes",n=isNaN(n)?2:t/(n*t)):(t=1,o="seconds",n=isNaN(n)?.2:t/n),0===(o=Math.round(e*n/t)/n+" "+o).indexOf("1 ")&&(o=o.substring(0,o.length-1)),o}},window.cookieWrite=window.cookieWrite||function(e,t,n){if("string"==typeof e){var r=window.location.hostname,a=window.location.hostname.split(".").length-1;if(r&&!/^[0-9.]+$/.test(r)){a=2<a?a:2;var o=r.lastIndexOf(".");if(0<=o){for(;0<=o&&1<a;)o=r.lastIndexOf(".",o-1),a--;o=0<o?r.substring(o):r}}if(g=o,t=void 0!==t?""+t:"",n||""===t)if(""===t&&(n=-60),"number"==typeof n){var i=new Date;i.setTime(i.getTime()+6e4*n)}else i=n;return!(!e||(document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; path=/;"+(n?" expires="+i.toUTCString()+";":"")+(g?" domain="+g+";":""),"undefined"==typeof cookieRead))&&cookieRead(e)===t}},window.cookieRead=window.cookieRead||function(e){if("string"!=typeof e)return"";e=encodeURIComponent(e);var t=" "+document.cookie,n=t.indexOf(" "+e+"="),r=0>n?n:t.indexOf(";",n);return(e=0>n?"":decodeURIComponent(t.substring(n+2+e.length,0>r?t.length:r)))?e:""};var t=(e=new Date).getTime(),n=cookieRead("s_tslv")||0,r=Math.round((t-n)/1e3);return e.setTime(t+63072e6),cookieWrite("s_tslv",t,e),n?1800<r||cookieRead("s_inv")?(cookieRead("s_inv")&&(r=cookieRead("s_inv")),cookieWrite("s_inv",r,30),"0"!==r?formatTime(r):"New Visitor"):"":(cookieWrite("s_inv","0",30),"New Visitor")}e.exports.getTimeSinceLastVisit=t}},"common-analytics-plugins/src/lib/plugins/getTimeToComplete.js":{script:function(e){function t(e,t,n,r){var o=e,i=t,s=n,c=r;if("-v"===o)return{plugin:"getTimeToComplete",version:"4.0"};var l=function(){if(void 0!==window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}();if(void 0!==l&&(l.contextData.getTimeToComplete="4.0"),window.formatTime=window.formatTime||function(e,t,n){function r(e,t,n,r){if("string"!=typeof t)return!1;if("string"==typeof e)e=e.split(n||",");else if("object"!=typeof e)return!1;for(n=0,a=e.length;n<a;n++)if(1==r&&t===e[n]||t.toLowerCase()===e[n].toLowerCase())return!0;return!1}if(!(void 0===e||isNaN(e)||0>Number(e))){var o="";return"string"==typeof t&&"d"===t||("string"!=typeof t||!r("h,m,s",t))&&86400<=e?(t=86400,o="days",n=isNaN(n)?1:t/(n*t)):"string"==typeof t&&"h"===t||("string"!=typeof t||!r("m,s",t))&&3600<=e?(t=3600,o="hours",n=isNaN(n)?4:t/(n*t)):"string"==typeof t&&"m"===t||("string"!=typeof t||!r("s",t))&&60<=e?(t=60,o="minutes",n=isNaN(n)?2:t/(n*t)):(t=1,o="seconds",n=isNaN(n)?.2:t/n),0===(o=Math.round(e*n/t)/n+" "+o).indexOf("1 ")&&(o=o.substring(0,o.length-1)),o}},window.cookieWrite=window.cookieWrite||function(e,t,n){if("string"==typeof e){var r=window.location.hostname,a=window.location.hostname.split(".").length-1;if(r&&!/^[0-9.]+$/.test(r)){a=2<a?a:2;var o=r.lastIndexOf(".");if(0<=o){for(;0<=o&&1<a;)o=r.lastIndexOf(".",o-1),a--;o=0<o?r.substring(o):r}}if(g=o,t=void 0!==t?""+t:"",n||""===t)if(""===t&&(n=-60),"number"==typeof n){var i=new Date;i.setTime(i.getTime()+6e4*n)}else i=n;return!(!e||(document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; path=/;"+(n?" expires="+i.toUTCString()+";":"")+(g?" domain="+g+";":""),"undefined"==typeof cookieRead))&&cookieRead(e)===t}},window.cookieRead=window.cookieRead||function(e){if("string"!=typeof e)return"";e=encodeURIComponent(e);var t=" "+document.cookie,n=t.indexOf(" "+e+"="),r=0>n?n:t.indexOf(";",n);return(e=0>n?"":decodeURIComponent(t.substring(n+2+e.length,0>r?t.length:r)))?e:""},"stop"===(o=o?o.toLowerCase():"start")||"start"===o){if(i=i||"s_gttc",c?c="d"===c?864e5:"h"===c?36e5:"s"===c?1e3:6e4:(s=30,c=6e4),s=isNaN(s)?30:s,s*=c,l=cookieRead(i),c=new Date,"stop"===o&&l)return s=Math.round((c.getTime()-l)/1e3),cookieWrite(i,"",0),formatTime(s);"start"!==o||l?l&&Number(l)<c.getTime()+18e5&&cookieWrite(i,l,30):(o=String(c.getTime()),c.setTime(c.getTime()+s),cookieWrite(i,o,c))}}e.exports.getTimeToComplete=t}},"common-analytics-plugins/src/lib/plugins/getValOnce.js":{script:function(e){function t(e,t,n,r){
var a=e,o=t,i=n,s=r;if(arguments&&"-v"===arguments[0])return{plugin:"getValOnce",version:"3.0"};var c=function(){if(void 0!==window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}();return void 0!==c&&(c.contextData.getValOnce="3.0"),window.cookieWrite=window.cookieWrite||function(e,t,n){if("string"==typeof e){var r=window.location.hostname,a=window.location.hostname.split(".").length-1;if(r&&!/^[0-9.]+$/.test(r)){a=2<a?a:2;var o=r.lastIndexOf(".");if(0<=o){for(;0<=o&&1<a;)o=r.lastIndexOf(".",o-1),a--;o=0<o?r.substring(o):r}}if(g=o,t=void 0!==t?""+t:"",n||""===t)if(""===t&&(n=-60),"number"==typeof n){var i=new Date;i.setTime(i.getTime()+6e4*n)}else i=n;return!(!e||(document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; path=/;"+(n?" expires="+i.toUTCString()+";":"")+(g?" domain="+g+";":""),"undefined"==typeof cookieRead))&&cookieRead(e)===t}},window.cookieRead=window.cookieRead||function(e){if("string"!=typeof e)return"";e=encodeURIComponent(e);var t=" "+document.cookie,n=t.indexOf(" "+e+"="),r=0>n?n:t.indexOf(";",n);return(e=0>n?"":decodeURIComponent(t.substring(n+2+e.length,0>r?t.length:r)))?e:""},a&&(o=o||"s_gvo",i=i||0,s="m"===s?6e4:864e5,a!==this.c_r(o))?((c=new Date).setTime(c.getTime()+i*s),cookieWrite(o,a,0===i?0:s),a):""}e.exports.getValOnce=t}},"common-analytics-plugins/src/lib/plugins/getVisitDuration.js":{script:function(e){function t(){if(arguments&&"-v"===arguments[0])return{plugin:"getVisitDuration",version:"2.1"};var e=function(){if(void 0!==window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}();void 0!==e&&(e.contextData.getVisitDuration="2.1"),window.cookieWrite=window.cookieWrite||function(e,t,n){if("string"==typeof e){var r=window.location.hostname,a=window.location.hostname.split(".").length-1;if(r&&!/^[0-9.]+$/.test(r)){a=2<a?a:2;var o=r.lastIndexOf(".");if(0<=o){for(;0<=o&&1<a;)o=r.lastIndexOf(".",o-1),a--;o=0<o?r.substring(o):r}}if(g=o,t=void 0!==t?""+t:"",n||""===t)if(""===t&&(n=-60),"number"==typeof n){var i=new Date;i.setTime(i.getTime()+6e4*n)}else i=n;return!(!e||(document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; path=/;"+(n?" expires="+i.toUTCString()+";":"")+(g?" domain="+g+";":""),"undefined"==typeof cookieRead))&&cookieRead(e)===t}},window.cookieRead=window.cookieRead||function(e){if("string"!=typeof e)return"";e=encodeURIComponent(e);var t=" "+document.cookie,n=t.indexOf(" "+e+"="),r=0>n?n:t.indexOf(";",n);return(e=0>n?"":decodeURIComponent(t.substring(n+2+e.length,0>r?t.length:r)))?e:""},e=(new Date).getTime();var t=cookieRead("s_dur"),n=0;return(isNaN(t)||18e5<e-t)&&(t=e),n=e-t,cookieWrite("s_dur",t+"",30),0===n?"first hit of visit":0===(n=Math.floor(n/6e4))?"less than a minute":1===n?"1 minute":n+" minutes"}e.exports.getVisitDuration=t}},"common-analytics-plugins/src/lib/plugins/getVisitNum.js":{script:function(e){function t(e,t){function n(e){return!isNaN(e)&&(0|parseFloat(e))===parseFloat(e)}function r(e){var t=new Date,n=isNaN(e)?0:Math.floor(e);if(t.setHours(23),t.setMinutes(59),t.setSeconds(59),"w"===e&&(n=6-t.getDay()),"m"===e){n=t.getMonth()+1;var r=t.getFullYear();n=new Date(r||1970,n||1,0).getDate()-t.getDate()}return t.setDate(t.getDate()+n),"y"===e&&(t.setMonth(11),t.setDate(31)),t}var a=e,o=t;if("-v"===a)return{plugin:"getVisitNum",version:"4.2"};var i=function(){if(void 0!==window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}();void 0!==i&&(i.contextData.getVisitNum="4.2"),window.cookieWrite=window.cookieWrite||function(e,t,n){if("string"==typeof e){var r=window.location.hostname,a=window.location.hostname.split(".").length-1;if(r&&!/^[0-9.]+$/.test(r)){a=2<a?a:2;var o=r.lastIndexOf(".");if(0<=o){for(;0<=o&&1<a;)o=r.lastIndexOf(".",o-1),a--;o=0<o?r.substring(o):r}}if(g=o,t=void 0!==t?""+t:"",n||""===t)if(""===t&&(n=-60),"number"==typeof n){var i=new Date;i.setTime(i.getTime()+6e4*n)}else i=n;return!(!e||(document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; path=/;"+(n?" expires="+i.toUTCString()+";":"")+(g?" domain="+g+";":""),void 0===window.cookieRead))&&window.cookieRead(e)===t}},window.cookieRead=window.cookieRead||function(e){if("string"!=typeof e)return"";e=encodeURIComponent(e);var t=" "+document.cookie,n=t.indexOf(" "+e+"="),r=0>n?n:t.indexOf(";",n);return(e=0>n?"":decodeURIComponent(t.substring(n+2+e.length,0>r?t.length:r)))?e:""},a=a||365,o=void 0!==o?!!o:!!n(a);var s=(new Date).getTime();if(i=r(a),window.cookieRead("s_vnc"+a))var c=window.cookieRead("s_vnc"+a).split("&vn="),l=c[1];return window.cookieRead("s_ivc")?l?(window.cookieWrite("s_ivc",!0,30),l):"unknown visit number":void 0!==l?(l++,c=o&&n(a)?s+864e5*a:c[0],i.setTime(c),window.cookieWrite("s_vnc"+a,c+"&vn="+l,i),window.cookieWrite("s_ivc",!0,30),l):(c=n(a)?s+864e5*a:r(a).getTime(),window.cookieWrite("s_vnc"+a,c+"&vn=1",i),window.cookieWrite("s_ivc",!0,30),"1")}e.exports.getVisitNum=t}},"common-analytics-plugins/src/lib/plugins/inList.js":{script:function(e){function t(e,t,n,r){var a=e,o=t,i=n,s=r;if("-v"===a)return{plugin:"inList",version:"3.0"};e:{if(void 0!==window.s_c_il)for(var c=0;c<window.s_c_il.length;c++)if((n=window.s_c_il[c])._c&&"s_c"===n._c){c=n;break e}c=void 0}if(void 0!==c&&(c.contextData.inList="3.0"),"string"!=typeof o)return!1;if("string"==typeof a)a=a.split(i||",");else if("object"!=typeof a)return!1;for(i=0,c=a.length;i<c;i++)if(1==s&&o===a[i]||o.toLowerCase()===a[i].toLowerCase())return!0;return!1}e.exports.inList=t}},"common-analytics-plugins/src/lib/plugins/lowerCaseVars.js":{script:function(e){function t(e){var t=this;t[e]&&("events"!==e&&-1===e.indexOf("contextData")?(t[e]=t[e].toString(),0!==t[e].indexOf("D=")&&(t[e]=t[e].toLowerCase())):-1<e.indexOf("contextData")&&(e=e.substring(e.indexOf(".")+1),t.contextData[e]&&(t.contextData[e]=t.contextData[e].toString().toLowerCase())))}e.exports.lowerCaseVars=t}},"common-analytics-plugins/src/lib/plugins/manageVars.js":{script:function(e){function t(e,t,n){var r=e,a=t,o=n;if("-v"===r)return{plugin:"manageVars",version:"3.0"};var i=function(){if(void 0!==window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}();if(void 0!==i){if(i.contextData.manageVars="3.0",i.blankVars=function(e){this[e]&&(0>e.indexOf("contextData")?this[e]="":(e=e.substring(e.indexOf(".")+1),this.contextData[e]&&(this.contextData[e]="")))},i.lowerCaseVars=function(e){this[e]&&("events"!==e&&-1===e.indexOf("contextData")?(this[e]=this[e].toString(),0!==this[e].indexOf("D=")&&(this[e]=this[e].toLowerCase())):-1<e.indexOf("contextData")&&(e=e.substring(e.indexOf(".")+1),this.contextData[e]&&(this.contextData[e]=this.contextData[e].toString().toLowerCase())))},i.cleanStr=function(e){function t(e){if("string"==typeof e){for(e=e.replace(/<\/?[^>]+(>|$)/g,"").trim().replace(/[\u2018\u2019\u201A]/g,"'").replace(/\t+/g,"").replace(/[\n\r]/g," ");-1<e.indexOf("  ");)e=e.replace(/\s\s/g," ");return e}return""}this[e]&&"function"==typeof t&&(0>e.indexOf("contextData")?this[e]=t(this[e]):(e=e.substring(e.indexOf(".")+1),this.contextData[e]&&(this.contextData[e]=t(this.contextData[e].toString()))))},i.pt=function(e,t,n,r){if(e&&this[n]){t=(e=e.split(t||",")).length;for(var a,o=0;o<t;o++)if(a=this[n](e[o],r))return a}},!i[r])return!1;a=a||"",o=o||!0;var s,c="pageName,purchaseID,channel,server,pageType,campaign,state,zip,events,products,transactionID";for(s=1;76>s;s++)c+=",prop"+s;for(s=1;251>s;s++)c+=",eVar"+s;for(s=1;6>s;s++)c+=",hier"+s;for(s=1;4>s;s++)c+=",list"+s;for(s in i.contextData)c+=",contextData."+s;if(a){if(1==o)c=a.replace("['",".").replace("']","");else if(0==o){for(x in a=a.split(","),o=c.split(","),c="",a)for(y in-1<a[x].indexOf("contextData")&&(a[x]="contextData."+a[x].split("'")[1]),o)a[x]===o[y]&&(o[y]="");for(y in o)c+=o[y]?","+o[y]:""}return i.pt(c,",",r,0),!0}return!(""!==a||!o||(i.pt(c,",",r,0),0))}}e.exports.manageVars=t}},"common-analytics-plugins/src/lib/plugins/p_fo.js":{script:function(e){function t(e){if("-v"===e)return{plugin:"p_fo",version:"3.0"};e:{if(void 0!==window.s_c_il)for(var t,n=0;n<window.s_c_il.length;n++)if((t=window.s_c_il[n])._c&&"s_c"===t._c){n=t;break e}n=void 0}return void 0!==n&&(n.contextData.p_fo="3.0"),window.__fo||(window.__fo={}),!window.__fo[e]&&(window.__fo[e]={},!0)}e.exports.p_fo=t}},"common-analytics-plugins/src/lib/plugins/performanceCheck.js":{script:function(e){function t(e,t){if(0<=e&&0<=t)return 6e4>e-t&&0<=e-t?parseFloat((e-t)/1e3).toFixed(2):60}e.exports.performanceCheck=t}},"common-analytics-plugins/src/lib/plugins/performanceWriteFull.js":{script:function(e){function t(){var e=this,t=performance.timing;0<t.loadEventEnd&&(clearInterval(e.pi),""===e.c_r("s_plt")&&(e.c_w("s_plt",e.performanceCheck(t.loadEventEnd,t.navigationStart)),e.c_w("s_pltp",e.pageName))),e.ptc=t.loadEventEnd}e.exports.performanceWriteFull=t}},"common-analytics-plugins/src/lib/plugins/performanceWritePart.js":{script:function(e){function t(){var e=this,t=performance;0<t.getEntries().length&&(e.ppfe===t.getEntries().length?clearInterval(e.pwp):e.ppfe=t.getEntries().length),""===e.c_r("s_plt")&&(e.c_w("s_plt",((t.getEntries()[t.getEntries().length-1].responseEnd-t.getEntries()[0].startTime)/1e3).toFixed(2)),e.c_w("s_pltp",e.pageName))}e.exports.performanceWritePart=t}},"common-analytics-plugins/src/lib/plugins/handlePPVevents.js":{script:function(e){function t(){if("undefined"!=typeof s_c_il){for(var e=0,t=s_c_il.length;e<t;e++)if(s_c_il[e]&&(s_c_il[e].getPercentPageViewed||s_c_il[e].getPreviousPageActivity)){var n=s_c_il[e];break}if(n&&n.ppvID){var r=Math.max(Math.max(document.body.scrollHeight,document.documentElement.scrollHeight),Math.max(document.body.offsetHeight,document.documentElement.offsetHeight),Math.max(document.body.clientHeight,document.documentElement.clientHeight)),a=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;e=(window.pageYOffset||window.document.documentElement.scrollTop||window.document.body.scrollTop)+a,t=Math.min(Math.round(e/r*100),100);var o=Math.floor(e/a);a=Math.floor(r/a);var i="";if(!n.c_r("s_tp")||n.unescape(n.c_r("s_ppv").split(",")[0])!==n.ppvID||n.p_fo(n.ppvID)||1==n.ppvChange&&n.c_r("s_tp")&&r!=n.c_r("s_tp")){if((n.unescape(n.c_r("s_ppv").split(",")[0])!==n.ppvID||n.p_fo(n.ppvID+"1"))&&n.c_w("s_ips",e),n.c_r("s_tp")&&n.unescape(n.c_r("s_ppv").split(",")[0])===n.ppvID){n.c_r("s_tp");var s=-1<(i=n.c_r("s_ppv")).indexOf(",")?i.split(","):[];i=s[0]?s[0]:"",s=s[3]?s[3]:"";var c=n.c_r("s_ips");i=i+","+Math.round(s/r*100)+","+Math.round(c/r*100)+","+s+","+o}n.c_w("s_tp",r)}else i=n.c_r("s_ppv");var l=i&&-1<i.indexOf(",")?i.split(",",6):[];r=0<l.length?l[0]:escape(n.ppvID),s=1<l.length?parseInt(l[1]):t,c=2<l.length?parseInt(l[2]):t;var u=3<l.length?parseInt(l[3]):e,d=4<l.length?parseInt(l[4]):o;l=5<l.length?parseInt(l[5]):a,0<t&&(i=r+","+(t>s?t:s)+","+c+","+(e>u?e:u)+","+(o>d?o:d)+","+(a>l?a:l)),n.c_w("s_ppv",i)}}}e.exports.handlePPVevents=t}},"common-analytics-plugins/src/lib/plugins/getPercentPageViewed.js":{script:function(e){function t(e,t){function n(){if(window.ppvID){var e=Math.max(Math.max(document.body.scrollHeight,document.documentElement.scrollHeight),Math.max(document.body.offsetHeight,document.documentElement.offsetHeight),Math.max(document.body.clientHeight,document.documentElement.clientHeight)),t=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,n=(window.pageYOffset||window.document.documentElement.scrollTop||window.document.body.scrollTop)+t,r=Math.min(Math.round(n/e*100),100),a=Math.floor(n/t);t=Math.floor(e/t);var o="";if(!window.cookieRead("s_tp")||decodeURIComponent(window.cookieRead("s_ppv").split(",")[0])!==window.ppvID||window.p_fo(window.ppvID)||1==window.ppvChange&&window.cookieRead("s_tp")&&e!=window.cookieRead("s_tp")){if((decodeURIComponent(window.cookieRead("s_ppv").split(",")[0])!==window.ppvID||window.p_fo(window.ppvID+"1"))&&window.cookieWrite("s_ips",n),window.cookieRead("s_tp")&&decodeURIComponent(window.cookieRead("s_ppv").split(",")[0])===window.ppvID){window.cookieRead("s_tp");var i=-1<(o=window.cookieRead("s_ppv")).indexOf(",")?o.split(","):[];o=i[0]?i[0]:"",i=i[3]?i[3]:"";var s=window.cookieRead("s_ips");o=o+","+Math.round(i/e*100)+","+Math.round(s/e*100)+","+i+","+a}window.cookieWrite("s_tp",e)}else o=window.cookieRead("s_ppv");var c=o&&-1<o.indexOf(",")?o.split(",",6):[];e=0<c.length?c[0]:encodeURIComponent(window.ppvID),i=1<c.length?parseInt(c[1]):r,s=2<c.length?parseInt(c[2]):r;var l=3<c.length?parseInt(c[3]):n,u=4<c.length?parseInt(c[4]):a;c=5<c.length?parseInt(c[5]):t,0<r&&(o=e+","+(r>i?r:i)+","+s+","+(n>l?n:l)+","+(a>u?a:u)+","+(t>c?t:c)),window.cookieWrite("s_ppv",o)}}var r=e,a=t;if("-v"===r)return{plugin:"getPercentPageViewed",version:"5.0.1"};var o=function(){if(void 0!==window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}();void 0!==o&&(o.contextData.getPercentPageViewed="5.0.1"),window.pageName=void 0!==o&&o.pageName||"",window.cookieWrite=window.cookieWrite||function(e,t,n){if("string"==typeof e){var r=window.location.hostname,a=window.location.hostname.split(".").length-1;if(r&&!/^[0-9.]+$/.test(r)){a=2<a?a:2;var o=r.lastIndexOf(".");if(0<=o){for(;0<=o&&1<a;)o=r.lastIndexOf(".",o-1),a--;o=0<o?r.substring(o):r}}if(g=o,t=void 0!==t?""+t:"",n||""===t)if(""===t&&(n=-60),"number"==typeof n){var i=new Date;i.setTime(i.getTime()+6e4*n)}else i=n;return!(!e||(document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; path=/;"+(n?" expires="+i.toUTCString()+";":"")+(g?" domain="+g+";":""),void 0===window.cookieRead))&&window.cookieRead(e)===t}},window.cookieRead=window.cookieRead||function(e){if("string"!=typeof e)return"";e=encodeURIComponent(e);var t=" "+document.cookie,n=t.indexOf(" "+e+"="),r=0>n?n:t.indexOf(";",n);return(e=0>n?"":decodeURIComponent(t.substring(n+2+e.length,0>r?t.length:r)))?e:""},window.p_fo=window.p_fo||function(e){return window.__fo||(window.__fo={}),!window.__fo[e]&&(window.__fo[e]={},!0)};var i=window.cookieRead("s_ppv");i=-1<i.indexOf(",")?i.split(","):[],r=r||(window.pageName?window.pageName:document.location.href),i[0]=decodeURIComponent(i[0]),window.ppvChange=void 0===a||1==a,void 0!==o&&o.linkType&&"o"===o.linkType||(window.ppvID&&window.ppvID===r||(window.ppvID=r,window.cookieWrite("s_ppv",""),n()),window.p_fo("s_gppvLoad")&&window.addEventListener&&(window.addEventListener("load",n,!1),window.addEventListener("click",n,!1),window.addEventListener("scroll",n,!1)),this._ppvPreviousPage=i[0]?i[0]:"",this._ppvHighestPercentViewed=i[1]?i[1]:"",this._ppvInitialPercentViewed=i[2]?i[2]:"",this._ppvHighestPixelsSeen=i[3]?i[3]:"",this._ppvFoldsSeen=i[4]?i[4]:"",this._ppvFoldsAvailable=i[5]?i[5]:"")}e.exports.getPercentPageViewed=t}},"common-analytics-plugins/src/lib/plugins/pt.js":{script:function(e){function t(e,t,n,r){var a=e,o=t,i=n,s=r;if("-v"===a)return{plugin:"pt",version:"3.0"};e:{if(void 0!==window.s_c_il)for(var c,l=0;l<window.s_c_il.length;l++)if((c=window.s_c_il[l])._c&&"s_c"===c._c){l=c;break e}l=void 0}if(void 0!==l&&(l.contextData.pt="3.0",a&&l[i])){o=(a=a.split(o||",")).length;for(var u=0;u<o;u++)if(c=l[i](a[u],s))return c}}e.exports.pt=t}},"common-analytics-plugins/src/lib/plugins/rfl.js":{script:function(e){function t(e,t,n,r,a){var o=e,i=t,s=n,c=r,l=a;if("-v"===o)return{plugin:"rfl",version:"2.1"};e:{if(void 0!==window.s_c_il)for(var u,d=0;d<window.s_c_il.length;d++)if((u=window.s_c_il[d])._c&&"s_c"===u._c){d=u;break e}d=void 0}if(void 0!==d&&(d.contextData.rfl="2.1"),!o||!i)return"";d=[],u="",s=s||",",c=c||s,l=l||!1,s=(o=o.split(s)).length;for(var g=0;g<s;g++)-1<o[g].indexOf(":")&&((u=o[g].split(":"))[1]=u[0]+":"+u[1],o[g]=u[0]),-1<o[g].indexOf("=")&&((u=o[g].split("="))[1]=u[0]+"="+u[1],o[g]=u[0]),o[g]!==i&&u?d.push(u[1]):o[g]!==i?d.push(o[g]):o[g]===i&&l&&(u?d.push(u[1]):d.push(o[g]),l=!1),u="";return d.join(c)}e.exports.rfl=t}},"common-analytics-plugins/src/lib/plugins/twoDecimals.js":{script:function(e){function t(e){return void 0===e||void 0===e||isNaN(e)?0:Number(Number(e).toFixed(2))}e.exports.twoDecimals=t}},"common-analytics-plugins/src/lib/plugins/zeroPad.js":{script:function(e){function t(e,t){if(e=parseInt(e),t=parseInt(t),isNaN(e)||isNaN(t))return"";var n=t-e.toString().length+1;return Array(+(0<n&&n)).join("0")+e}e.exports.zeroPad=t}},"common-analytics-plugins/src/lib/plugins/randomNumber.js":{script:function(e){function t(e){e="number"==typeof e?17>Math.abs(e)?Math.round(Math.abs(e)):17:10;for(var t="1",n=0;n<e;n++)t+="0";return t=Number(t),(t=Math.floor(Math.random().toFixed(e)*t)+"").length!==e&&"undefined"!=typeof zeroPad&&(t=zeroPad(t,e)),t}e.exports.randomNumber=t}}}},"natwest-core":{displayName:"NatWest Core",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EPbe4294f232ac40c8916f64e35d5f7a4f/",settings:{customCode:{source:function(e){const t=tagging.getObjectProperty,n=tagging.setObjectProperty,r=tagging.toTitleCase,a=_satellite.getVar("rootDataLayer"),o={PREVIOUS_PAGE_DETAILS:"previousPageDetails",SERVER_NAME:"AEMServer 6.1",VERSION:"2.6.0"},i=()=>{try{n(`${a}.version`,o.VERSION,e)}catch(e){_satellite.logger.error("Failed in setVersionData",e)}},s=r=>{try{const o=t(r,"custom.config.products")||[],i=_satellite.getVar("autoConfigProductData"),s="object"==typeof i?i:JSON.parse(i);Array.isArray(o)&&o.length>0?n(`${a}.products`,o,e):Array.isArray(s)&&s.length>0?n(`${a}.products`,s,e):_satellite.logger.log("No product details configured for current page")}catch(e){_satellite.logger.error("Failed in setProductdata",e)}},c=t=>{try{const r="N"!=t.user.loggedIn;n(`${a}.user`,{authenticated:r},e)}catch(e){_satellite.logger.error("Failed in setVersionData",e)}},l=t=>{try{const r=_satellite.getVar("brandName"),o=t.site,i=o.section.replaceAll(/&gt;/g,">").toLowerCase(),s=o.businessArea.toLowerCase();n(`${a}.site`,{brand:r,section:i,channel:"ONLINE",business:{area:s}},e)}catch(e){_satellite.logger.error("Failed in setSiteData",e)}},u=()=>{try{const t={name:o.SERVER_NAME};n(`${a}.server`,t,e)}catch(e){_satellite.logger.error("Failed in setServerData",e)}},d=e=>{try{let t=new URLSearchParams(e);["cin","tk","ek","ts","sc_c07","CIN","TK","EK","TS","SC_C07","adobe_mc"].forEach((e=>{t.delete(e)}));let n={string:t.toString(),parameters:[]};return t.forEach(((e,t)=>{n.parameters.push({name:t,value:e})})),n}catch(e){_satellite.logger.error("getQueryStringAndParameters failed to run",e)}},g=t=>{try{const o=t.page,i=o.url,s=o.type,c=o.name.replaceAll(/&gt;/g,">").replace(/null/,"home").replace(/( )|(>Id)|(:NW>)|(:RBS>)|(:ULSTERROI>)|(:ULSTERNI>)|(INTERSTITIAL)/gi,"").split(">").map((e=>r(e))).join(">"),l=document.location.search,u={name:c,url:i,type:s,fragments:document.location.hash};l&&(u.query=d(l)),n(`${a}.page`,u,e)}catch(e){_satellite.logger.error("Failed in setPageData",e)}},p=r=>{try{const o=t(r,"featureFlags")||{},i=t(e[a],"featureFlags")||{overWrite:{}},s=t(r,"custom.config.featureFlags")||{},c={overWrite:o.overWrite?Object.assign({},o.overWrite,s,i.overWrite):s};n(`${a}.featureFlags`,Object.assign({},o,c),e)}catch(e){_satellite.logger.error("Failed in setFeatureFlags",e)}},m=e=>{try{p(e),g(e),u(),i(),l(e),c(e),s(e)}catch(e){_satellite.logger.error("Failed to update data layer",e)}},f=()=>{try{const r=t(e,`${a}.events`),o=JSON.parse(h()),i=t(e,`${a}.page`),s=i.url,c=i.name;b(s,c),n(`${a}.page.previous`,o,e),r.push(C("PAGE","LOAD"))}catch(e){_satellite.logger.error("Failed in notifyPageLoad",e)}},v=(n,r,o,i)=>{try{t(e,`${a}.events`).push(C(n,r,o,i))}catch(e){_satellite.logger.error("Failed in setCustomEvent",e)}},h=()=>sessionStorage.getItem(o.PREVIOUS_PAGE_DETAILS)||'{"name": "", "url": "" }',b=(e,t)=>{sessionStorage.setItem(o.PREVIOUS_PAGE_DETAILS,JSON.stringify({url:e,name:t}))},C=(e,t,n="",r="")=>{let a={target:e,phase:t,track:!0,timestamp:Date.now()};return n&&(a.element=n),r&&(a.pageSection=r),a},E=()=>{e.digitalDataV2?.form&&(_satellite.logger.log("[Custom Code] Dropping form detail from datalayer: digitalDataV2 to avoid passing duplicate data."),delete e.digitalDataV2.form)};try{setTimeout((function(){if("digitalDataV2"==a){const r=JSON.parse(JSON.stringify(digitalData));n("tagging.customConfig",t(r,"custom.config")||{},e),n("tagging.dataLayer.updateDataLayer",m,e),n("tagging.dataLayer.notifyPageLoad",f,e),n("tagging.dataLayer.setCustomEvent",v,e),n("tagging.dataLayer.registerPostTrackCallbackWebSDK",E,e),m(r),!0===tagging.getObjectProperty(e,"tagging.dataLayer.fireTraditionalPageLoadEvent")&&(tagging.dataLayer.notifyPageLoad(),tagging.setObjectProperty("tagging.dataLayer.fireTraditionalPageLoadEvent",!1,e))}}),2e3)}catch(e){_satellite.logger.error("Failed to run custom in NatWest Core extension",e)}},modified:!0},featureFlags:[{key:"ccmChatEnabled",value:"%featureFlagsCCMChatEnabled%"},{key:"lpChatEnabled",value:!0}],dataLayerRoot:"%rootDataLayer%",queryParameters:""},modules:{"natwest-core/src/lib/dataElements/mappingTable.js":{name:"mapping-table",displayName:"Mapping Table",script:function(e,t,n){"use strict";var r=n("../../helpers/valueComparison");e.exports=function(e){for(var t=e.baseDataElement,n=e.mappingConfig,a=0;a<n.length;a++){var o=n[a];if(r(o.comparison,t,o.matchExpression,o.caseInsensitive))return o.output}}}},"natwest-core/src/lib/dataElements/getFeatureFlagValue.js":{name:"get-feature-flag-value",displayName:"Get Feature Flag Value",script:function(e,t,n,r){"use strict";var a=n("../../helpers/getObjectProperty"),o=n("../../helpers/getDataLayerRoot");e.exports=function(e){try{return a(window[o()],`featureFlags.overWrite.${e.key}`)}catch(t){r.logger.error("Failed to retrieve feature flag value",e,t)}}}},"natwest-core/src/lib/conditions/featureFlagEnabled.js":{name:"feature-flag-enabled",displayName:"Feature flag enabled",script:function(e,t,n,r){"use strict";var a=n("../../helpers/getObjectProperty"),o=n("../../helpers/getDataLayerRoot");e.exports=function(e){try{return!0===a(window[o()],`featureFlags.overWrite.${e.key}`)}catch(t){return r.logger.error("Failed to check feature flag is enabled",e,t),!1}}}},"natwest-core/src/lib/sharedModules/getObjectProperty.js":{name:"get-object-property",shared:!0,script:function(e,t,n){"use strict";var r=n("../../helpers/getObjectProperty");e.exports=r}},"natwest-core/src/lib/sharedModules/comparison.js":{name:"comparison",shared:!0,script:function(e,t,n){"use strict";var r=n("../../helpers/valueComparison");e.exports={valueComparison:r,operators:{equals:"equals",doesNotEqual:"doesNotEqual",contains:"contains",doesNotContain:"doesNotContain",startsWith:"startsWith",doesNotStartWith:"doesNotStartWith",endsWith:"endsWith",doesNotEndWith:"doesNotEndWith",matchesRegex:"matchesRegex",doesNotMatchRegex:"doesNotMatchRegex",lessThan:"lessThan",lessThanOrEqual:"lessThanOrEqual",greaterThan:"greaterThan",greaterThanOrEqual:"greaterThanOrEqual",isTrue:"isTrue",isTruthy:"isTruthy",isFalse:"isFalse",isFalsy:"isFalsy"}}}},"natwest-core/src/lib/sharedModules/textMatch.js":{name:"text-match",shared:!0,script:function(e,t,n){"use strict";var r=n("../../helpers/textMatch");e.exports=r}},"natwest-core/src/lib/sharedModules/validateVariableValue.js":{name:"validate-variable-value",shared:!0,script:function(e,t,n){"use strict";var r=n("../../helpers/variable");e.exports=r}},"natwest-core/src/lib/sharedModules/setObjectProperty.js":{name:"set-object-property",shared:!0,script:function(e,t,n){"use strict";var r=n("../../helpers/setObjectProperty");e.exports=r}},"natwest-core/src/lib/sharedModules/toTitleCase.js":{name:"to-title-case",shared:!0,script:function(e,t,n){"use strict";var r=n("../../helpers/toTitleCase");e.exports=r}},"natwest-core/src/lib/sharedModules/arrayEventify.js":{name:"array-eventify",shared:!0,script:function(e,t,n){"use strict";var r=n("../../helpers/arrayEventify");e.exports=r}},"natwest-core/src/lib/sharedModules/getRandomString.js":{name:"get-random-string",shared:!0,script:function(e,t,n){"use strict";var r=n("../../helpers/getRandomString");e.exports=r}},"natwest-core/src/lib/main/extensionMain.js":{script:function(e,t,n,r){"use strict";function a(){try{var e=localStorage.getItem("taggingFeatureFlags");if(e){r.logger.log("localStorage feature flags configuration found. Updateing feature Flags");var t=JSON.parse(e);for(var n in t)"boolean"==typeof t[n]&&i(`${s()}.featureFlags.overWrite.`+n,t[n])}}catch(e){r.logger.error("Failed to update feature flags from localStorage",e)}}function o(e){try{let t=e||(window.location===window.parent.location?document.location.search:window.parent.document.location.search),n=window.location!==window.parent.location||e?window.parent.document.location.hash:document.location.hash;if(n.indexOf("?")>-1&&(n=n.slice(n.indexOf("?")),t=t?`${t}&${n.split("?")[1]}`:n),t){let e=[],n=[];t.indexOf("?")>-1&&(t=t.split("?")[1]),t.split("&").forEach((t=>{let r=t.split("=")[0];const a=/,|%2C/;"enableFeatureFlags"==r?e=[...e,...t.split("=")[1].split(a)]:"disableFeatureFlags"==r&&(n=[...n,...t.split("=")[1].split(a)])})),e.forEach((e=>{i(`${s()}.featureFlags.overWrite.`+e,!0)})),n.forEach((e=>{i(`${s()}.featureFlags.overWrite.`+e,!1)}))}}catch(e){r.logger.error("Failed to update feature flags from query parameters",e)}}var i=n("../../helpers/setObjectProperty"),s=n("../../helpers/getDataLayerRoot");try{var c=r.getExtensionSettings()||{},l={COMPARISON:"tagging.comparison",GET_OBJECT_PROPERTY:"tagging.getObjectProperty",TEXT_MATCH:"tagging.textMatch",VALIDATE_VARIABLE_VALUE:"tagging.validateVariableValue",SET_OBJECT_PROPERTY:"tagging.setObjectProperty",TO_TITLE_CASE:"tagging.toTitleCase",ARRAY_EVENTIFY:"tagging.arrayEventify",GET_RANDOM_STRING:"tagging.getRandomString"};r.logger.info("Initializing NatWest Core extension with settings",JSON.stringify(c)),i(l.COMPARISON,r.getSharedModule("natwest-core","comparison")),i(l.GET_OBJECT_PROPERTY,r.getSharedModule("natwest-core","get-object-property")),i(l.TEXT_MATCH,r.getSharedModule("natwest-core","text-match")),i(l.VALIDATE_VARIABLE_VALUE,r.getSharedModule("natwest-core","validate-variable-value")),i(l.SET_OBJECT_PROPERTY,r.getSharedModule("natwest-core","set-object-property")),i(l.TO_TITLE_CASE,r.getSharedModule("natwest-core","to-title-case")),i(l.ARRAY_EVENTIFY,r.getSharedModule("natwest-core","array-eventify")),i(l.GET_RANDOM_STRING,r.getSharedModule("natwest-core","get-random-string"));try{c.customCode.modified&&c.customCode.source(window)}catch(e){r.logger.error("Failed to run custom code",e)}var u=c.featureFlags;if(u&&u.length>0)for(var d=0;d<u.length;d++){var g=`${s()}.featureFlags.overWrite.`+u[d].key,p=!0===u[d].value||"true"===u[d].value;i(g,p)}a(),o(c.queryParameters)}catch(e){r.logger.error("Failures in extension_main -- "+e)}}},"natwest-core/src/helpers/valueComparison.js":{script:function(e){"use strict";var t=function(e){return"number"==typeof e&&isFinite(e)},n=function(e){return"string"==typeof e||e instanceof String},r=function(e,t){return t&&n(e)?e.toLowerCase():e},a=function(e){return t(e)?String(e):e},o=function(e){return n(e)?Number(e):e},i=function(e){return function(t,r,o){return t=a(t),r=a(r),n(t)&&n(r)&&e(t,r,o)}},s=function(e){return function(n,r){return n=o(n),r=o(r),t(n)&&t(r)&&e(n,r)}},c=function(e){return function(t,n,a){return e(r(t,a),r(n,a))}},l={equals:c((function(e,t){return e==t})),doesNotEqual:function(){return!l.equals.apply(null,arguments)},contains:i(c((function(e,t){return-1!==e.indexOf(t)}))),doesNotContain:function(){return!l.contains.apply(null,arguments)},startsWith:i(c((function(e,t){return 0===e.indexOf(t)}))),doesNotStartWith:function(){return!l.startsWith.apply(null,arguments)},endsWith:i(c((function(e,t){return e.substring(e.length-t.length,e.length)===t}))),doesNotEndWith:function(){return!l.endsWith.apply(null,arguments)},matchesRegex:i((function(e,t,n){return new RegExp(t,n?"i":"").test(e)})),doesNotMatchRegex:function(){return!l.matchesRegex.apply(null,arguments)},lessThan:s((function(e,t){return e<t})),lessThanOrEqual:s((function(e,t){return e<=t})),greaterThan:s((function(e,t){return e>t})),greaterThanOrEqual:s((function(e,t){return e>=t})),isTrue:function(e){return!0===e},isTruthy:function(e){return Boolean(e)},isFalse:function(e){return!1===e},isFalsy:function(e){return!e}};e.exports=function(e,t,n,r){return l[e](t,n,Boolean(r))}}},"natwest-core/src/helpers/getObjectProperty.js":{script:function(e){"use strict";e.exports=function(e,t){for(var n=t?t.split("."):[],r=e,a=0,o=n.length;a<o;a++){if(null==r)return;r=r[n[a]]}return r}}},"natwest-core/src/helpers/getDataLayerRoot.js":{script:function(e,t,n,r){"use strict";e.exports=()=>{const e="digitalData",t=r.getExtensionSettings()||{};return t.dataLayerRoot&&t.dataLayerRoot!==e?t.dataLayerRoot:e}}},"natwest-core/src/helpers/textMatch.js":{script:function(e){"use strict";e.exports=function(e,t){if(null==t)throw new Error("Illegal Argument: Pattern is not present");return null!=e&&("string"==typeof t?e===t:t instanceof RegExp&&t.test(e))}}},"natwest-core/src/helpers/variable.js":{script:function(e,t,n){"use strict";var r=n("../helpers/getObjectProperty"),a=n("../helpers/textMatch");e.exports=function(e,t,n){var o=n?new RegExp(t,"i"):t;return a(r(window,e),o)}}},"natwest-core/src/helpers/setObjectProperty.js":{script:function(e){"use strict";e.exports=function(e,t,n){for(var r=e?e.split("."):[],a="object"==typeof n?n:window,o=0,i=r.length;o<i;o++)null==a||a[r[o]]?o==i-1&&(a[r[o]]=t):a[r[o]]=o!==i-1?{}:t,a=a[r[o]]}}},"natwest-core/src/helpers/toTitleCase.js":{script:function(e){"use strict";e.exports=function(e){return e.replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}))}}},"natwest-core/src/helpers/arrayEventify.js":{script:function(e,t,n,r){"use strict";e.exports=function(e,t){e.push=function(n){Array.prototype.push.call(e,n);try{t(e)}catch(n){r.logger.error("Failed to run callback in arrayEventify",n)}}}}},"natwest-core/src/helpers/getRandomString.js":{script:function(e){"use strict";e.exports=function(){return String(Date.now().toString(32)+Math.random().toString(16)).replace(/\./g,"")}}}}},"adobe-target-v2":{displayName:"Adobe Target v2",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP4d931de95317478eb0767fcd2d78431c/",settings:{targetSettings:{enabled:!0,timeout:3e3,version:"2.8.1",endpoint:"/rest/v1/delivery",imsOrgId:"C50417FE52CB33480A490D4C@AdobeOrg",clientCode:"rbs",secureOnly:!1,serverState:{},optinEnabled:!0,serverDomain:"%targetServer%",urlSizeLimit:2048,viewsEnabled:!0,optoutEnabled:!1,bodyHiddenStyle:"body {opacity: 0}",pageLoadEnabled:!0,analyticsLogging:"server_side",deviceIdLifetime:632448e5,bodyHidingEnabled:!0,decisioningMethod:"server-side",sessionIdLifetime:186e4,visitorApiTimeout:2e3,authoringScriptUrl:"//cdn.tt.omtrdc.net/cdn/target-vec.js",overrideMboxEdgeServer:!1,selectorsPollingTimeout:5e3,defaultContentHiddenStyle:"visibility: hidden;",defaultContentVisibleStyle:"visibility: visible;",overrideMboxEdgeServerTimeout:186e4,supplementalDataIdParamTimeout:30}},modules:{"adobe-target-v2/lib/firePageLoad.js":{name:"fire-page-load",displayName:"Fire Page Load Request",script:function(e,t,n,r){"use strict";function a(){return o.adobe&&o.adobe.target&&o.adobe.target.VERSION}var o=n("@adobe/reactor-window"),i=n("./modules/libs/at-launch"),s=i.initConfig,c=i.initDelivery,l=n("./modules/page-load"),u=n("./messages");e.exports=function(e){var t=l(e);a()?(s(t),c()):o.console&&r.logger.warn(u.NO_REQUEST)}}},"adobe-target-v2/lib/addParams.js":{name:"add-params",displayName:"Add Params to All Requests",script:function(e,t,n){"use strict";var r=n("./modules/params-store").mergeParams;e.exports=function(e){r(e.params)}}},"adobe-target-v2/lib/loadTarget.js":{name:"load-target",displayName:"Load Target",script:function(e,t,n){"use strict";var r=n("@adobe/reactor-window"),a=n("@adobe/reactor-document"),o=n("./modules/load-target"),i=o.initLibrarySettings,s=o.overridePublicApi,c=n("./modules/optin"),l=c.shouldUseOptIn,u=c.isTargetApproved,d=n("./analyticsIntegration");e.exports=function(){var e=i();e&&e.enabled?((0,n("./modules/libs/at-launch").init)(r,a,e),l()&&!u()||d()):s(r)}}},"adobe-target-v2/lib/modules/libs/at-launch.js":{script:function(e,t,n){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){return s(e)||c(e,t)||l(e,t)||d()}function s(e){if(Array.isArray(e))return e
}function c(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){s=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}function l(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function g(e){return null==e}function p(e){return dd.call(e)}function m(e){return p(e)}function f(e){var t=a(e);return null!=e&&("object"===t||"function"===t)}function v(e){return!!f(e)&&m(e)===gd}function h(e){return e}function b(e){return v(e)?e:h}function C(e){return g(e)?[]:Object.keys(e)}function E(e,t){return g(t)?[]:(ld(t)?fd:vd)(b(e),t)}function y(e){return e&&e.length?e[0]:void 0}function S(e){return g(e)?[]:[].concat.apply([],e)}function T(e){for(var t=this,n=e?e.length:0,r=n;r-=1;)if(!v(e[r]))throw new TypeError("Expected a function");return function(){for(var r=0,a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];for(var s=n?e[r].apply(t,o):o[0];(r+=1)<n;)s=e[r].call(t,s);return s}}function A(e,t){g(t)||(ld(t)?pd:md)(b(e),t)}function _(e){return null!=e&&"object"===a(e)}function N(e){return"string"==typeof e||!ld(e)&&_(e)&&m(e)===hd}function P(e){if(!N(e))return-1;for(var t=0,n=e.length,r=0;r<n;r+=1)t=(t<<5)-t+e.charCodeAt(r)&4294967295;return t}function I(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=bd}function w(e){return null!=e&&I(e.length)&&!v(e)}function R(e,t){return Cd((function(e){return t[e]}),e)}function O(e){for(var t=0,n=e.length,r=Array(n);t<n;)r[t]=e[t],t+=1;return r}function L(e){return e.split("")}function k(e){return g(e)?[]:w(e)?N(e)?L(e):O(e):R(C(e),e)}function D(e){if(null==e)return!0;if(w(e)&&(ld(e)||N(e)||v(e.splice)))return!e.length;for(var t in e)if(yd.call(e,t))return!1;return!0}function M(e){return g(e)?"":Td.call(e)}function x(e){return N(e)?!M(e):D(e)}function B(e){return"number"==typeof e||_(e)&&m(e)===_d}function V(e){return Object.getPrototypeOf(Object(e))}function j(e){if(!_(e)||m(e)!==Nd)return!1;var t=V(e);if(null===t)return!0;var n=Rd.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&wd.call(n)===Od}function U(e,t){return ld(t)?t.join(e||""):""}function F(e,t){return g(t)?[]:(ld(t)?Cd:Ld)(b(e),t)}function G(){return(new Date).getTime()}function H(e,t,n){return g(n)?t:(ld(n)?kd:Dd)(b(e),t,n)}function W(e){return null==e?e:xd.call(e)}function q(e,t){return x(t)?[]:t.split(e||"")}function K(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return setTimeout(e,Number(t)||0)}function Y(e){clearTimeout(e)}function z(e){return void 0===e}function J(e){return!z(e)}function $(e){return!!e.execute&&!!e.execute.pageLoad}function X(e){return!!e.execute&&!!e.execute.mboxes&&e.execute.mboxes.length||0}function Q(e){return!!e.prefetch&&!!e.prefetch.pageLoad}function Z(e){return!!e.prefetch&&!!e.prefetch.mboxes&&e.prefetch.mboxes.length||0}function ee(e){return!!e.prefetch&&!!e.prefetch.views&&e.prefetch.views.length||0}function te(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(e&&B(e))return+e.toFixed(t)}function ne(){function e(e){r.push(e)}function t(){var e=r;return r=[],e}function n(){return r.length>0}var r=[];return{addEntry:e,getAndClearEntries:t,hasEntries:n}}function re(){function e(e){return e.edgeHost?Vd.EDGE:Vd.LOCAL}function t(e){var t={},n=$(e),r=X(e),a=Q(e),o=Z(e),i=ee(e);return n&&(t.executePageLoad=n),r&&(t.executeMboxCount=r),a&&(t.prefetchPageLoad=a),o&&(t.prefetchMboxCount=o),i&&(t.prefetchViewCount=i),t}function n(e){var t={};return e.dns&&(t.dns=te(e.dns)),e.tls&&(t.tls=te(e.tls)),e.timeToFirstByte&&(t.timeToFirstByte=te(e.timeToFirstByte)),e.download&&(t.download=te(e.download)),e.responseSize&&(t.responseSize=te(e.responseSize)),t}function r(e){var t={};return e.execution&&(t.execution=te(e.execution)),e.parsing&&(t.parsing=te(e.parsing)),e.request&&(t.request=n(e.request)),ad.default(e,t)}function a(e){f.addEntry(r(e))}function o(e){p&&a({requestId:e.requestId,timestamp:G()})}function i(e,t){p&&a({requestId:e,timestamp:G(),execution:t})}function s(e,t){a(ad.default(t,{requestId:e,timestamp:G()}))}function c(e,t){p&&t&&s(e,t)}function l(n,r,a){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:m;if(p&&r){var i=n.requestId,c=ad.default(t(n),{decisioningMethod:o}),l={mode:e(a),features:c};s(i,ad.default(r,l))}}function u(){return f.getAndClearEntries()}function d(){return f.hasEntries()}function g(e){return d()?ad.default(e,{telemetry:{entries:u()}}):e}var p=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Bd.SERVER_SIDE,f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ne();return{addDeliveryRequestEntry:l,addArtifactRequestEntry:c,addRenderEntry:i,addServerStateEntry:o,getAndClearEntries:u,hasEntries:d,addTelemetryToDeliveryRequest:g}}function ae(e,t){return e(t={exports:{}},t.exports),t.exports}function oe(){function e(e){var t=(J(o[e])?o[e]:0)+1;return o[e]=t,""+e+t}function t(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1]?e(t):t;return z(i[n])&&(i[n]=Gd()),n}function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(z(i[e]))return-1;var n=Gd()-i[e]-t;return s[e]=n,n}function r(e){delete o[e],delete i[e],delete s[e]}function a(){o={},i={},s={}}var o={},i={},s={};return{timeStart:t,timeEnd:n,getTimings:function(){return s},getTiming:function(e){return s[e]},clearTiming:r,reset:a}}function ie(){var e=window.crypto||window.msCrypto;return!g(e)&&e.getRandomValues&&v(e.getRandomValues)&&e.getRandomValues.bind(e)}function se(){return Kd(qd)}function ce(){for(var e=[],t=0;t<256;t+=1)e.push((t+256).toString(16).substr(1));return e}function le(e){for(var t=[],n=0;n<16;n+=1)t.push(Yd[e[n]]);return U("",t).toLowerCase()}function ue(e){var t=e();return t[6]=15&t[6]|64,t[8]=63&t[8]|128,le(t)}function de(){return ue(se)}function ge(e,t){e[Xp]&&(g(t[am])||(e[Bm]=t[am]),A((function(n){g(t[n])||(e[n]=t[n])}),Mf))}function pe(e){var t=e.documentMode;return!t||t>=10}function me(e){var t=e.compatMode;return t&&"CSS1Compat"===t}function fe(e){return Lf.test(e)}function ve(e){if(fe(e))return e;var t=W(q(".",e)),n=t.length;return n>=3&&kf.test(t[1])?t[2]+"."+t[1]+"."+t[0]:1===n?t[0]:t[1]+"."+t[0]}function he(e,t,n){var r="";e.location.protocol===Of||(r=ve(e.location.hostname)),n[Em]=r,n[Xp]=me(t)&&pe(t),ge(n,e[Lm]||{})}function be(e){he(Rf,wf,e);var t=Rf.location.protocol===Of;(Df=ad.default({},e))[lm]=e[lm]/1e3,Df[um]=e[um]/1e3,Df[Cm]=Df[vm]||t?"https:":""}function Ce(){return Df}function Ee(e){try{return xf(e)}catch(e){return{}}}function ye(e){try{return Bf(e)}catch(e){return""}}function Se(e){try{return decodeURIComponent(e)}catch(t){return e}}function Te(e){try{return encodeURIComponent(e)}catch(t){return e}}function Ae(e){if(jf[e])return jf[e];Vf.href=e;var t=Wd(Vf.href);return t.queryKey=Ee(t.query),jf[e]=t,jf[e]}function _e(e,t,n){return{name:e,value:t,expires:n}}function Ne(e){var t=q("#",e);return D(t)||t.length<3||isNaN(parseInt(t[2],10))?null:_e(Se(t[0]),Se(t[1]),Number(t[2]))}function Pe(e){return x(e)?[]:q("|",e)}function Ie(){var e=F(Ne,Pe(Uf(Hf))),t=Math.ceil(G()/1e3);return H((function(e,t){return e[t.name]=t,e}),{},E((function(e){return f(e)&&t<=e.expires}),e))}function we(e){var t=Ie()[e];return f(t)?t.value:""}function Re(e){return U("#",[Te(e.name),Te(e.value),e.expires])}function Oe(e){return e.expires}function Le(e){var t=F(Oe,e);return Math.max.apply(null,t)}function ke(e,t,n){var r=k(e),a=Math.abs(1e3*Le(r)-G()),o=U("|",F(Re,r)),i=new Date(G()+a),s=ad.default({domain:t,expires:i,secure:n},n?{sameSite:yf}:{});Ff(Hf,o,s)}function De(e){var t=e.name,n=e.value,r=e.expires,a=e.domain,o=e.secure,i=Ie();i[t]=_e(t,n,Math.ceil(r+G()/1e3)),ke(i,a,o)}function Me(e){return Ad(Uf(e))}function xe(e,t){var n=Ee(e.location.search);return Ad(n[t])}function Be(e,t){var n=Ae(e.referrer).queryKey;return!g(n)&&Ad(n[t])}function Ve(e,t,n){return Me(n)||xe(e,n)||Be(t,n)}function je(){var e=Ce(),t=e[Em],n=e[vm],r=ad.default({domain:t,secure:n},n?{sameSite:yf}:{});Ff(Og,Lg,r);var a=Uf(Og)===Lg;return Gf(Og),a}function Ue(){return Ve(Rf,wf,wg)}function Fe(){return Ce()[Xp]&&je()&&!Ue()}function Ge(){return Ve(Rf,wf,Ig)}function He(){return Ve(Rf,wf,Rg)}function We(e,t){var n=e.console;return!g(n)&&v(n[t])}function qe(e,t){var n=e.console;We(e,"warn")&&n.warn.apply(n,[Wf].concat(t))}function Ke(e,t){var n=e.console;We(e,"debug")&&Ge()&&n.debug.apply(n,[Wf].concat(t))}function Ye(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];qe(Rf,t)}function ze(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Ke(Rf,t)}function Je(e){return H((function(t,n){return t[n]=e[n],t}),{},Mf)}function $e(e,t,n){var r=e[Om]||[];if(e[Om]=r,n){var a=r.push;r[om]=qf,r[Im]=Je(t),r[wm]=[],r[Rm]=[],r.push=function(e){r[Rm].push(ad.default({timestamp:G()},e)),a.call(this,e)}}}function Xe(e,t,n,r){t===Rm&&e[Om].push(n),r&&t!==Rm&&e[Om][t].push(ad.default({timestamp:G()},n))}function Qe(){$e(Rf,Ce(),Ge())}function Ze(e){Xe(Rf,Rm,e,Ge())}function et(e){Xe(Rf,wm,e,Ge())}function tt(){return v(Yf)}function nt(e){return new Yf(e)}function rt(){var e=wf.createTextNode(""),t=function(){e.textContent=e.textContent.length>0?"":"a"},n=[];return nt((function(){for(var e=n.length,t=0;t<e;t+=1)n[t]();n.splice(0,e)})).observe(e,{characterData:!0}),function(e){n.push(e),t()}}function at(){return function(e){var t=Kf("<script>");t.on("readystatechange",(function(){t.on("readystatechange",null),t.remove(),t=null,e()})),Kf(wf.documentElement).append(t)}}function ot(){tt()?sd.default._setImmediateFn(rt()):-1!==Rf.navigator.userAgent.indexOf("MSIE 10")&&sd.default._setImmediateFn(at())}function it(e){return new sd.default(e)}function st(e){return sd.default.resolve(e)}function ct(e){return sd.default.reject(e)}function lt(e){return ld(e)?sd.default.race(e):ct(new TypeError(zf))}function ut(e){return ld(e)?sd.default.all(e):ct(new TypeError(zf))}function dt(e,t,n){var r=-1;return lt([e,it((function(e,a){r=K((function(){return a(new Error(n))}),t)}))]).then((function(e){return Y(r),e}),(function(e){throw Y(r),e}))}function gt(e){if(g(e[af]))return!1;var t=e[af];if(g(t[of]))return!1;var n=t[of];return v(n[cf])&&v(n[sf])}function pt(e,t){return!!t&&gt(e)}function mt(e,t){if(!gt(e))return!0;var n=e[af][of],r=(e[af][of][lf]||{})[t];return n[sf](r)}function ft(e,t){if(!gt(e))return st(!0);var n=e[af][of],r=(e[af][of][lf]||{})[t];return it((function(e,t){n[cf]((function(){n[sf](r)?e(!0):t(pf)}),!0)}))}function vt(){var e=Ce()[gf];return pt(Rf,e)}function ht(){return mt(Rf,uf)}function bt(){return mt(Rf,df)}function Ct(){return ft(Rf,uf)}function Et(){return Ee(Rf.location.search)[Tm]}function yt(e,t){De({name:Nm,value:e,expires:t[um],domain:t[Em],secure:t[vm]})}function St(e){yt(e,Ce())}function Tt(){if(vt()&&!ht())return Jf;var e=Et();if(Ad(e))return St(e),we(Nm);var t=we(Nm);return x(t)?St(Jf):St(t),we(Nm)}function At(e){var t=Ce();De({name:Am,value:e,expires:t[lm],domain:t[Em],secure:t[vm]})}function _t(){return we(Am)}function Nt(e){if(x(e))return"";var t=$f.exec(e);return D(t)||2!==t.length?"":t[1]}function Pt(){if(!Ce()[pm])return"";var e=Uf(_m);return x(e)?"":e}function It(e){var t=Ce();if(t[pm]){var n=t[Em],r=new Date(G()+t[mm]),a=t[vm],o=Uf(_m),i=ad.default({domain:n,expires:r,secure:a},a?{sameSite:yf}:{});if(Ad(o))Ff(_m,o,i);else{var s=Nt(e);x(s)||Ff(_m,s,i)}}}function wt(e,t){function n(e,n){var r=t.createEvent("CustomEvent");return n=n||{bubbles:!1,cancelable:!1,detail:void 0},r.initCustomEvent(e,n.bubbles,n.cancelable,n.detail),r}v(e.CustomEvent)||(n.prototype=e.Event.prototype,e.CustomEvent=n)}function Rt(e,t){var n=e(),r=t(),a={};return a.sessionId=n,Ad(r)?(a.deviceId=r,a):a}function Ot(e,t,n,r){var a=new e.CustomEvent(n,{detail:r});t.dispatchEvent(a)}function Lt(e,t){var n;try{n=JSON.parse(JSON.stringify(t))}catch(e){n=t}var r=n,a=r.mbox,o=r.error,i=r.url,s=r.analyticsDetails,c=r.responseTokens,l=r.execution,u={type:e,tracking:Rt(Tt,_t)};return g(a)||(u.mbox=a),g(o)||(u.error=o),g(i)||(u.url=i),D(s)||(u.analyticsDetails=s),D(c)||(u.responseTokens=c),D(l)||(u.execution=l),u}function kt(){var e=Lt(Qf,{});Ot(Rf,wf,Qf,e)}function Dt(e){var t=Lt(Zf,e);Ot(Rf,wf,Zf,t)}function Mt(e,t){var n=Lt(ev,e);n.redirect=t,Ot(Rf,wf,ev,n)}function xt(e){var t=Lt(tv,e);Ot(Rf,wf,tv,t)}function Bt(e){var t=Lt(nv,e);Ot(Rf,wf,nv,t)}function Vt(e){var t=Lt(rv,e);Ot(Rf,wf,rv,t)}function jt(e){var t=Lt(av,e);Ot(Rf,wf,av,t)}function Ut(e){var t=Lt(ov,e);Ot(Rf,wf,ov,t)}function Ft(e){var t=Lt(iv,e);Ot(Rf,wf,iv,t)}function Gt(e){return _(e)&&1===e.nodeType&&!j(e)}function Ht(e){var t=e.charAt(0),n=e.charAt(1),r=e.charAt(2),a={key:e};return a.val="-"===n?""+t+n+"\\3"+r+" ":t+"\\3"+n+" ",a}function Wt(e){var t=e.match(uv);return D(t)?e:H((function(e,t){return e.replace(t.key,t.val)}),e,F(Ht,t))}function qt(e){for(var t,n,r,a,o=[],i=M(e),s=i.indexOf(sv);-1!==s;)t=M(i.substring(0,s)),a=(n=M(i.substring(s))).indexOf(cv),r=M(n.substring(lv,a)),s=(i=M(n.substring(a+1))).indexOf(sv),t&&r&&o.push({sel:t,eq:Number(r)});return i&&o.push({sel:i}),o}function Kt(e){if(Gt(e))return Kf(e);if(!N(e))return Kf(e);var t=Wt(e);if(-1===t.indexOf(sv))return Kf(t);var n=qt(t);return H((function(e,t){var n=t.sel,r=t.eq;return e=e.find(n),B(r)&&(e=e.eq(r)),e}),Kf(wf),n)}function Yt(e){return Kt(e).length>0}function zt(e){return Kf("<"+zg+"/>").append(e)}function Jt(e){return Kf(e)}function $t(e){return Kt(e).prev()}function Xt(e){return Kt(e).next()}function Qt(e){return Kt(e).parent()}function Zt(e,t){return Kt(t).is(e)}function en(e,t){return Kt(t).find(e)}function tn(e){return Kt(e).children()}function nn(){Rf[pv]=Rf[pv]||{},Rf[pv].querySelectorAll=Kt}function rn(e){var t=e[zm];Rf[pv][fv]=t}function an(){wf.addEventListener(Gg,(function(e){v(Rf[pv][mv])&&Rf[pv][mv](e)}),!0)}function on(){if(He()){nn();var e=Ce()[bm],t=function(){return an()},n=function(){return Ye(dv)};ze(gv),cd.default(e).then(t).catch(n)}}function sn(e){return parseInt(e,10)}function cn(e){var t=sn(e);return isNaN(t)?null:t}function ln(e){return q(Sv,e)}function un(e){var t=q(Sv,e),n=cn(t[0]);if(g(n))return null;var r={};r.activityIndex=n;var a=cn(t[1]);return g(a)||(r.experienceIndex=a),r}function dn(e){return E(Tv,F(un,e))}function gn(e){return ld(e)?dn(e):dn([e])}function pn(e){var t=Ee(e),n=t[hv];if(x(n))return null;var r={};r.token=n;var a=t[Cv];Ad(a)&&a===Lg&&(r.listedActivitiesOnly=!0);var o=t[Ev];Ad(o)&&(r.evaluateAsTrueAudienceIds=ln(o));var i=t[yv];Ad(i)&&(r.evaluateAsFalseAudienceIds=ln(i));var s=t[bv];return D(s)||(r.previewIndexes=gn(s)),r}function mn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ff,n=pn(e.location.search);if(!g(n)){var r=new Date(G()+186e4),a=Ce(),o=a[vm],i=a[Em],s=ad.default({expires:r,secure:o,domain:i},o?{sameSite:yf}:{});t(vv,JSON.stringify(n),s)}}function fn(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Uf)(vv);if(x(e))return{};try{return JSON.parse(e)}catch(e){return{}}}function vn(e){var t=Ee(e)[_v];return x(t)?null:{token:t}}function hn(e){var t=vn(e.location.search);if(!g(t)){var n=new Date(G()+186e4),r=Ce()[vm],a=ad.default({expires:n,secure:r},r?{sameSite:yf}:{});Ff(Av,JSON.stringify(t),a)}}function bn(){var e=Uf(Av);if(x(e))return{};try{return JSON.parse(e)}catch(e){return{}}}function Cn(e){return Kt(e).empty().remove()}function En(e,t){return Kt(t).after(e)}function yn(e,t){return Kt(t).before(e)}function Sn(e,t){return Kt(t).append(e)}function Tn(e,t){return Kt(t).prepend(e)}function An(e,t){return Kt(t).html(e)}function _n(e){return Kt(e).html()}function Nn(e,t){return Kt(t).text(e)}function Pn(e,t){return"<"+qg+" "+Ug+'="'+e+'" '+Fg+'="'+zp+'">'+t+"</"+qg+">"}function In(e,t){return Pn(Nv+P(t),t+" {"+e+"}")}function wn(e,t){return Pn(wv,t+" {"+e+"}")}function Rn(e){if(!0===e[cm]&&!Yt(Iv)){var t=e[sm];Sn(Pn(Pv,t),Hg)}}function On(e){!0===e[cm]&&Yt(Iv)&&Cn(Iv)}function Ln(e,t){if(!D(t)){var n=E((function(e){return!Yt("#"+(Nv+P(e)))}),t);if(!D(n)){var r=e[im];Sn(U("\n",F((function(e){return In(r,e)}),n)),Hg)}}}function kn(e,t){D(t)||Yt("#"+wv)||Sn(wn(e[im],U(", ",t)),Hg)}function Dn(){Rn(Ce())}function Mn(){On(Ce())}function xn(e){Ln(Ce(),e)}function Bn(e){kn(Ce(),e)}function Vn(e){Cn("#"+(Nv+P(e)))}function jn(){var e="#"+wv;Yt(e)&&Cn(e)}function Un(e){return!g(e[Ug])}function Fn(e){return!g(e[Vm])}function Gn(e){switch(e){case 0:default:return"unknown";case 1:return"authenticated";case 2:return"logged_out"}}function Hn(e){return e[Fm]}function Wn(e){return Un(e)||Fn(e)}function qn(e,t){return H((function(e,n,r){var a={};return a[Um]=r,Un(n)&&(a[Ug]=n[Ug]),Fn(n)&&(a[jm]=Gn(n[Vm])),a[zd]=t,Hn(n)&&(a[Fm]=!0),e.push(a),e}),[],E(Wn,e))}function Kn(e){if(!e.nameSpaces&&!e.dataSources)return qn(e,jv);var t=[];return e.nameSpaces&&t.push.apply(t,qn(e.nameSpaces,Vv)),e.dataSources&&t.push.apply(t,qn(e.dataSources,jv)),t}function Yn(e){if(g(e))return[];if(!v(e[xv]))return[];var t=e[xv](Bv);return f(t)?Kn(t):[]}function zn(e,t){return g(e)?null:v(e[Mv])?e[Mv](t):null}function Jn(e,t){if(g(e))return null;var n=e[t];return g(n)?null:n}function $n(e,t,n){if(x(t))return null;if(g(e[Gv]))return null;if(!v(e[Gv][Hv]))return null;var r=e[Gv][Hv](t,{sdidParamExpiry:n});return f(r)&&v(r[Wv])&&r[Wv]()?r:null}function Xn(e,t){if(!v(e.getVisitorValues))return st({});var n=[kv,Ov,Lv];return t&&n.push(Dv),it((function(t){e.getVisitorValues((function(e){return t(e)}),n)}))}function Qn(e){return ze(Kv,e),{}}function Zn(e,t,n){return g(e)?st({}):dt(Xn(e,n),t,qv).catch(Qn)}function er(e,t){if(!v(e.getVisitorValues))return{};var n=[kv,Ov,Lv];t&&n.push(Dv);var r={};return e.getVisitorValues((function(e){return ad.default(r,e)}),n),r}function tr(e,t){return g(e)?{}:er(e,t)}function nr(){var e=Ce(),t=e[Zp],n=e[hm];return $n(Rf,t,n)}function rr(){var e=nr(),t=Ce();return Zn(e,t[gm],t[fm])}function ar(){return tr(nr(),Ce()[fm])}function or(){return Yn(nr())}function ir(e){return zn(nr(),e)}function sr(e){return Jn(nr(),e)}function cr(e,t){Yv[e]=t}function lr(e){return Yv[e]}function ur(e){var t=e[Lm];if(g(t))return!1;var n=t[Dm];return!(!ld(n)||D(n))}function dr(e){var t=e[Vp];if(!N(t)||D(t))return!1;var n=e[om];if(!N(n)||D(n))return!1;var r=e[nm];return!(!g(r)&&!B(r)||!v(e[Kp]))}function gr(e){return it((function(t,n){e((function(e,r){g(e)?t(r):n(e)}))}))}function pr(e,t,n,r,a,o){var i={};i[e]=t,i[n]=r,i[a]=o;var s={};return s[km]=i,s}function mr(e){var t=e[Vp],n=e[om],r=e[nm]||$v;return dt(gr(e[Kp]),r,Jv).then((function(e){var r=pr(Vp,t,om,n,Up,e);return ze(zv,kp,r),et(r),e})).catch((function(e){var r=pr(Vp,t,om,n,wp,e);return ze(zv,wp,r),et(r),{}}))}function fr(e){var t=H((function(e,t){return ad.default(e,t)}),{},e);return cr(Dm,t),t}function vr(e){return ur(e)?ut(F(mr,E(dr,e[Lm][Dm]))).then(fr):st({})}function hr(){var e=lr(Dm);return g(e)?{}:e}function br(){return vr(Rf)}function Cr(){return hr()}function Er(e){var t=Ee(e.location.search)[Xv];return x(t)?null:t}function yr(){var e=Uf(Qv);return x(e)?null:e}function Sr(){var e=Er(Rf),t=yr();return e||t}function Tr(e){return!D(e)&&2===e.length&&Ad(e[0])}function Ar(e){var t=e.indexOf("=");return-1===t?[]:[e.substr(0,t),e.substr(t+1)]}function _r(e,t,n,r){A((function(e,a){f(e)?(t.push(a),_r(e,t,n,r),t.pop()):D(t)?n[r(a)]=e:n[r(U(".",t.concat(a)))]=e}),e)}function Nr(e){return E((function(e,t){return Ad(t)}),Ee(e))}function Pr(e){var t=H((function(e,t){return e.push(Ar(t)),e}),[],E(Ad,e));return H((function(e,t){return e[Se(M(t[0]))]=Se(M(t[1])),e}),{},E(Tr,t))}function Ir(e,t){var n={};return g(t)?_r(e,[],n,h):_r(e,[],n,t),n}function wr(e){if(!v(e))return{};var t=null;try{t=e()}catch(e){return{}}return g(t)?{}:ld(t)?Pr(t):N(t)&&Ad(t)?Nr(t):f(t)?Ir(t):{}}function Rr(){return window.navigator.userAgentData}function Or(e){return ad.default({},e,wr(Rf.targetPageParamsAll))}function Lr(e){return ad.default({},e,wr(Rf.targetPageParams))}function kr(e){var t=Ce(),n=t[rm],r=t[ym],a=t[Sm];return n!==e?Or(r||{}):ad.default(Or(r||{}),Lr(a||{}))}function Dr(){var e=wf.createElement("canvas"),t=e.getContext("webgl")||e.getContext("experimental-webgl");if(g(t))return null;var n=t.getExtension("WEBGL_debug_renderer_info");if(g(n))return null;var r=t.getParameter(n.UNMASKED_RENDERER_WEBGL);return g(r)?null:r}function Mr(){var e=Rf.devicePixelRatio;if(!g(e))return e;e=1;var t=Rf.screen,n=t.systemXDPI,r=t.logicalXDPI;return!g(n)&&!g(r)&&n>r&&(e=n/r),e}function xr(e){if(!ld(e)||0===e.length)return"";var t="";return e.forEach((function(n,r){var a=n.brand,o=n.version,i=r<e.length-1?", ":"";t+='"'+a+'";v="'+o+'"'+i})),t}function Br(e){return{mobile:e.mobile,platform:e.platform,browserUAWithMajorVersion:xr(e.brands)}}function Vr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return e.getHighEntropyValues(Zv).then((function(e){var n=e.platformVersion,r=e.architecture,a=e.bitness,o=e.model,i=e.fullVersionList;return ad.default({},t,{model:o,platformVersion:n,browserUAWithFullVersion:xr(i),architecture:r,bitness:a})}))}catch(e){return st(t)}}function jr(e){return cr(_f,e),e}function Ur(e){return st(e).then(jr)}function Fr(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=lr(_f);if(J(n))return Ur(n);if(z(e))return Ur({});var r=Br(e);return Ur(t?Vr(e,r):r)}function Gr(){var e=Rf.screen,t=e.orientation,n=e.width,r=e.height;if(g(t))return n>r?"landscape":"portrait";if(g(t.type))return null;var a=q("-",t.type);if(D(a))return null;var o=a[0];return g(o)?null:o}function Hr(){return eh}function Wr(e){return e===nh}function qr(e){return-1!==e.indexOf(th)}function Kr(e){return e===rh}function Yr(e){return e===ah}function zr(e){return e===oh}function Jr(e){return e===ih}function $r(e){return e===sh}function Xr(e){return e===ch}function Qr(e){return qr(e)||Wr(e)||Kr(e)||Yr(e)||zr(e)||Jr(e)||$r(e)||Xr(e)}function Zr(e){return e.substring(th.length)}function ea(e){return e[nh]}function ta(e){return e[rh]}function na(e){return e[ah]}function ra(e){return e[oh]}function aa(e){var t=F(M,q(",",e[ih]));return E(Ad,t)}function oa(e){return e[sh]}function ia(e){return e[ch]}function sa(){return H((function(e,t,n){return Qr(n)||(e[n]=g(t)?"":t),e}),{},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function ca(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return H((function(e,n,r){var a=t?Zr(r):r;return t&&!qr(r)||x(a)||(e[a]=g(n)?"":n),e}),{},e)}function la(e,t,n){return e.onload=function(){var r=1223===e.status?204:e.status;if(r<100||r>599)n(new Error(uh));else{var a;try{var o=Gd();(a=JSON.parse(e.responseText)).parsingTime=Gd()-o,a.responseSize=new Blob([e.responseText]).size}catch(e){return void n(new Error(gh))}var i=e.getAllResponseHeaders();t({status:r,headers:i,response:a})}},e}function ua(e,t){return e.onerror=function(){t(new Error(uh))},e}function da(e,t,n){return e.timeout=t,e.ontimeout=function(){n(new Error(dh))},e}function ga(e){return A((function(t,n){ld(t)&&A((function(t){e.setRequestHeader(n,t)}),t)}),arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),e}function pa(e){var t=e.url,n=e.headers,r=e.body,a=e.timeout,o=e.async;return it((function(e,i){var s=new window.XMLHttpRequest;(s=ua(s=la(s,e,i),i)).open(lh,t,o),s.withCredentials=!0,s=ga(s,n),o&&(s=da(s,a,i)),s.send(JSON.stringify(r))})).then((function(e){var t=e.response,n=t.status,r=t.message;if(!g(n)&&!g(r))throw new Error(r);return t}))}function ma(e,t){if(!performance)return null;var n=performance.getEntriesByType("resource").find((function(t){return t.name.endsWith(e)}));if(!n)return null;var r={};return n.domainLookupEnd&&n.domainLookupStart&&(r.dns=n.domainLookupEnd-n.domainLookupStart),n.secureConnectionStart&&n.connectEnd&&(r.tls=n.connectEnd-n.secureConnectionStart),n.responseStart&&(r.timeToFirstByte=n.responseStart-n.requestStart),n.responseEnd&&n.responseStart&&(r.download=n.responseEnd-n.responseStart),n.encodedBodySize?r.responseSize=n.encodedBodySize:t.responseSize&&(r.responseSize=t.responseSize,delete t.responseSize),r}function fa(e,t){return B(t)?t<0?e[nm]:t:e[nm]}function va(e){var t=e[em];if(!e[pm])return t;var n=Pt();return x(n)?t:""+ph+n+mh}function ha(e){return e[Cm]+"//"+va(e)+e[Mm]+"?"+ye({client:e[Qp],sessionId:Tt(),version:e[om]})}function ba(e,t,n){var r=Ce(),a=ha(r),i=o({},$m,[Xm]),s=fa(r,t),c={url:a,headers:i,body:e,timeout:s,async:!0};return Hd.timeStart(e.requestId),pa(c).then((function(t){var r={execution:Hd.timeEnd(e.requestId),parsing:t.parsingTime};delete t.parsingTime;var o=ma(a,t);return o&&(r.request=o),t.telemetryServerToken&&(r.telemetryServerToken=t.telemetryServerToken),window.__target_telemetry.addDeliveryRequestEntry(e,r,t,n),ad.default(t,{decisioningMethod:Bd.SERVER_SIDE})}))}function Ca(e){if(e[Dv])throw new Error(Rv);return e}function Ea(){var e=rr(),t=br();return ut([e.then(Ca),t])}function ya(){return[ar(),Cr()]}function Sa(e){var t=Ce()[rm];return ad.default({},e,kr(t))}function Ta(){return-(new Date).getTimezoneOffset()}function Aa(){var e=Rf.screen;return{width:e.width,height:e.height,orientation:Gr(),colorDepth:e.colorDepth,pixelRatio:Mr()}}function _a(){var e=wf.documentElement;return{width:e.clientWidth,height:e.clientHeight}}function Na(){return{host:Rf.location.hostname,webGLRenderer:Hr()}}function Pa(){return{url:Rf.location.href,referringUrl:wf.referrer}}function Ia(e){if(!g(e)&&e.channel===Af)return e;var t=Ce(),n=lr(_f)||{},r=(e||{}).beacon;return{userAgent:Rf.navigator.userAgent,clientHints:n,timeOffsetInMinutes:Ta(),channel:Af,screen:Aa(),window:_a(),browser:Na(),address:Pa(),geo:e&&e.geo,crossDomain:t[tm],beacon:r}}function wa(e,t){if(!g(e))return e;var n={};if(D(t))return n;var r=t[Lv],a=parseInt(r,10);isNaN(a)||(n.locationHint=a);var o=t[Ov];return Ad(o)&&(n.blob=o),n}function Ra(e){var t=e.id,n=e.integrationCode,r=e.authenticatedState,a=e.type,o=e.primary,i={};return Ad(t)&&(i.id=t),Ad(n)&&(i.integrationCode=n),Ad(r)&&(i.authenticatedState=r),Ad(a)&&(i.type=a),o&&(i.primary=o),i}function Oa(e){return F(Ra,e)}function La(e,t,n,r,a){var o={};Ad(t)&&(o.tntId=t),Ad(n)&&(o.thirdPartyId=n),Ad(e.thirdPartyId)&&(o.thirdPartyId=e.thirdPartyId);var i=r[kv];return Ad(i)&&(o.marketingCloudVisitorId=i),Ad(e.marketingCloudVisitorId)&&(o.marketingCloudVisitorId=e.marketingCloudVisitorId),D(e.customerIds)?(D(a)||(o.customerIds=Oa(a)),o):(o.customerIds=e.customerIds,o)}function ka(e,t){var n={},r=wa(e.audienceManager,t);return D(r)||(n.audienceManager=r),D(e.analytics)||(n.analytics=e.analytics),D(e.platform)||(n.platform=e.platform),n}function Da(e,t){if(!g(e)&&Ad(e.token))return e;var n={},r=ta(t);return Ad(r)&&(n.token=r),n}function Ma(e){if(!g(e)&&Ad(e.authorizationToken))return e;var t={},n=Sr();return Ad(n)&&(t.authorizationToken=n),t}function xa(e){return g(e)?bn():e}function Ba(e){return g(e)?fn():e}function Va(e){var t={},n=na(e);g(n)||(t.id=n);var r=ra(e),a=parseFloat(r);isNaN(a)||(t.total=a);var o=aa(e);return D(o)||(t.purchasedProductIds=o),t}function ja(e){var t={},n=oa(e);g(n)||(t.id=n);var r=ia(e);return g(r)||(t.categoryId=r),t}function Ua(e,t){var n={},r=ad.default({},sa(t),sa(e.parameters||{})),a=ad.default({},ca(t),ca(e.profileParameters||{},!1)),o=ad.default({},Va(t),e.order||{}),i=ad.default({},ja(t),e.product||{});return D(r)||(n.parameters=r),D(a)||(n.profileParameters=a),D(o)||(n.order=o),D(i)||(n.product=i),n}function Fa(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Ce()[rm],a=e.index,o=e.name,i=e.address,s=Ua(e,ad.default({},o===r?t:n,kr(o)));return g(a)||(s.index=a),Ad(o)&&(s.name=o),D(i)||(s.address=i),s}function Ga(e,t){var n=e.name,r=e.address,a=Ua(e,t);return Ad(n)&&(a.name=n),D(r)||(a.address=r),a}function Ha(e,t,n){var r=e.execute,a=void 0===r?{}:r,o={};if(D(a))return o;var i=a.pageLoad;g(i)||(o.pageLoad=Ua(i,t));var s=a.mboxes;if(!g(s)&&ld(s)&&!D(s)){var c=E(fh,F((function(e){return Fa(e,t,n)}),s));D(c)||(o.mboxes=c)}return o}function Wa(e,t,n){var r=e.prefetch,a=void 0===r?{}:r,o={};if(D(a))return o;var i=a.mboxes;g(i)||!ld(i)||D(i)||(o.mboxes=F((function(e){return Fa(e,t,n)}),i));var s=a.views;return g(s)||!ld(s)||D(s)||(o.views=F((function(e){return Ga(e,t)}),s)),o}function qa(e,t){if(vt()&&!bt())return null;var n=Ce(),r=ir(e),a=sr(Uv),o=sr(Fv),i=t.experienceCloud,s=(void 0===i?{}:i).analytics,c=void 0===s?{}:s,l=c.logging,u=c.supplementalDataId,d=c.trackingServer,p=c.trackingServerSecure,m={};return g(l)?m.logging=n[mf]:m.logging=l,g(u)||(m.supplementalDataId=u),Ad(r)&&(m.supplementalDataId=r),g(d)||(m.trackingServer=d),Ad(a)&&(m.trackingServer=a),g(p)||(m.trackingServerSecure=p),Ad(o)&&(m.trackingServerSecure=o),D(m)?null:m}function Ka(e,t,n){var r=Sa(n),a=_t(),o=ea(r),i=or(),s=La(e.id||{},a,o,t,i),c=Da(e.property,r),l=ka(e.experienceCloud||{},t),u=Ma(e.trace),d=xa(e.preview),g=Ba(e.qaMode),p=Ha(e,r,n),m=Wa(e,r,n),f=e.notifications,v={};return v.requestId=de(),v.context=Ia(e.context),D(s)||(v.id=s),D(c)||(v.property=c),D(u)||(v.trace=u),D(l)||(v.experienceCloud=l),D(d)||(v.preview=d),D(g)||(v.qaMode=g),D(p)||(v.execute=p),D(m)||(v.prefetch=m),D(f)||(v.notifications=f),v=Rf.__target_telemetry.addTelemetryToDeliveryRequest(v)}function Ya(e,t,n){var r=n[0],a=n[1];return Ka(e,r,ad.default({},a,t))}function za(e,t){var n=Ce();return ut([Ea(),Fr(Rr(),n[Nf])]).then((function(n){var r=i(n,1)[0];return Ya(e,t,r)}))}function Ja(e,t){return Ya(e,t,ya())}function $a(e,t){return ze(qp,e),et({request:e}),ba(e,t,Bd.SERVER_SIDE).then((function(t){return ze(Wp,t),et({response:t}),{request:e,response:t}}))}function Xa(e){return!e&&Xf?Xf:Xf=de()}function Qa(e,t){return{status:kp,type:e,data:t}}function Za(e,t){return{status:wp,type:e,data:t}}function eo(e){return f(e)}function to(e){return!!eo(e)&&Ad(e.eventToken)}function no(e){return!D(e)&&!x(e.type)&&Ad(e.eventToken)}function ro(e){return!!no(e)&&Ad(e.selector)}function ao(e){var t=e.id;return f(t)&&Ad(t.tntId)}function oo(e){var t=e.response;return ao(t)&&At(t.id.tntId),e}function io(e){var t=e.response;return ao(t)&&It(t.id.tntId),It(null),e}function so(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).trace;D(e)||Ze(e)}function co(e){var t=e.response,n=t.execute,r=void 0===n?{}:n,a=t.prefetch,o=void 0===a?{}:a,i=t.notifications,s=void 0===i?{}:i,c=r.pageLoad,l=void 0===c?{}:c,u=r.mboxes,d=void 0===u?[]:u,g=o.mboxes,p=void 0===g?[]:g,m=o.views,f=void 0===m?[]:m;return so(l),A(so,d),A(so,p),A(so,f),A(so,s),e}function lo(e){var t=e.queryKey,n=t[Vh];if(!N(n))return t;if(x(n))return t;var r=Math.round(G()/1e3);return t[Vh]=n.replace(/\|TS=\d+/,"|TS="+r),t}function uo(e){return e.queryKey}function go(e,t,n){var r=Ae(e),a=r.protocol,o=r.host,i=r.path,s=""===r.port?"":":"+r.port,c=x(r.anchor)?"":"#"+r.anchor,l=n(r),u=ye(ad.default({},l,t));return a+"://"+o+s+i+(x(u)?"":"?"+u)+c}function po(e,t){return go(e,t,lo)}function mo(e,t){return go(e,t,uo)}function fo(e){var t=e.content;if(x(t))return ze(Cp,e),null;var n=ad.default({},e);return n.content=po(t,{}),n}function vo(e){throw new Error(e)}function ho(e){var t=e[Wh]||Gh,n=e[qh]||vo(Fh),r=e[Kh]||{},a=e[Yh]||null,o=e[zh]||!1,i=e[Jh]||3e3,s=!!g(e[$h])||!0===e[$h],c={};return c[Wh]=t,c[qh]=n,c[Kh]=r,c[Yh]=a,c[zh]=o,c[Jh]=i,c[$h]=s,c}function bo(e,t,n){return e.onload=function(){var r=1223===e.status?204:e.status;if(r<100||r>599)n(new Error(jh));else{var a=e.responseText,o=e.getAllResponseHeaders();t({status:r,headers:o,response:a})}},e}function Co(e,t){return e.onerror=function(){t(new Error(jh))},e}function Eo(e,t,n){return e.timeout=t,e.ontimeout=function(){n(new Error(Uh))},e}function yo(e,t){return!0===t&&(e.withCredentials=t),e}function So(e,t){return A((function(t,n){A((function(t){return e.setRequestHeader(n,t)}),t)}),t),e}function To(e,t){var n=ho(t),r=n[Wh],a=n[qh],o=n[Kh],i=n[Yh],s=n[zh],c=n[Jh],l=n[$h];return it((function(t,n){var u=new e.XMLHttpRequest;(u=Co(u=bo(u,t,n),n)).open(r,a,l),u=So(u=yo(u,s),o),l&&(u=Eo(u,c,n)),u.send(i)}))}function Ao(e){return To(Rf,e)}function _o(e,t,n){var r={};return r[Wh]=Gh,r[qh]=mo(e,t),r[Jh]=n,r}function No(e){return e>=200&&e<300||304===e}function Po(e){if(!No(e.status))return null;var t=e.response;if(x(t))return null;var n={};return n.type=xg,n.content=t,n}function Io(e){
return Ao(_o(e.content,{},Ce()[Jh])).then(Po).catch((function(){return null}))}function wo(e){var t=e[rg];if(x(t))return"";var n=Xh.exec(t);return D(n)||2!==n.length?"":n[1]}function Ro(e,t){var n=document.createElement(zg);n.innerHTML=t;var r=n.firstElementChild;return g(r)?t:(r.id=e,r.outerHTML)}function Oo(e){var t=e[Jd],n=wo(e);if(x(n)||x(t))return e;var r=e[rg];return e[rg]=r.replace(Qh,""),e[Jd]=Ro(n,t),e}function Lo(e){return!g(e.selector)}function ko(e){if(!Lo(e))return null;var t=Oo(e);return N(t[Jd])?t:(ze(pp,t),null)}function Do(e){if(!Lo(e))return null;var t=Oo(e);return N(t[Jd])?t:(ze(pp,t),null)}function Mo(e){if(!Lo(e))return null;var t=Oo(e);return N(t[Jd])?t:(ze(pp,t),null)}function xo(e){if(!Lo(e))return null;var t=Oo(e);return N(t[Jd])?t:(ze(pp,t),null)}function Bo(e){if(!Lo(e))return null;var t=Oo(e);return N(t[Jd])?t:(ze(pp,t),null)}function Vo(e){if(!Lo(e))return null;var t=Oo(e);return N(t[Jd])?t:(ze(pp,t),null)}function jo(e){if(!Lo(e))return null;var t=Oo(e);return N(t[Jd])?t:(ze(pp,t),null)}function Uo(e){return Lo(e)?N(e[Jd])?e:(ze(pp,e),null):null}function Fo(e){return Lo(e)?f(e[Jd])?e:(ze(mp,e),null):null}function Go(e){return Lo(e)?N(e[Jd])?e:(ze(Ep,e),null):null}function Ho(e){return Lo(e)?f(e[Jd])?e:(ze(fp,e),null):null}function Wo(e){return Lo(e)?f(e[Jd])?e:(ze(vp,e),null):null}function qo(e){return Lo(e)?f(e[Jd])?e:(ze(hp,e),null):null}function Ko(e){return Lo(e)?e:null}function Yo(e){return Lo(e)?f(e[Jd])?e:(ze(bp,e),null):null}function zo(e){var t=e.content;return x(t)?(ze(Cp,e),null):(e.content=po(t,{}),e)}function Jo(e){var t=e[zd];if(x(t))return null;switch(t){case og:return ko(e);case sg:return Do(e);case Sg:return Mo(e);case Ag:return xo(e);case Ng:return Bo(e);case Eg:return Vo(e);case yg:return jo(e);case vg:return Uo(e);case lg:return Fo(e);case ug:return Go(e);case dg:return Ho(e);case pg:return Wo(e);case mg:return qo(e);case fg:return Ko(e);case gg:return Yo(e);case hg:return zo(e);default:return null}}function $o(e){var t=e[Jd];if(!ld(t))return null;if(D(t))return null;var n=E(Zh,F(Jo,t));if(D(n))return null;var r=ad.default({},e);return r.content=n,r}function Xo(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).options;return ld(e)?D(e)?[]:Ah(F(wh,e)):[]}function Qo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.execute,n=void 0===t?{}:t,r=e.prefetch,a=void 0===r?{}:r,o=n.pageLoad,i=void 0===o?{}:o,s=n.mboxes,c=void 0===s?[]:s,l=a.mboxes,u=void 0===l?[]:l,d=a.views,g=void 0===d?[]:d,p=Xo(i),m=S(F(Xo,c)),f=S(F(Xo,u)),v=S(F(Xo,g));return S([p,m,f,v])}function Zo(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).execute,t=void 0===e?{}:e,n=t.pageLoad,r=void 0===n?{}:n,a=t.mboxes,o=void 0===a?[]:a,i=Nh(r)||[],s=S(Ah(F(Nh,o))),c=S([i,s]),l=S(F(Ph,E(Sh,c))),u=E(Th,c),d=E(Th,l),g=u.concat(d),p={};if(D(g))return p;var m=g[0].content;return x(m)||(p.url=m),p}function ei(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).analytics;return D(e)?[]:[e]}function ti(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.execute,n=void 0===t?{}:t,r=e.prefetch,a=void 0===r?{}:r,o=n.pageLoad,i=void 0===o?{}:o,s=n.mboxes,c=void 0===s?[]:s,l=a.mboxes,u=void 0===l?[]:l,d=a.views,g=void 0===d?[]:d,p=a.metrics,m=void 0===p?[]:p,f=ei(i),v=S(F(ei,c)),h=S(F(ei,u)),b=S(F(ei,g)),C=S(F(ei,m));return S([f,v,h,b,C])}function ni(e,t){e.parameters=t.parameters,e.profileParameters=t.profileParameters,e.order=t.order,e.product=t.product}function ri(e,t){var n=t[0],r=t[1],a=!D(n),o=!D(r);return a||o?(a&&(e.options=n),o&&(e.metrics=r),e):e}function ai(e){switch(e.type){case hg:return st(fo(e));case Bg:return Io(e);case Fp:return st($o(e));default:return st(e)}}function oi(e,t){if(!ld(e))return st([]);if(D(e))return st([]);var n=E(t,e);return D(n)?st([]):ut(F((function(e){return ai(e)}),n)).then(Ah)}function ii(e,t){return ld(e)?D(e)?st([]):st(E(t,e)):st([])}function si(e){var t=e.response.execute;if(!f(t))return st(null);var n=t.pageLoad;if(!f(n))return st(null);var r=n.analytics,a=n.options,o=n.metrics,i=D(r)?{}:{analytics:r};return ut([oi(a,eo),ii(o,ro)]).then((function(e){return ri(i,e)}))}function ci(e){var t=e.name,n=e.analytics,r=e.options,a=e.metrics,o={name:t,analytics:n};return ut([oi(r,eo),ii(a,no)]).then((function(e){return ri(o,e)}))}function li(e){var t=e.response.execute;if(!f(t))return st([]);var n=t.mboxes;return!ld(n)||D(n)?st([]):ut(F(ci,E(Lh,n))).then(Ah)}function ui(e,t,n){return e.index===t&&e.name===n}function di(e,t,n){var r=e.prefetch,a=(void 0===r?{}:r).mboxes,o=void 0===a?[]:a;return D(o)?null:y(E((function(e){return ui(e,t,n)}),o))}function gi(e,t){var n=t.index,r=t.name,a=t.state,o=t.analytics,i=t.options,s=t.metrics,c=di(e,n,r),l={name:r,state:a,analytics:o};return g(c)||ni(l,c),ut([oi(i,to),ii(s,no)]).then((function(e){return ri(l,e)}))}function pi(e){var t=e.request,n=e.response.prefetch;if(!f(n))return st([]);var r=n.mboxes;return!ld(r)||D(r)?st([]):ut(F((function(e){return gi(t,e)}),E(kh,r))).then(Ah)}function mi(e){var t=e.prefetch,n=(void 0===t?{}:t).views,r=void 0===n?[]:n;return D(r)?null:r[0]}function fi(e,t){var n=t.name,r=t.state,a=t.analytics,o=t.options,i=t.metrics,s=mi(e),c={name:n.toLowerCase(),state:r,analytics:a};return g(s)||ni(c,s),ut([oi(o,to),ii(i,ro)]).then((function(e){return ri(c,e)}))}function vi(e){var t=e.request,n=e.response.prefetch;if(!f(n))return st([]);var r=n.views;return!ld(r)||D(r)?st([]):ut(F((function(e){return fi(t,e)}),E(Dh,r))).then(Ah)}function hi(e){var t=e.response.prefetch;return f(t)?ii(t.metrics,ro):st([])}function bi(e){var t=e.response,n=t.remoteMboxes,r=t.remoteViews,a=t.decisioningMethod,o={};return f(n)&&(o.remoteMboxes=n),f(r)&&(o.remoteViews=r),N(a)&&(o.decisioningMethod=a),st(o)}function Ci(e){return g(e)||x(e.id)?st(null):st({id:e.id})}function Ei(e){var t=e.response.notifications;return ld(t)?ut(F(Ci,t)).then(Ah):st([])}function yi(e){var t=e[0],n=e[1],r=e[2],a=e[3],o=e[4],i=e[5],s=e[6],c={},l={};f(t)&&(l.pageLoad=t),D(n)||(l.mboxes=n);var u={};return D(r)||(u.mboxes=r),D(a)||(u.views=a),D(o)||(u.metrics=o),D(l)||(c.execute=l),D(u)||(c.prefetch=u),D(i)||(c.meta=i),D(s)||(c.notifications=s),c}function Si(e){var t=T([co,oo,io])(e);return ut([si(t),li(t),pi(t),vi(t),hi(t),bi(t),Ei(t)]).then(yi)}function Ti(e){return!D(Zo(e))}function Ai(e){var t=Qo(e),n={};return D(t)||(n.responseTokens=t),n}function _i(e){var t=e[Pf],n=e[If],r={};return D(t)||(r.sandboxId=t),D(n)||(r.sandboxName=n),r}function Ni(e){var t=Ai(e),n=ti(e);return D(n)||(t.analyticsDetails=n),ze(up,e),Mt(t,Ti(e)),st(e)}function Pi(e,t){var n=Ai(t);n.mbox=e;var r=ti(t);return D(r)||(n.analyticsDetails=r),ze(up,t),Mt(n,Ti(t)),st(t)}function Ii(e){return Ye(lp,e),xt({error:e}),ct(e)}function wi(e,t){return Ye(lp,t),xt({mbox:e,error:t}),ct(t)}function Ri(e,t){var n=e[rm],r=t.mbox,a={},o={},i={};r===n?o.pageLoad={}:o.mboxes=[{index:0,name:r}],a.execute=o;var s=qa(r,a);D(s)||(i.analytics=s);var c=_i(e);return D(c)||(i.platform=c),D(i)||(a.experienceCloud=i),a}function Oi(e){var t=Ce(),n=e.mbox,r=e.timeout,a=f(e.params)?e.params:{},o=function(e){return Pi(n,e)},i=function(e){return wi(n,e)},s=Ri(t,e);return Dt({mbox:n}),za(s,a).then((function(e){return $a(e,r)})).then(Si).then(o).catch(i)}function Li(e,t){var n=e[rm],r=t.consumerId,a=void 0===r?n:r,o=t.request,i=t.page,s=void 0===i||i,c=qa(a,o);o.impressionId=o.impressionId||Xa(s);var l=o.experienceCloud||{};D(c)||(l.analytics=c);var u=_i(e);return D(u)||(l.platform=u),D(l)||(o.experienceCloud=l),o}function ki(e){var t=Ce(),n=e.timeout,r=function(e){return Ni(e)},a=function(e){return Ii(e)},o=Li(t,e);return Dt({}),za(o,{}).then((function(e){return $a(e,n)})).then(Si).then(r).catch(a)}function Di(e,t){return Kt(t).addClass(e)}function Mi(e,t){return Kt(t).css(e)}function xi(e,t){return Kt(t).attr(e)}function Bi(e,t,n){return Kt(n).attr(e,t)}function Vi(e,t){return Kt(t).removeAttr(e)}function ji(e,t,n){var r=xi(e,n);Ad(r)&&(Vi(e,n),Bi(t,r,n))}function Ui(e,t){return Ad(xi(e,t))}function Fi(e){return new Error("Could not find: "+e)}function Gi(e,t,n){return it((function(r,a){var o=nt((function(){var t=n(e);D(t)||(o.disconnect(),r(t))}));K((function(){o.disconnect(),a(Fi(e))}),t),o.observe(wf,{childList:!0,subtree:!0})}))}function Hi(){return wf[eb]===tb}function Wi(e,t,n){return it((function(r,a){function o(){var t=n(e);D(t)?Rf.requestAnimationFrame(o):r(t)}o(),K((function(){a(Fi(e))}),t)}))}function qi(e,t,n){return it((function(r,a){function o(){var t=n(e);D(t)?K(o,nb):r(t)}o(),K((function(){a(Fi(e))}),t)}))}function Ki(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ce()[dm],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Kt,r=n(e);return D(r)?tt()?Gi(e,t,n):Hi()?Wi(e,t,n):qi(e,t,n):st(r)}function Yi(e){return xi(Dg,e)}function zi(e){return Ui(Dg,e)}function Ji(e){return A((function(e){return ji(jg,Dg,e)}),k(en(Yg,e))),e}function $i(e){return A((function(e){return ji(Dg,jg,e)}),k(en(Yg,e))),e}function Xi(e){return ze(Tp,e),xi(jg,Bi(jg,e,Jt("<"+Yg+"/>")))}function Qi(e){var t=E(zi,k(en(Yg,e)));return D(t)||A(Xi,F(Yi,t)),e}function Zi(e){return T([Ji,Qi,$i])(e)}function es(e){var t=xi(jg,e);return Ad(t)?t:null}function ts(e){return E(Ad,F(es,k(en(Vg,e))))}function ns(e){return H((function(e,t){return e.then((function(){return ze(Ip,t),et({remoteScript:t}),cd.default(t)}))}),st(),e)}function rs(e){return e}function as(e,t){return Ye(cp,t),et({action:e,error:t}),e}function os(e,t){var n,r=Kt(t[rg]),a=Zi(zt(t[Jd])),o=ts(a);try{n=st(e(r,a))}catch(e){return ct(as(t,e))}return D(o)?n.then((function(){return rs(t)})).catch((function(e){return as(t,e)})):n.then((function(){return ns(o)})).then((function(){return rs(t)})).catch((function(e){return as(t,e)}))}function is(e){var t=zt(e);return U("",H((function(e,t){return e.push(_n(zt(t))),e}),[],k(en(rb,t))))}function ss(e){var t=ad.default({},e),n=t[Jd];if(x(n))return t;var r=Kt(t[rg]);return Zt(Hg,r)?(t[zd]=Sg,t[Jd]=is(n),t):t}function cs(e){return e.indexOf("px")===e.length-2?e:e+"px"}function ls(e,t){return An(_n(t),e)}function us(e){return ze(gp,e),os(ls,e)}function ds(e){var t=Kt(e[rg]),n=e[Jd];return ze(gp,e),et({action:e}),Nn(n,t),st(e)}function gs(e,t){return Sn(_n(t),e)}function ps(e){return ze(gp,e),os(gs,e)}function ms(e,t){return Tn(_n(t),e)}function fs(e){return ze(gp,e),os(ms,e)}function vs(e,t){var n=Qt(e);return Cn(yn(_n(t),e)),n}function hs(e){return ze(gp,e),os(vs,e)}function bs(e,t){return $t(yn(_n(t),e))}function Cs(e){return ze(gp,e),os(bs,e)}function Es(e,t){return Xt(En(_n(t),e))}function ys(e){return ze(gp,e),os(Es,e)}function Ss(e,t){return Qt(yn(_n(t),e))}function Ts(e){return ze(gp,e),os(Ss,e)}function As(e){var t=e[Jd],n=Kt(e[rg]);return ze(gp,e),et({action:e}),Vi(jg,n),Bi(jg,Xi(t),n),st(e)}function _s(e){var t=e[Jd],n=Kt(e[rg]);return ze(gp,e),et({action:e}),A((function(e,t){return Bi(t,e,n)}),t),st(e)}function Ns(e,t,n){A((function(e){A((function(t,r){return e.style.setProperty(r,t,n)}),t)}),k(e))}function Ps(e){var t=Kt(e[rg]),n=e[Jd],r=n[ng];return ze(gp,e),et({action:e}),x(r)?Mi(n,t):Ns(t,n,r),st(e)}function Is(e){var t=Kt(e[rg]),n=e[Jd];return n[Xd]=cs(n[Xd]),n[$d]=cs(n[$d]),ze(gp,e),et({action:e}),Mi(n,t),st(e)}function ws(e){var t=Kt(e[rg]),n=e[Jd];return n[Qd]=cs(n[Qd]),n[Zd]=cs(n[Zd]),ze(gp,e),et({action:e}),Mi(n,t),st(e)}function Rs(e){var t=Kt(e[rg]);return ze(gp,e),et({action:e}),Cn(t),st(e)}function Os(e){var t=Kt(e[rg]),n=e[Jd],r=Number(n[eg]),a=Number(n[tg]);if(isNaN(r)&&isNaN(a))return ze(Sp,e),ct(e);var o=k(tn(t)),i=o[r],s=o[a];return Yt(i)&&Yt(s)?(ze(gp,e),et({action:e}),r<a?En(i,s):yn(i,s),st(e)):(ze(yp,e),ct(e))}function Ls(e){var t=ss(e);switch(t[zd]){case og:return us(t);case sg:return ds(t);case Sg:return ps(t);case Ag:return fs(t);case Ng:return hs(t);case Eg:return Cs(t);case yg:return ys(t);case vg:return Ts(t);case lg:return _s(t);case ug:return As(t);case dg:return Ps(t);case pg:return Is(t);case mg:return ws(t);case fg:return Rs(t);case gg:return Os(t);default:return st(t)}}function ks(e){return e[zd]===bg||e[zd]===Cg}function Ds(e){var t=e[rg];return Ad(t)||Gt(t)}function Ms(e){var t=e.key;if(!x(t)&&Ds(e)){var n=e[rg];Bi(ab,t,n)}}function xs(e){var t=e[ag];x(t)||Vn(t)}function Bs(e){if(Ds(e)){var t=e[rg];ks(e)?Di($p,t):(Di(Jp,t),xs(e))}else xs(e)}function Vs(e){A(Bs,e)}function js(e){var t=e.key;if(x(t))return!0;if(e[zd]===vg)return e[Gm];var n=e[rg],r=xi(ab,n);return r!==t||r===t&&!e[Gm]}function Us(e){return js(e)?Ls(e).then((function(){return ze(dp,e),et({action:e}),Ms(e),Bs(e),e})).catch((function(t){Ye(cp,t),et({action:e,error:t}),Bs(e);var n=ad.default({},e);return n[wp]=!0,n})):(Bs(e),e)}function Fs(e){var t=E((function(e){return!0===e[wp]}),e);return D(t)?st():(Vs(t),ct(e))}function Gs(e){return Ki(e[rg]).then((function(){return e})).catch((function(){var t=ad.default({},e);return t[wp]=!0,t}))}function Hs(e){return Gs(e).then(Us)}function Ws(e){return ut(F(Hs,e)).then(Fs)}function qs(e,t,n){return Kt(n).on(e,t)}function Ks(e,t,n){return Kt(n).off(e,t)}function Ys(e){return Ki(e[rg]).then((function(){return et({metric:e}),ad.default({found:!0},e)})).catch((function(){return Ye(ob,e),et({metric:e,message:ob}),e}))}function zs(e){var t=e.name,n=lr(Wm)||{};n[t]=e,cr(Wm,n)}function Js(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.page,r=void 0===n||n,a=(lr(Wm)||{})[e];if(g(a))return a;var o=t.impressionId;return g(o)?a:ad.default({page:r,impressionId:o},a)}function $s(e){A(zs,e)}function Xs(e,t,n){return e[ib][sb](t,n)}function Qs(e,t,n){var r={};r[$m]=[Xm];var a={};a[Wh]=Hh,a[qh]=t,a[Yh]=n,a[zh]=!0,a[$h]=!1,a[Kh]=r;try{e(a)}catch(e){return!1}return!0}function Zs(e){return ib in e&&sb in e[ib]}function ec(e,t){return Zs(Rf)?Xs(Rf,e,t):Qs(Ao,e,t)}function tc(e){var t=qa(e,{}),n={context:{beacon:!0}};if(!D(t)){var r={};r.analytics=t,n.experienceCloud=r}return n}function nc(e,t,n){var r=Ja(tc(e),t);return r.notifications=n,r}function rc(e,t,n){return za(tc(e),t).then((function(e){return e.notifications=n,e}))}function ac(e,t,n){var r={id:de(),type:t,timestamp:G(),parameters:e.parameters,profileParameters:e.profileParameters,order:e.order,product:e.product};return D(n)||(r.tokens=n),r}function oc(e,t,n){var r=e.name,a=e.state,o=ac(e,t,n);return o.mbox={name:r,state:a},o}function ic(e,t,n){var r=e.name,a=e.state,o=ac(e,t,n);return o.view={name:r,state:a},o}function sc(e){return new Promise((function(t,n){var r=ha(Ce());if(ec(r,JSON.stringify(e)))return ze(cb,r,e),void t();Ye(lb,r,e),n()}))}function cc(e,t,n){var r=kr(Ce()[rm]),a=ac(Ua({},r),t,[n]),o=nc(de(),r,[a]);ze(pb,e,a),et({source:e,event:t,request:o}),sc(o)}function lc(e,t,n){var r=kr(e),a=ac(Ua({},r),t,[n]);a.mbox={name:e};var o=nc(de(),r,[a]);ze(mb,e,a),et({mbox:e,event:t,request:o}),sc(o)}function uc(e){var t=Ce()[rm],n=[],r=Jm;if(A((function(e){var t=e.mbox,a=e.data;if(!g(a)){var o=a.eventTokens,i=void 0===o?[]:o;D(i)||n.push(oc(t,r,i))}}),e),!D(n)){var a=nc(t,{},n);ze(gb,n),et({source:vb,event:hb,request:a}),sc(a)}}function dc(e,t,n){var r=kr(Ce()[rm]),a=ac(Ua({},r),t,[n]);a.view={name:e};var o=nc(de(),r,[a]);ze(fb,e,a),et({view:e,event:t,request:o}),sc(o)}function gc(e){var t=e.viewName,n=e.impressionId,r=kr(Ce()[rm]),a=ac(Ua({},r),Jm,[]);a.view={name:t},ze(ub,t),rc(t,r,[a]).then((function(e){e.impressionId=n,et({view:t,event:bb,request:e}),sc(e)}))}function pc(e){if(!g(e)){var t=e.view,n=e.data,r=(void 0===n?{}:n).eventTokens,a=void 0===r?[]:r,o=t.name,i=t.impressionId,s=Js(o);if(!g(s)){var c=nc(o,{},[ic(s,Jm,a)]);c.impressionId=i,ze(db,o,a),et({view:o,event:hb,request:c}),sc(c)}}}function mc(e,t){e===Gg&&Di($p,t)}function fc(e,t){return!g(Cb[e])&&!g(Cb[e][t])}function vc(e,t,n){if(g(Cb[e])){var r=C(Cb);D(r)||A((function(e){A((function(r){var a=Cb[e][r];Ks(t,a,n)}),C(Cb[e])),delete Cb[e]}),r)}}function hc(e,t,n){Cb[e]=Cb[e]||{},Cb[e][t]=n}function bc(e,t,n,r){var a=n.type,o=n.selector,i=n.eventToken,s=P(a+":"+o+":"+i),c=function(){return r(e,a,i)};mc(a,o),t?fc(e,s)||(vc(e,a,o),hc(e,s,c),qs(a,c,o)):qs(a,c,o)}function Cc(e,t,n,r){return Ys(n).then((function(n){n.found&&bc(e,t,n,r)}))}function Ec(e,t,n,r){return ut(F((function(n){return Cc(e,t,n,r)}),n)).then(Tb).catch(Ab)}function yc(e){return Ec(e.name,!1,Sb(e),lc)}function Sc(e){return Ec(e.name,!0,Sb(e),dc)}function Tc(e){return Ec(Eb,!1,Sb(e),cc)}function Ac(e){return Ec(yb,!1,Sb(e),cc)}function _c(e){var t=F(Nb,e);xn(_h(t))}function Nc(e){var t=F(Nb,e);Bn(Ah(t))}function Pc(e){var t=E(Sh,Nh(e));return S(F(_b,t))}function Ic(e){return f(e)&&e.type!==cg}function wc(e,t,n){return F((function(e){return ad.default({key:t,page:n},e)}),E(Ic,e))}function Rc(e,t,n){var r=e.eventToken,a=e.responseTokens;return Ws(wc(e.content,t,n)).then((function(){return Pb({eventToken:r,responseTokens:a})})).catch((function(e){return Ib(e,{eventToken:r,responseTokens:a})}))}function Oc(e){return f(e)&&e.type!==Mg}function Lc(e,t){return F(e,E(Oc,Nh(t)))}function kc(e,t,n){var r=o({status:kp},e,t),a=F(xh,E(yh,n)),i={};return D(a)||(r.status=wp,i.errors=a),D(i)||(r.data=i),r}function Dc(e,t,n){var r=o({status:kp},e,t),a=F(xh,E(yh,n)),i=F(xh,E(wb,n)),s=Ah(F(Ih,i)),c=Ah(F(wh,i)),l={};return D(a)||(r.status=wp,l.errors=a),D(s)||(l.eventTokens=s),D(c)||(l.responseTokens=c),D(l)||(r.data=l),r}function Mc(e,t,n){return ut(Lc((function(e){return Rc(e,!0)}),e)).then(t).then((function(t){return n(e),t}))}function xc(e,t,n,r){var a=t.name;return ut(Lc((function(e){return Rc(e,a,n)}),t)).then((function(n){return Dc(e,t,n)})).then((function(e){return r(t),e}))}function Bc(e){return Mc(e,(function(t){return kc(xp,e,t)}),yc)}function Vc(e){return xc(xp,e,!0,yc)}function jc(e){_c(Pc(e))}function Uc(e){if(!(arguments.length>1&&void 0!==arguments[1]&&arguments[1])){var t=e.execute,n=(void 0===t?{}:t).pageLoad,r=void 0===n?{}:n;D(r)||jc(r)}}function Fc(e){var t=e.prefetch,n=(void 0===t?{}:t).views,r=void 0===n?[]:n;D(r)||Nc(S(F(Pc,r)))}function Gc(e){_c(Pc(e)),jn()}function Hc(e){return Mc(e,(function(t){return kc(Yp,e,t)}),Tc)}function Wc(e){return ut(F(Bc,e))}function qc(e){return ut(F(Vc,e))}function Kc(e){return ut([Ac(e)]).then(kc)}function Yc(e){var t=e.page;return xc(Hm,e,t,Sc)}function zc(){}function Jc(){return new Ob}function $c(e,t,n){e.emit(t,n)}function Xc(e,t,n){e.on(t,n)}function Qc(e,t){$c(Lb,e,t)}function Zc(e,t){Xc(Lb,e,t)}function el(e){return{type:hg,content:e.url}}function tl(e){var t={};return t.type=og,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function nl(e){var t={};return t.type=sg,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function rl(e){var t={};return t.type=Sg,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function al(e){var t={};return t.type=Ag,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function ol(e){var t={};return t.type=Ng,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function il(e){var t={};return t.type=Eg,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function sl(e){var t={};return t.type=yg,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function cl(e){var t={};return t.type=vg,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function ll(e){var t={};if(t.selector=e.selector,t.cssSelector=e.cssSelector,e.attribute===jg)return t.type=ug,t.content=e.value,t;t.type=lg;var n={};return n[e.attribute]=e.value,t.content=n,t}function ul(e){var t=e.style,n=void 0===t?{}:t,r={};return r.selector=e.selector,r.cssSelector=e.cssSelector,g(n.left)||g(n.top)?g(n.width)||g(n.height)?(r.type=dg,r.content=n,r):(r.type=pg,r.content=n,r):(r.type=mg,r.content=n,r)}function dl(e){var t={};return t.type=fg,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function gl(e){var t={};t.from=e.from,t.to=e.to;var n={};return n.type=gg,n.selector=e.selector,n.cssSelector=e.cssSelector,n.content=t,n}function pl(e){return Ad(e.selector)&&Ad(e.cssSelector)}function ml(e){var t={};if(D(e))return t;var n=[],r=[],a=[];A((function(e){switch(e.action){case ig:pl(e)?a.push(tl(e)):n.push({type:xg,content:e.content});break;case cg:D(e.content)||A((function(e){return n.push({type:Mg,content:e})}),e.content);break;case sg:a.push(nl(e));break;case Tg:a.push(rl(e));break;case _g:a.push(al(e));break;case Pg:a.push(ol(e));break;case Eg:a.push(il(e));break;case yg:a.push(sl(e));break;case vg:a.push(cl(e));break;case lg:a.push(ll(e));break;case dg:a.push(ul(e));break;case fg:a.push(dl(e));break;case gg:a.push(gl(e));break;case hg:n.push(el(e));break;case bg:r.push({type:Gg,selector:e.selector,eventToken:e.clickTrackId})}}),e);var o={};if(!D(a)&&n.push({type:Fp,content:a}),!D(n)&&(o.options=n),!D(r)&&(o.metrics=r),D(o))return t;var i={};return i.pageLoad=o,t.execute=i,t}function fl(e,t){var n={};if(D(t))return n;var r=[],a=[];A((function(e){switch(e.action){case ig:r.push({type:xg,content:e.content});break;case cg:D(e.content)||A((function(e){return r.push({type:Mg,content:e})}),e.content);break;case hg:r.push(el(e));break;case Cg:a.push({type:Gg,eventToken:e.clickTrackId})}}),t);var o={name:e};if(!D(r)&&(o.options=r),!D(a)&&(o.metrics=a),D(o))return n;var i={},s=[o];return i.mboxes=s,n.execute=i,n}function vl(e,t,n){return n?ml(t):fl(e,t)}function hl(e){var t=e.status,n=e.data,r={status:t,pageLoad:!0};return g(n)||(r.data=n),r}function bl(e){var t=e.status,n=e.mbox,r=e.data,a={status:t,mbox:n.name};return g(r)||(a.data=r),a}function Cl(e){var t=e.status,n=e.view,r=e.data,a={status:t,view:n.name};return g(r)||(a.data=r),a}function El(e){var t=e.status,n=e.data,r={status:t,prefetchMetrics:!0};return g(n)||(r.data=n),r}function yl(e){if(g(e))return[null];var t=F(hl,[e]);return Bb(t)&&Ye(kb,e),t}function Sl(e){if(g(e))return[null];var t=F(bl,e);return Bb(t)&&Ye(Db,e),t}function Tl(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:uc;if(g(e))return[null];var n=F(bl,e);return Bb(n)&&Ye(Db,e),t(e),n}function Al(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pc;if(g(e))return[null];var n=F(Cl,[e]);return Bb(n)&&Ye(Mb,e),e.view.page?(t(e),n):n}function _l(e){if(g(e))return[null];var t=F(El,[e]);return Bb(t)&&Ye(xb,e),t}function Nl(e){var t=S([yl(e[0]),Sl(e[1]),Tl(e[2]),_l(e[3])]),n=E(bh,t),r=E(yh,n);return D(r)?st(n):ct(r)}function Pl(e){return ct(e)}function Il(e,t){if(!D(t)){var n=t.options;D(n)||A((function(t){if(t.type===xg){var n=og,r=t.content;t.type=Fp,t.content=[{type:n,selector:e,content:r}]}}),n)}}function wl(e,t){var n=t.metrics;if(!D(n)){var r=t.name;A((function(t){t.name=r,t.selector=t.selector||e}),n)}}function Rl(e,t){var n=ad.default({},t),r=n.execute,a=void 0===r?{}:r,o=n.prefetch,i=void 0===o?{}:o,s=a.pageLoad,c=void 0===s?{}:s,l=a.mboxes,u=void 0===l?[]:l,d=i.mboxes,g=void 0===d?[]:d;return Il(e,c),A((function(t){return Il(e,t)}),u),A((function(t){return wl(e,t)}),u),A((function(t){return Il(e,t)}),g),A((function(t){return wl(e,t)}),g),n}function Ol(e){var t=e.prefetch,n=(void 0===t?{}:t).views,r=void 0===n?[]:n;D(r)||$s(r)}function Ll(e){var t=[],n=e.execute,r=void 0===n?{}:n,a=r.pageLoad,o=void 0===a?{}:a,i=r.mboxes,s=void 0===i?[]:i;D(o)?t.push(st(null)):t.push(Hc(o)),D(s)?t.push(st(null)):t.push(Wc(s));var c=e.prefetch,l=void 0===c?{}:c,u=l.mboxes,d=void 0===u?[]:u,g=l.metrics,p=void 0===g?[]:g;return D(d)?t.push(st(null)):t.push(qc(d)),ld(p)&&!D(p)?t.push(Kc(l)):t.push(st(null)),Mn(),ut(t).then(Nl).catch(Pl)}function kl(e,t){K((function(){return e.location.replace(t)}))}function Dl(e){return Ad(e)||Gt(e)?e:Hg}function Ml(e){Di(Jp,e)}function xl(e){var t=e.mbox,n=e.selector,r=e.offer,a=Ce(),o=t===a[rm];if(D(r))return ze(Np),Ml(n),Mn(),void Ut({mbox:t});var i=Rl(n,vl(t,r,o)),s=Zo(i);if(!D(s)){var c=s.url;return ze(Pp,s),Ft({url:c}),void kl(Rf,c)}Bt({mbox:t}),Uc(i),Ll(i).then((function(e){D(e)||Vt({mbox:t,execution:e})})).catch((function(e){return jt({error:e})}))}function Bl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.prefetch,n=void 0===t?{}:t,r=e.execute,a=void 0===r?{}:r,o=a.pageLoad,i=void 0===o?{}:o,s=a.mboxes,c=void 0===s?[]:s,l=n.pageLoad,u=void 0===l?{}:l,d=n.views,g=void 0===d?[]:d,p=n.mboxes,m=void 0===p?[]:p;return D(i)&&D(c)&&D(u)&&D(g)&&D(m)}function Vl(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.selector,r=e.response;if(Bl(r))return ze(Np),Ml(n),Mn(),Ut({}),Qc(Cf),st();var a=Rl(n,r),o=Zo(a);if(!D(o)){var i=o.url;return ze(Pp,o),Ft({url:i}),Qc(Ef),kl(Rf,i),st()}return Bt({}),Ol(a),Qc(bf),Uc(a,t),Ll(a).then((function(e){D(e)||Vt({execution:e})})).catch((function(e){return jt({error:e})}))}function jl(e){var t=e[ff];if(D(t))return!1;var n=t.request,r=t.response;return!D(n)&&!D(r)}function Ul(e){return e[ff]}function Fl(e){window.__target_telemetry.addServerStateEntry(e)}function Gl(e){Ye(Vb,Zm,e),Qc(Cf),et({source:Vb,error:e}),Mn()}function Hl(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={selector:Hg,response:e};ze(Vb,Wp,e),et({source:Vb,response:e}),Vl(n,t).catch(Gl)}function Wl(e,t){var n=ad.default({},t),r=n.execute,a=n.prefetch,o=e[Bm],i=e[xm];return r&&(n.execute.mboxes=void 0),r&&!o&&(n.execute.pageLoad=void 0),a&&(n.prefetch.mboxes=void 0),a&&!i&&(n.prefetch.views=void 0),n}function ql(e){var t=Ul(e),n=t.request,r=t.response,a=!0;ze(Vb,rf),et({source:Vb,serverState:t});var o=Wl(e,r);Uc(o),Fc(o),Fl(n),Si({request:n,response:o}).then((function(e){return Hl(e,a)})).catch(Gl)}function Kl(){if(!Fe())return Ye(Vb,Jg),void et({source:Vb,error:Jg});var e=Ce();if(jl(e))ql(e);else{var t=e[Bm],n=e[xm];if(!t&&!n)return ze(Vb,nf),void et({source:Vb,error:nf});Dn();var r={};if(t){var a={pageLoad:{}};r.execute=a}if(n){var o={views:[{}]};r.prefetch=o}var i=e[nm];ze(Vb,qp,r),et({source:Vb,request:r});var s={request:r,timeout:i};vt()&&!ht()?Ct().then((function(){ki(s).then(Hl).catch(Gl)})).catch(Gl):ki(s).then(Hl).catch(Gl)}}function Yl(){var e={};return e[Lp]=!0,e}function zl(e){var t={};return t[Lp]=!1,t[wp]=e,t}function Jl(e){return x(e)?zl(rp):e.length>kg?zl(ap):Yl()}function $l(e){if(!f(e))return zl(Xg);var t=Jl(e[xp]);return t[Lp]?v(e[kp])?v(e[wp])?Yl():zl(ip):zl(op):t}function Xl(e){if(!f(e))return zl(Xg);var t=e.request;if(!f(t))return zl(Qg);var n=t.execute,r=t.prefetch;return f(n)||f(r)?Yl():zl(ep)}function Ql(e){if(!f(e))return zl(Xg);var t=e.request;if(!f(t))return zl(Qg);var n=t.execute,r=t.prefetch,a=t.notifications;return f(n)||f(r)?zl(tp):ld(a)?Yl():zl(np)}function Zl(e){if(!f(e))return zl(Xg);var t=Jl(e[xp]);if(!t[Lp])return t;var n=e[Bp];return ld(n)?Yl():zl(sp)}function eu(e){return f(e)?f(e.response)?Yl():zl(Zg):zl(Xg)}function tu(e){if(!f(e))return zl(Xg);var t=Jl(e[xp]);return t[Lp]?Yl():t}function nu(e){return{action:hg,url:e.content}}function ru(e){var t={};return t.action=ig,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function au(e){var t={};return t.action=sg,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function ou(e){var t={};return t.action=Tg,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function iu(e){var t={};return t.action=_g,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function su(e){var t={};return t.action=Pg,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function cu(e){var t={};return t.action=Eg,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function lu(e){var t={};return t.action=yg,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function uu(e){var t={};return t.action=vg,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function du(e){var t=C(e.content)[0],n={};return n.action=lg,n.attribute=t,n.value=e.content[t],n.selector=e.selector,n.cssSelector=e.cssSelector,n}function gu(e){var t={};return t.action=lg,t.attribute=jg,t.value=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function pu(e){var t={};return t.action=dg,t.style=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function mu(e){var t={};return t.action=dg,t.style=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function fu(e){var t={};return t.action=dg,t.style=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function vu(e){var t={};return t.action=fg,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function hu(e){var t={};return t.action=gg,t.from=e.content.from,t.to=e.content.to,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function bu(e){var t=[];return A((function(e){switch(e.type){case og:t.push(ru(e));break;case sg:t.push(au(e));break;case Sg:t.push(ou(e));break;case Ag:t.push(iu(e));break;case Ng:t.push(su(e));break;case Eg:t.push(cu(e));break;case yg:t.push(lu(e));break;case vg:t.push(uu(e));break;case lg:t.push(du(e));break;case ug:t.push(gu(e));break;case dg:t.push(pu(e));break;case pg:t.push(mu(e));break;case mg:t.push(fu(e));break;case fg:t.push(vu(e));break;case gg:t.push(hu(e));break;case hg:t.push(nu(e))}}),e),t}function Cu(e){if(D(e))return[];var t=[];return A((function(e){e.type===Gg&&(Mh(e)?t.push({action:bg,selector:e.selector,clickTrackId:e.eventToken}):t.push({action:Cg,clickTrackId:e.eventToken}))}),e),t}function Eu(e){if(D(e))return[];var t=[],n=[],r=[],a=e.options,o=void 0===a?[]:a,i=e.metrics,s=void 0===i?[]:i;A((function(e){switch(e.type){case xg:t.push(e.content);break;case Mg:n.push(e.content);break;case hg:r.push(nu(e));break;case Fp:r.push.apply(r,bu(e.content))}}),o),D(t)||r.push({action:ig,content:t.join("")}),D(n)||r.push({action:cg,content:n});var c=Cu(s);return D(c)||r.push.apply(r,c),r}function yu(e){var t=e.execute,n=void 0===t?{}:t,r=n.pageLoad,a=void 0===r?{}:r,o=n.mboxes,i=void 0===o?[]:o,s=[];return s.push.apply(s,Eu(a)),s.push.apply(s,S(F(Eu,i))),s}function Su(e,t){var n=yu(t);e[kp](n)}function Tu(e,t){var n=t[jp]||Op;e[wp](n,t)}function Au(e){var t=$l(e),n=t[wp];if(!t[Lp])return Ye(jb,n),void et({source:jb,options:e,error:n});if(!Fe())return K(e[wp](Rp,Jg)),Ye(jb,Jg),void et({source:jb,options:e,error:Jg});var r=function(t){return Su(e,t)},a=function(t){return Tu(e,t)};ze(jb,e),et({source:jb,options:e}),vt()&&!ht()?Ct().then((function(){Oi(e).then(r).catch(a)})):Oi(e).then(r).catch(a)}function _u(e){var t=Xl(e),n=t[wp];return t[Lp]?Fe()?(ze(Ub,e),et({source:Ub,options:e}),!vt()||ht()?ki(e):Ct().then((function(){return ki(e)}))):(Ye(Ub,Jg),et({source:Ub,options:e,error:Jg}),ct(new Error(Jg))):(Ye(Ub,n),et({source:Ub,options:e,error:n}),ct(t))}function Nu(e){var t=Dl(e.selector),n=P(t);Hd.timeStart(n);var r=Zl(e),a=r[wp];if(!r[Lp])return Ye(Fb,e,a),et({source:Fb,options:e,error:a}),void Ml(t);if(!Fe())return Ye(Fb,Jg),et({source:Fb,options:e,error:Jg}),void Ml(t);e.selector=t,ze(Fb,e),et({source:Fb,options:e}),xl(e);var o=Hd.timeEnd(n);Hd.clearTiming(n),window.__target_telemetry.addRenderEntry(n,o)}function Pu(e){var t=Dl(e.selector),n=P(t);Hd.timeStart(n);var r=eu(e),a=r[wp];return r[Lp]?Fe()?(e.selector=t,ze(Gb,e),et({source:Gb,options:e}),Vl(e).then((function(){var e=Hd.timeEnd(n);Hd.clearTiming(n),window.__target_telemetry.addRenderEntry(n,e)}))):(Ye(Gb,Jg),et({source:Gb,options:e,error:Jg}),Ml(t),ct(new Error(Jg))):(Ye(Gb,e,a),et({source:Gb,options:e,error:a}),Ml(t),ct(r))}function Iu(e){var t=Ce()[rm],n=e.consumerId,r=void 0===n?t:n,a=e.request,o=Ql(e),i=o[wp];if(!o[Lp])return Ye(Hb,i),void et({source:Hb,options:e,error:i});if(!Fe())return Ye(Hb,Jg),void et({source:Hb,options:e,error:Jg});ze(Hb,e),et({source:Hb,options:e});var s=nc(r,{},a.notifications);!vt()||ht()?sc(s):Ye(Hb,pf)}function wu(e,t){var n=t[xp],r=ad.default({},t),a=f(t.params)?t.params:{};return r[Up]=ad.default({},kr(n),a),r[nm]=fa(e,t[nm]),r[kp]=v(t[kp])?t[kp]:jd,r[wp]=v(t[wp])?t[wp]:jd,r}function Ru(e){var t=e[zd],n=e[rg];return Ad(t)&&(Ad(n)||Gt(n))}function Ou(e){var t=e.mbox,n=e.type,r=void 0===n?Jm:n,a=f(e.params)?e.params:{},o=ad.default({},kr(t),a),i=ac(Ua({},o),r,[]);i.mbox={name:t},sc(nc(t,o,[i])).then((function(){ze(Ap,e),e[kp]()})).catch((function(){Ye(_p,e),e[wp](Op,_p)}))}function Lu(e){if(vt()&&!ht())return Ye(_p,pf),void e[wp](wp,pf);Ou(e)}function ku(e){return Lu(e),!e.preventDefault}function Du(e){var t=e[rg],n=e[zd],r=k(Kt(t)),a=function(){return ku(e)};A((function(e){return qs(n,a,e)}),r)}function Mu(e){var t=tu(e),n=t[wp];if(!t[Lp])return Ye(Wb,n),void et({source:Wb,options:e,error:n});var r=wu(Ce(),e);if(!Fe())return Ye(Wb,Jg),K(r[wp](Rp,Jg)),void et({source:Wb,options:e,error:Jg});ze(Wb,r),et({source:Wb,options:r}),Ru(r)?Du(r):Lu(r)}function xu(e){return Gc(e),Yc(e).then(Al).then((function(e){D(e)||Vt({execution:e})})).catch((function(e){Ye(Qm,e),jt({error:e})}))}function Bu(){for(;Kb.length>0;){var e=Kb.pop(),t=e.viewName,n=e.page,r=Js(t,e);g(r)?n&&gc(e):xu(r)}}function Vu(){Jb=zb,Bu()}function ju(){Zc(bf,Vu),
Zc(Cf,Vu),Zc(Ef,Vu)}function Uu(e,t){var n={};return n.viewName=e,n.impressionId=de(),n.page=!0,D(t)||(n.page=!!t.page),n}function Fu(e){Kb.push(e),Jb!==Yb&&Bu()}function Gu(e,t){if(Ce()[xm]){if(!N(e)||x(e))return Ye(qb,ef,e),void et({source:qb,view:e,error:ef});var n=e.toLowerCase(),r=Uu(n,t);ze(qb,n,r),He()?rn(r):(et({source:qb,view:n,options:r}),Fu(r))}else Ye(qb,tf)}function Hu(){Ye(Xb,arguments)}function Wu(){Ye(Qb,arguments)}function qu(){Ye(Zb,arguments)}function Ku(){Ye(eC,arguments)}function Yu(){try{var e=window.localStorage,t="__storage_test__";return e.setItem(t,t),e.removeItem(t),!0}catch(e){return!1}}function zu(){Object.keys(localStorage).filter(nC).forEach((function(e){return localStorage.removeItem(e)}))}function Ju(e,t){try{localStorage.setItem(e,JSON.stringify(t))}catch(e){zu()}}function $u(){function e(e){return oC+":"+e}function t(e){var t=localStorage.getItem(e),n=parseInt(t,aC);return Number.isNaN(n)&&(n=rC),n}function n(e,t){localStorage.setItem(e,t)}function r(){var e=t(sC)+1;return n(sC,e),e}function a(t,n){Ju(e(t),n)}function o(t){var n=e(t),r=localStorage.getItem(n);return localStorage.removeItem(n),r}function i(){for(var e=[],r=t(iC)||rC,a=t(sC)||rC,i=a;i>r;i-=1){var s=o(i);s&&e.push(JSON.parse(s))}return n(iC,a),e}function s(e){a(r(),e)}function c(){return i()}function l(){var n=e(t(sC));return!!localStorage.getItem(n)}return{addEntry:s,getAndClearEntries:c,hasEntries:l}}function Xu(e){e.adobe=e.adobe||{},e.adobe.target={VERSION:"",event:{},getOffer:jd,getOffers:Ud,applyOffer:jd,applyOffers:Ud,sendNotifications:jd,trackEvent:jd,triggerView:jd,registerExtension:jd,init:jd},e.mboxCreate=jd,e.mboxDefine=jd,e.mboxUpdate=jd}function Qu(e,t,n){if(e.adobe&&e.adobe.target&&void 0!==e.adobe.target.getOffer)Ye($g);else{be(n);var r=Ce(),a=r[om];if(e.adobe=e.adobe||{},e.adobe.target=e.adobe.target||{},e.adobe.target.VERSION=a,e.adobe.target.event={LIBRARY_LOADED:Qf,REQUEST_START:Zf,REQUEST_SUCCEEDED:ev,REQUEST_FAILED:tv,CONTENT_RENDERING_START:nv,CONTENT_RENDERING_SUCCEEDED:rv,CONTENT_RENDERING_FAILED:av,CONTENT_RENDERING_NO_OFFERS:ov,CONTENT_RENDERING_REDIRECT:iv},!r[Xp])return Xu(e),void Ye(Jg);e.__target_telemetry=re(r[Tf]&&Yu(),r[Sf],$u()),Qe(),on(),mn(e),hn(e),e.adobe.target.getOffer=Au,e.adobe.target.getOffers=_u,e.adobe.target.applyOffer=Nu,e.adobe.target.applyOffers=Pu,e.adobe.target.sendNotifications=Iu,e.adobe.target.trackEvent=Mu,e.adobe.target.triggerView=Gu,e.adobe.target.registerExtension=Hu,e.mboxCreate=Wu,e.mboxDefine=qu,e.mboxUpdate=Ku,kt()}}var Zu=n("@adobe/reactor-object-assign"),ed=n("@adobe/reactor-cookie"),td=n("@adobe/reactor-query-string"),nd=n("@adobe/reactor-promise"),rd=n("@adobe/reactor-load-script"),ad=r(Zu),od=r(ed),id=r(td),sd=r(nd),cd=r(rd),ld=Array.isArray,ud=Object.prototype,dd=ud.toString,gd="[object Function]",pd=function(e,t){return t.forEach(e)},md=function(e,t){pd((function(n){return e(t[n],n)}),C(t))},fd=function(e,t){return t.filter(e)},vd=function(e,t){var n={};return md((function(t,r){e(t,r)&&(n[r]=t)}),t),n},hd="[object String]",bd=9007199254740991,Cd=function(e,t){return t.map(e)},Ed=Object.prototype,yd=Ed.hasOwnProperty,Sd=String.prototype,Td=Sd.trim,Ad=function(e){return!x(e)},_d="[object Number]",Nd="[object Object]",Pd=Function.prototype,Id=Object.prototype,wd=Pd.toString,Rd=Id.hasOwnProperty,Od=wd.call(Object),Ld=function(e,t){var n={};return md((function(t,r){n[r]=e(t,r)}),t),n},kd=function(e,t,n){return n.reduce(e,t)},Dd=function(e,t,n){var r=t;return md((function(t,n){r=e(r,t,n)}),n),r},Md=Array.prototype,xd=Md.reverse,Bd={ON_DEVICE:"on-device",SERVER_SIDE:"server-side",HYBRID:"hybrid"},Vd={EDGE:"edge",LOCAL:"local"},jd=function(){},Ud=function(e){return Promise.resolve(e)},Fd="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Gd=ae((function(e){(function(){var t,n,r,a,o,i;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:"undefined"!=typeof process&&null!==process&&process.hrtime?(e.exports=function(){return(t()-o)/1e6},n=process.hrtime,a=(t=function(){var e;return 1e9*(e=n())[0]+e[1]})(),i=1e9*process.uptime(),o=a-i):Date.now?(e.exports=function(){return Date.now()-r},r=Date.now()):(e.exports=function(){return(new Date).getTime()-r},r=(new Date).getTime())}).call(Fd)})),Hd=oe(),Wd=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e){for(var n={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:/?#]*)(?::(\d*))?))?((((?:[^?#/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@/]*@)([^:/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#/]*\.[^?#/.]+(?:[?#]|$)))*\/?)?([^?#/]*))(?:\?([^#]*))?(?:#(.*))?)/}},r=n.parser[t.strictMode?"strict":"loose"].exec(e),a={},o=14;o--;)a[n.key[o]]=r[o]||"";return a[n.q.name]={},a[n.key[12]].replace(n.q.parser,(function(e,t,r){t&&(a[n.q.name][t]=r)})),a}},qd=new Uint8Array(256),Kd=ie(),Yd=ce(),zd="type",Jd="content",$d="height",Xd="width",Qd="left",Zd="top",eg="from",tg="to",ng="priority",rg="selector",ag="cssSelector",og="setHtml",ig="setContent",sg="setText",cg="setJson",lg="setAttribute",ug="setImageSource",dg="setStyle",gg="rearrange",pg="resize",mg="move",fg="remove",vg="customCode",hg="redirect",bg="trackClick",Cg="signalClick",Eg="insertBefore",yg="insertAfter",Sg="appendHtml",Tg="appendContent",Ag="prependHtml",_g="prependContent",Ng="replaceHtml",Pg="replaceContent",Ig="mboxDebug",wg="mboxDisable",Rg="mboxEdit",Og="at_check",Lg="true",kg=250,Dg="data-at-src",Mg="json",xg="html",Bg="dynamic",Vg="script",jg="src",Ug="id",Fg="class",Gg="click",Hg="head",Wg="script",qg="style",Kg="link",Yg="img",zg="div",Jg='Adobe Target content delivery is disabled. Ensure that you can save cookies to your current domain, there is no "mboxDisable" cookie and there is no "mboxDisable" parameter in query string.',$g="Adobe Target has already been initialized.",Xg="options argument is required",Qg="request option is required",Zg="response option is required",ep="execute or prefetch is required",tp="execute or prefetch is not allowed",np="notifications are required",rp="mbox option is required",ap="mbox option is too long",op="success option is required",ip="error option is required",sp="offer option is required",cp="Unexpected error",lp="request failed",up="request succeeded",dp="Action rendered successfully",gp="Rendering action",pp="Action has no content",mp="Action has no attributes",fp="Action has no CSS properties",vp="Action has no height or width",hp="Action has no left, top or position",bp="Action has no from or to",Cp="Action has no url",Ep="Action has no image url",yp="Rearrange elements are missing",Sp='Rearrange has incorrect "from" and "to" indexes',Tp="Loading image",Ap="Track event request succeeded",_p="Track event request failed",Np="No actions to be rendered",Pp="Redirect action",Ip="Script load",wp="error",Rp="warning",Op="unknown",Lp="valid",kp="success",Dp="render",Mp="metric",xp="mbox",Bp="offer",Vp="name",jp="status",Up="params",Fp="actions",Gp="responseTokens",Hp="data",Wp="response",qp="request",Kp="provider",Yp="pageLoad",zp="at-flicker-control",Jp="at-element-marker",$p="at-element-click-tracking",Xp="enabled",Qp="clientCode",Zp="imsOrgId",em="serverDomain",tm="crossDomain",nm="timeout",rm="globalMboxName",am="globalMboxAutoCreate",om="version",im="defaultContentHiddenStyle",sm="bodyHiddenStyle",cm="bodyHidingEnabled",lm="deviceIdLifetime",um="sessionIdLifetime",dm="selectorsPollingTimeout",gm="visitorApiTimeout",pm="overrideMboxEdgeServer",mm="overrideMboxEdgeServerTimeout",fm="optoutEnabled",vm="secureOnly",hm="supplementalDataIdParamTimeout",bm="authoringScriptUrl",Cm="scheme",Em="cookieDomain",ym="mboxParams",Sm="globalMboxParams",Tm="mboxSession",Am="PC",_m="mboxEdgeCluster",Nm="session",Pm="Traces",Im="settings",wm="client"+Pm,Rm="server"+Pm,Om="___target_traces",Lm="targetGlobalSettings",km="dataProvider",Dm=km+"s",Mm="endpoint",xm="viewsEnabled",Bm="pageLoadEnabled",Vm="authState",jm="authenticatedState",Um="integrationCode",Fm="primary",Gm="page",Hm="view",Wm="views",qm="options",Km="metrics",Ym="eventToken",zm="viewName",Jm="display",$m="Content-Type",Xm="text/plain",Qm="View rendering failed",Zm="View delivery error",ef="View name should be a non-empty string",tf="Views are not enabled",nf="Page load disabled",rf="Using server state",af="adobe",of="optIn",sf="isApproved",cf="fetchPermissions",lf="Categories",uf="TARGET",df="ANALYTICS",gf="optinEnabled",pf="Adobe Target is not opted in",mf="analyticsLogging",ff="serverState",vf="cspScriptNonce",hf="cspStyleNonce",bf="cache-updated-event",Cf="no-offers-event",Ef="redirect-offer-event",yf="None",Sf="decisioningMethod",Tf="telemetryEnabled",Af="web",_f="clientHints",Nf="allowHighEntropyClientHints",Pf="aepSandboxId",If="aepSandboxName",wf=document,Rf=window,Of="file:",Lf=/^(?!0)(?!.*\.$)((1?\d?\d|25[0-5]|2[0-4]\d)(\.|$)){4}$/,kf=/^(com|edu|gov|net|mil|org|nom|co|name|info|biz)$/i,Df={},Mf=[Xp,Qp,Zp,em,tm,Em,nm,ym,Sm,im,"defaultContentVisibleStyle",lm,sm,cm,dm,gm,pm,mm,fm,gf,vm,hm,bm,"urlSizeLimit",Mm,Bm,xm,mf,ff,Sf,"pollingInterval","artifactLocation","artifactFormat","artifactPayload","environment","cdnEnvironment",Tf,"cdnBasePath",vf,hf,rm,Nf,Pf,If],xf=id.default.parse,Bf=id.default.stringify,Vf=wf.createElement("a"),jf={},Uf=od.default.get,Ff=od.default.set,Gf=od.default.remove,Hf="mbox",Wf="AT:",qf="1",Kf=function(e){var t=function(){function t(e){return null==e?String(e):X[Q.call(e)]||"object"}function n(e){return"function"==t(e)}function r(e){return null!=e&&e==e.window}function o(e){return null!=e&&e.nodeType==e.DOCUMENT_NODE}function i(e){return"object"==t(e)}function s(e){return i(e)&&!r(e)&&Object.getPrototypeOf(e)==Object.prototype}function c(e){var t=!!e&&"length"in e&&e.length,n=P.type(e);return"function"!=n&&!r(e)&&("array"==n||0===t||"number"==typeof t&&t>0&&t-1 in e)}function l(e){return k.call(e,(function(e){return null!=e}))}function u(e){return e.length>0?P.fn.concat.apply([],e):e}function d(e){return e.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function g(e){return e in B?B[e]:B[e]=new RegExp("(^|\\s)"+e+"(\\s|$)")}function p(e,t){return"number"!=typeof t||V[d(e)]?t:t+"px"}function m(e){var t,n;return x[e]||(t=M.createElement(e),M.body.appendChild(t),n=getComputedStyle(t,"").getPropertyValue("display"),t.parentNode.removeChild(t),"none"==n&&(n="block"),x[e]=n),x[e]}function f(e){return"children"in e?D.call(e.children):P.map(e.childNodes,(function(e){if(1==e.nodeType)return e}))}function v(e,t){var n,r=e?e.length:0;for(n=0;n<r;n++)this[n]=e[n];this.length=r,this.selector=t||""}function h(e,t,n){for(N in t)n&&(s(t[N])||ne(t[N]))?(s(t[N])&&!s(e[N])&&(e[N]={}),ne(t[N])&&!ne(e[N])&&(e[N]=[]),h(e[N],t[N],n)):t[N]!==_&&(e[N]=t[N])}function b(e,t){return null==t?P(e):P(e).filter(t)}function C(e,t,r,a){return n(t)?t.call(e,r,a):t}function E(e,t,n){null==n?e.removeAttribute(t):e.setAttribute(t,n)}function y(e,t){var n=e.className||"",r=n&&n.baseVal!==_;if(t===_)return r?n.baseVal:n;r?n.baseVal=t:e.className=t}function S(e){try{return e?"true"==e||"false"!=e&&("null"==e?null:+e+""==e?+e:/^[\[\{]/.test(e)?P.parseJSON(e):e):e}catch(t){return e}}function T(e,t){t(e);for(var n=0,r=e.childNodes.length;n<r;n++)T(e.childNodes[n],t)}function A(e,t,n){var r=e.getElementsByTagName("script")[0];if(r){var a=r.parentNode;if(a){var o=e.createElement("script");o.innerHTML=t,Ad(n)&&o.setAttribute("nonce",n),a.appendChild(o),a.removeChild(o)}}}var _,N,P,I,w,R,O=[],L=O.concat,k=O.filter,D=O.slice,M=e.document,x={},B={},V={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},j=/^\s*<(\w+|!)[^>]*>/,U=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,F=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,G=/^(?:body|html)$/i,H=/([A-Z])/g,W=["val","css","html","text","data","width","height","offset"],q=["after","prepend","before","append"],K=M.createElement("table"),Y=M.createElement("tr"),z={tr:M.createElement("tbody"),tbody:K,thead:K,tfoot:K,td:Y,th:Y,"*":M.createElement("div")},J=/complete|loaded|interactive/,$=/^[\w-]*$/,X={},Q=X.toString,Z={},ee=M.createElement("div"),te={tabindex:"tabIndex",readonly:"readOnly",for:"htmlFor",class:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},ne=Array.isArray||function(e){return e instanceof Array};return Z.matches=function(e,t){if(!t||!e||1!==e.nodeType)return!1;var n=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.oMatchesSelector||e.matchesSelector;if(n)return n.call(e,t);var r,a=e.parentNode,o=!a;return o&&(a=ee).appendChild(e),r=~Z.qsa(a,t).indexOf(e),o&&ee.removeChild(e),r},w=function(e){return e.replace(/-+(.)?/g,(function(e,t){return t?t.toUpperCase():""}))},R=function(e){return k.call(e,(function(t,n){return e.indexOf(t)==n}))},Z.fragment=function(e,t,n){var r,a,o;return U.test(e)&&(r=P(M.createElement(RegExp.$1))),r||(e.replace&&(e=e.replace(F,"<$1></$2>")),t===_&&(t=j.test(e)&&RegExp.$1),t in z||(t="*"),(o=z[t]).innerHTML=""+e,r=P.each(D.call(o.childNodes),(function(){o.removeChild(this)}))),s(n)&&(a=P(r),P.each(n,(function(e,t){W.indexOf(e)>-1?a[e](t):a.attr(e,t)}))),r},Z.Z=function(e,t){return new v(e,t)},Z.isZ=function(e){return e instanceof Z.Z},Z.init=function(e,t){var r;if(!e)return Z.Z();if("string"==typeof e)if("<"==(e=e.trim())[0]&&j.test(e))r=Z.fragment(e,RegExp.$1,t),e=null;else{if(t!==_)return P(t).find(e);r=Z.qsa(M,e)}else{if(n(e))return P(M).ready(e);if(Z.isZ(e))return e;if(ne(e))r=l(e);else if(i(e))r=[e],e=null;else if(j.test(e))r=Z.fragment(e.trim(),RegExp.$1,t),e=null;else{if(t!==_)return P(t).find(e);r=Z.qsa(M,e)}}return Z.Z(r,e)},(P=function(e,t){return Z.init(e,t)}).extend=function(e){var t,n=D.call(arguments,1);return"boolean"==typeof e&&(t=e,e=n.shift()),n.forEach((function(n){h(e,n,t)})),e},Z.qsa=function(e,t){var n,r="#"==t[0],a=!r&&"."==t[0],o=r||a?t.slice(1):t,i=$.test(o);return e.getElementById&&i&&r?(n=e.getElementById(o))?[n]:[]:1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType?[]:D.call(i&&!r&&e.getElementsByClassName?a?e.getElementsByClassName(o):e.getElementsByTagName(t):e.querySelectorAll(t))},P.contains=M.documentElement.contains?function(e,t){return e!==t&&e.contains(t)}:function(e,t){for(;t&&(t=t.parentNode);)if(t===e)return!0;return!1},P.type=t,P.isFunction=n,P.isWindow=r,P.isArray=ne,P.isPlainObject=s,P.isEmptyObject=function(e){var t;for(t in e)return!1;return!0},P.isNumeric=function(e){var t=Number(e),n=a(e);return null!=e&&"boolean"!=n&&("string"!=n||e.length)&&!isNaN(t)&&isFinite(t)||!1},P.inArray=function(e,t,n){return O.indexOf.call(t,e,n)},P.camelCase=w,P.trim=function(e){return null==e?"":String.prototype.trim.call(e)},P.uuid=0,P.support={},P.expr={},P.noop=function(){},P.map=function(e,t){var n,r,a,o=[];if(c(e))for(r=0;r<e.length;r++)null!=(n=t(e[r],r))&&o.push(n);else for(a in e)null!=(n=t(e[a],a))&&o.push(n);return u(o)},P.each=function(e,t){var n,r;if(c(e)){for(n=0;n<e.length;n++)if(!1===t.call(e[n],n,e[n]))return e}else for(r in e)if(!1===t.call(e[r],r,e[r]))return e;return e},P.grep=function(e,t){return k.call(e,t)},e.JSON&&(P.parseJSON=JSON.parse),P.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),(function(e,t){X["[object "+t+"]"]=t.toLowerCase()})),P.fn={constructor:Z.Z,length:0,forEach:O.forEach,reduce:O.reduce,push:O.push,sort:O.sort,splice:O.splice,indexOf:O.indexOf,concat:function(){var e,t,n=[];for(e=0;e<arguments.length;e++)t=arguments[e],n[e]=Z.isZ(t)?t.toArray():t;return L.apply(Z.isZ(this)?this.toArray():this,n)},map:function(e){return P(P.map(this,(function(t,n){return e.call(t,n,t)})))},slice:function(){return P(D.apply(this,arguments))},ready:function(e){return J.test(M.readyState)&&M.body?e(P):M.addEventListener("DOMContentLoaded",(function(){e(P)}),!1),this},get:function(e){return e===_?D.call(this):this[e>=0?e:e+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each((function(){null!=this.parentNode&&this.parentNode.removeChild(this)}))},each:function(e){for(var t,n=this.length,r=0;r<n&&(t=this[r],!1!==e.call(t,r,t));)r++;return this},filter:function(e){return n(e)?this.not(this.not(e)):P(k.call(this,(function(t){return Z.matches(t,e)})))},add:function(e,t){return P(R(this.concat(P(e,t))))},is:function(e){return this.length>0&&Z.matches(this[0],e)},not:function(e){var t=[];if(n(e)&&e.call!==_)this.each((function(n){e.call(this,n)||t.push(this)}));else{var r="string"==typeof e?this.filter(e):c(e)&&n(e.item)?D.call(e):P(e);this.forEach((function(e){r.indexOf(e)<0&&t.push(e)}))}return P(t)},has:function(e){return this.filter((function(){return i(e)?P.contains(this,e):P(this).find(e).size()}))},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){var e=this[0];return e&&!i(e)?e:P(e)},last:function(){var e=this[this.length-1];return e&&!i(e)?e:P(e)},find:function(e){var t,n=this;return t=e?"object"==a(e)?P(e).filter((function(){var e=this;return O.some.call(n,(function(t){return P.contains(t,e)}))})):1==this.length?P(Z.qsa(this[0],e)):this.map((function(){return Z.qsa(this,e)})):P(),t},closest:function(e,t){var n=[],r="object"==a(e)&&P(e);return this.each((function(a,i){for(;i&&!(r?r.indexOf(i)>=0:Z.matches(i,e));)i=i!==t&&!o(i)&&i.parentNode;i&&n.indexOf(i)<0&&n.push(i)})),P(n)},parents:function(e){for(var t=[],n=this;n.length>0;)n=P.map(n,(function(e){if((e=e.parentNode)&&!o(e)&&t.indexOf(e)<0)return t.push(e),e}));return b(t,e)},parent:function(e){return b(R(this.pluck("parentNode")),e)},children:function(e){return b(this.map((function(){return f(this)})),e)},contents:function(){return this.map((function(){return this.contentDocument||D.call(this.childNodes)}))},siblings:function(e){return b(this.map((function(e,t){return k.call(f(t.parentNode),(function(e){return e!==t}))})),e)},empty:function(){return this.each((function(){this.innerHTML=""}))},pluck:function(e){return P.map(this,(function(t){return t[e]}))},show:function(){return this.each((function(){"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=m(this.nodeName))}))},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){var t=n(e);if(this[0]&&!t)var r=P(e).get(0),a=r.parentNode||this.length>1;return this.each((function(n){P(this).wrapAll(t?e.call(this,n):a?r.cloneNode(!0):r)}))},wrapAll:function(e){if(this[0]){var t;for(P(this[0]).before(e=P(e));(t=e.children()).length;)e=t.first();P(e).append(this)}return this},wrapInner:function(e){var t=n(e);return this.each((function(n){var r=P(this),a=r.contents(),o=t?e.call(this,n):e;a.length?a.wrapAll(o):r.append(o)}))},unwrap:function(){return this.parent().each((function(){P(this).replaceWith(P(this).children())})),this},clone:function(){return this.map((function(){return this.cloneNode(!0)}))},hide:function(){return this.css("display","none")},toggle:function(e){return this.each((function(){var t=P(this);(e===_?"none"==t.css("display"):e)?t.show():t.hide()}))},prev:function(e){return P(this.pluck("previousElementSibling")).filter(e||"*")},next:function(e){return P(this.pluck("nextElementSibling")).filter(e||"*")},html:function(e){return 0 in arguments?this.each((function(t){var n=this.innerHTML;P(this).empty().append(C(this,e,t,n))})):0 in this?this[0].innerHTML:null},text:function(e){return 0 in arguments?this.each((function(t){var n=C(this,e,t,this.textContent);this.textContent=null==n?"":""+n})):0 in this?this.pluck("textContent").join(""):null},attr:function(e,t){var n;return"string"!=typeof e||1 in arguments?this.each((function(n){if(1===this.nodeType)if(i(e))for(N in e)E(this,N,e[N]);else E(this,e,C(this,t,n,this.getAttribute(e)))})):0 in this&&1==this[0].nodeType&&null!=(n=this[0].getAttribute(e))?n:_},removeAttr:function(e){return this.each((function(){1===this.nodeType&&e.split(" ").forEach((function(e){E(this,e)}),this)}))},prop:function(e,t){return e=te[e]||e,1 in arguments?this.each((function(n){this[e]=C(this,t,n,this[e])})):this[0]&&this[0][e]},removeProp:function(e){return e=te[e]||e,this.each((function(){delete this[e]}))},data:function(e,t){var n="data-"+e.replace(H,"-$1").toLowerCase(),r=1 in arguments?this.attr(n,t):this.attr(n);return null!==r?S(r):_},val:function(e){return 0 in arguments?(null==e&&(e=""),this.each((function(t){this.value=C(this,e,t,this.value)}))):this[0]&&(this[0].multiple?P(this[0]).find("option").filter((function(){return this.selected})).pluck("value"):this[0].value)},offset:function(t){if(t)return this.each((function(e){var n=P(this),r=C(this,t,e,n.offset()),a=n.offsetParent().offset(),o={top:r.top-a.top,left:r.left-a.left};"static"==n.css("position")&&(o.position="relative"),n.css(o)}));if(!this.length)return null;if(M.documentElement!==this[0]&&!P.contains(M.documentElement,this[0]))return{top:0,left:0};var n=this[0].getBoundingClientRect();return{left:n.left+e.pageXOffset,top:n.top+e.pageYOffset,width:Math.round(n.width),height:Math.round(n.height)}},css:function(e,n){if(arguments.length<2){var r=this[0];if("string"==typeof e){if(!r)return;return r.style[w(e)]||getComputedStyle(r,"").getPropertyValue(e)}if(ne(e)){if(!r)return;var a={},o=getComputedStyle(r,"");return P.each(e,(function(e,t){a[t]=r.style[w(t)]||o.getPropertyValue(t)})),a}}var i="";if("string"==t(e))n||0===n?i=d(e)+":"+p(e,n):this.each((function(){this.style.removeProperty(d(e))}));else for(N in e)e[N]||0===e[N]?i+=d(N)+":"+p(N,e[N])+";":this.each((function(){this.style.removeProperty(d(N))}));return this.each((function(){this.style.cssText+=";"+i}))},index:function(e){return e?this.indexOf(P(e)[0]):this.parent().children().indexOf(this[0])},hasClass:function(e){return!!e&&O.some.call(this,(function(e){return this.test(y(e))}),g(e))},addClass:function(e){return e?this.each((function(t){if("className"in this){I=[];var n=y(this);C(this,e,t,n).split(/\s+/g).forEach((function(e){P(this).hasClass(e)||I.push(e)}),this),I.length&&y(this,n+(n?" ":"")+I.join(" "))}})):this},removeClass:function(e){return this.each((function(t){if("className"in this){if(e===_)return y(this,"");I=y(this),C(this,e,t,I).split(/\s+/g).forEach((function(e){I=I.replace(g(e)," ")})),y(this,I.trim())}}))},toggleClass:function(e,t){return e?this.each((function(n){var r=P(this);C(this,e,n,y(this)).split(/\s+/g).forEach((function(e){(t===_?!r.hasClass(e):t)?r.addClass(e):r.removeClass(e)}))})):this},scrollTop:function(e){if(this.length){var t="scrollTop"in this[0];return e===_?t?this[0].scrollTop:this[0].pageYOffset:this.each(t?function(){this.scrollTop=e}:function(){this.scrollTo(this.scrollX,e)})}},scrollLeft:function(e){if(this.length){var t="scrollLeft"in this[0];return e===_?t?this[0].scrollLeft:this[0].pageXOffset:this.each(t?function(){this.scrollLeft=e}:function(){this.scrollTo(e,this.scrollY)})}},position:function(){if(this.length){var e=this[0],t=this.offsetParent(),n=this.offset(),r=G.test(t[0].nodeName)?{top:0,left:0}:t.offset();return n.top-=parseFloat(P(e).css("margin-top"))||0,n.left-=parseFloat(P(e).css("margin-left"))||0,r.top+=parseFloat(P(t[0]).css("border-top-width"))||0,r.left+=parseFloat(P(t[0]).css("border-left-width"))||0,{top:n.top-r.top,left:n.left-r.left}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent||M.body;e&&!G.test(e.nodeName)&&"static"==P(e).css("position");)e=e.offsetParent;return e}))}},P.fn.detach=P.fn.remove,["width","height"].forEach((function(e){var t=e.replace(/./,(function(e){return e[0].toUpperCase()}));P.fn[e]=function(n){var a,i=this[0];return n===_?r(i)?i["inner"+t]:o(i)?i.documentElement["scroll"+t]:(a=this.offset())&&a[e]:this.each((function(t){(i=P(this)).css(e,C(this,n,t,i[e]()))}))}})),q.forEach((function(e,n){var r=n%2;P.fn[e]=function(){var e,a,o=P.map(arguments,(function(n){var r=[];return"array"==(e=t(n))?(n.forEach((function(e){return e.nodeType!==_?r.push(e):P.zepto.isZ(e)?r=r.concat(e.get()):void(r=r.concat(Z.fragment(e)))})),r):"object"==e||null==n?n:Z.fragment(n)})),i=this.length>1;return o.length<1?this:this.each((function(e,t){a=r?t:t.parentNode,t=0==n?t.nextSibling:1==n?t.firstChild:2==n?t:null;var s=P.contains(M.documentElement,a),c=/^(text|application)\/(javascript|ecmascript)$/,l=Ce(),u=l[vf],d=l[hf];o.forEach((function(e){if(i)e=e.cloneNode(!0);else if(!a)return P(e).remove();Ad(u)&&"SCRIPT"===e.tagName&&e.setAttribute("nonce",u),Ad(d)&&"STYLE"===e.tagName&&e.setAttribute("nonce",d),a.insertBefore(e,t),s&&T(e,(function(e){null==e.nodeName||"SCRIPT"!==e.nodeName.toUpperCase()||e.type&&!c.test(e.type.toLowerCase())||e.src||A(M,e.innerHTML,e.nonce)}))}))}))},P.fn[r?e+"To":"insert"+(n?"Before":"After")]=function(t){return P(t)[e](this),this}})),Z.Z.prototype=v.prototype=P.fn,Z.uniq=R,Z.deserializeValue=S,P.zepto=Z,P}();return function(t){function n(e){return e._zid||(e._zid=p++)}function r(e,t,r,i){if((t=a(t)).ns)var s=o(t.ns);return(h[n(e)]||[]).filter((function(e){return e&&(!t.e||e.e==t.e)&&(!t.ns||s.test(e.ns))&&(!r||n(e.fn)===n(r))&&(!i||e.sel==i)}))}function a(e){var t=(""+e).split(".");return{e:t[0],ns:t.slice(1).sort().join(" ")}}function o(e){return new RegExp("(?:^| )"+e.replace(" "," .* ?")+"(?: |$)")}function i(e,t){return e.del&&!C&&e.e in E||!!t}function s(e){return y[e]||C&&E[e]||e}function c(e,r,o,c,l,d,p){var m=n(e),f=h[m]||(h[m]=[]);r.split(/\s/).forEach((function(n){if("ready"==n)return t(document).ready(o);var r=a(n);r.fn=o,r.sel=l,r.e in y&&(o=function(e){var n=e.relatedTarget;if(!n||n!==this&&!t.contains(this,n))return r.fn.apply(this,arguments)}),r.del=d;var m=d||o;r.proxy=function(t){if(!(t=u(t)).isImmediatePropagationStopped()){t.data=c;var n=m.apply(e,t._args==g?[t]:[t].concat(t._args));return!1===n&&(t.preventDefault(),t.stopPropagation()),n}},r.i=f.length,f.push(r),"addEventListener"in e&&e.addEventListener(s(r.e),r.proxy,i(r,p))}))}function l(e,t,a,o,c){var l=n(e);(t||"").split(/\s/).forEach((function(t){r(e,t,a,o).forEach((function(t){delete h[l][t.i],"removeEventListener"in e&&e.removeEventListener(s(t.e),t.proxy,i(t,c))}))}))}function u(e,n){if(n||!e.isDefaultPrevented){n||(n=e),t.each(_,(function(t,r){var a=n[t];e[t]=function(){return this[r]=S,a&&a.apply(n,arguments)},e[r]=T}));try{e.timeStamp||(e.timeStamp=(new Date).getTime())}catch(e){}(n.defaultPrevented!==g?n.defaultPrevented:"returnValue"in n?!1===n.returnValue:n.getPreventDefault&&n.getPreventDefault())&&(e.isDefaultPrevented=S)}return e}function d(e){var t,n={originalEvent:e};for(t in e)A.test(t)||e[t]===g||(n[t]=e[t]);return u(n,e)}var g,p=1,m=Array.prototype.slice,f=t.isFunction,v=function(e){return"string"==typeof e},h={},b={},C="onfocusin"in e,E={focus:"focusin",blur:"focusout"},y={mouseenter:"mouseover",mouseleave:"mouseout"};b.click=b.mousedown=b.mouseup=b.mousemove="MouseEvents",t.event={add:c,remove:l},t.proxy=function(e,r){var a=2 in arguments&&m.call(arguments,2);if(f(e)){var o=function(){return e.apply(r,a?a.concat(m.call(arguments)):arguments)};return o._zid=n(e),o}if(v(r))return a?(a.unshift(e[r],e),t.proxy.apply(null,a)):t.proxy(e[r],e);throw new TypeError("expected function")},t.fn.bind=function(e,t,n){return this.on(e,t,n)},t.fn.unbind=function(e,t){return this.off(e,t)},t.fn.one=function(e,t,n,r){return this.on(e,t,n,r,1)};var S=function(){return!0},T=function(){return!1},A=/^([A-Z]|returnValue$|layer[XY]$|webkitMovement[XY]$)/,_={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};t.fn.delegate=function(e,t,n){return this.on(t,e,n)},t.fn.undelegate=function(e,t,n){return this.off(t,e,n)},t.fn.live=function(e,n){return t(document.body).delegate(this.selector,e,n),this},t.fn.die=function(e,n){return t(document.body).undelegate(this.selector,e,n),this},t.fn.on=function(e,n,r,a,o){var i,s,u=this;return e&&!v(e)?(t.each(e,(function(e,t){u.on(e,n,r,t,o)})),u):(v(n)||f(a)||!1===a||(a=r,r=n,n=g),a!==g&&!1!==r||(a=r,r=g),!1===a&&(a=T),u.each((function(u,g){o&&(i=function(e){return l(g,e.type,a),a.apply(this,arguments)}),n&&(s=function(e){var r,o=t(e.target).closest(n,g).get(0);if(o&&o!==g)return r=t.extend(d(e),{currentTarget:o,liveFired:g}),(i||a).apply(o,[r].concat(m.call(arguments,1)))}),c(g,e,a,r,n,s||i)})))},t.fn.off=function(e,n,r){var a=this;return e&&!v(e)?(t.each(e,(function(e,t){a.off(e,n,t)})),a):(v(n)||f(r)||!1===r||(r=n,n=g),!1===r&&(r=T),a.each((function(){l(this,e,r,n)})))},t.fn.trigger=function(e,n){return(e=v(e)||t.isPlainObject(e)?t.Event(e):u(e))._args=n,this.each((function(){e.type in E&&"function"==typeof this[e.type]?this[e.type]():"dispatchEvent"in this?this.dispatchEvent(e):t(this).triggerHandler(e,n)}))},t.fn.triggerHandler=function(e,n){var a,o;return this.each((function(i,s){(a=d(v(e)?t.Event(e):e))._args=n,a.target=s,t.each(r(s,e.type||e),(function(e,t){if(o=t.proxy(a),a.isImmediatePropagationStopped())return!1}))})),o},"focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach((function(e){t.fn[e]=function(t){return 0 in arguments?this.bind(e,t):this.trigger(e)}})),t.Event=function(e,t){v(e)||(e=(t=e).type);var n=document.createEvent(b[e]||"Events"),r=!0;if(t)for(var a in t)"bubbles"==a?r=!!t[a]:n[a]=t[a];return n.initEvent(e,r,!0),u(n)}}(t),function(){try{getComputedStyle(void 0)}catch(n){var t=getComputedStyle;e.getComputedStyle=function(e,n){try{return t(e,n)}catch(e){return null}}}}(),function(e){var t=e.zepto,n=t.qsa,r=/^\s*>/,a=":shadow",o="Zepto"+ +new Date,i=function(t,a){var i,s,c=a;try{c?r.test(c)&&(s=e(t).addClass(o),c="."+o+" "+c):c="*",i=n(t,c)}catch(e){throw e}finally{s&&s.removeClass(o)}return i};t.qsa=function(e,t){var n=t.split(a);if(n.length<2)return i(e,t);for(var r=e,o=0;o<n.length;o++){var s=n[o].trim();if(""!==s){if(0===s.indexOf(">")){var c=":host ";(r instanceof Element||r instanceof HTMLDocument)&&(c=":scope "),s=c+s}var l=i(r,s);if(0===l.length||!l[0]||!l[0].shadowRoot)return l;r=l[0].shadowRoot}else r=r.shadowRoot}}}(t),t}(window),Yf=Rf.MutationObserver||Rf.WebkitMutationObserver,zf="Expected an array of promises";sd.default._setImmediateFn&&ot();var Jf=de(),$f=/.*\.(\d+)_\d+/;wt(Rf,wf);var Xf,Qf="at-library-loaded",Zf="at-request-start",ev="at-request-succeeded",tv="at-request-failed",nv="at-content-rendering-start",rv="at-content-rendering-succeeded",av="at-content-rendering-failed",ov="at-content-rendering-no-offers",iv="at-content-rendering-redirect",sv=":eq(",cv=")",lv=sv.length,uv=/((\.|#)(-)?\d{1})/g,dv="Unable to load target-vec.js",gv="Loading target-vec.js",pv="_AT",mv="clickHandlerForExperienceEditor",fv="currentView",vv="at_qa_mode",hv="at_preview_token",bv="at_preview_index",Cv="at_preview_listed_activities_only",Ev="at_preview_evaluate_as_true_audience_ids",yv="at_preview_evaluate_as_false_audience_ids",Sv="_",Tv=function(e){return!g(e)},Av="at_preview_mode",_v="at_preview",Nv="at-",Pv="at-body-style",Iv="#"+Pv,wv=Nv+"views",Rv="Disabled due to optout",Ov="MCAAMB",Lv="MCAAMLH",kv="MCMID",Dv="MCOPTOUT",Mv="getSupplementalDataID",xv="getCustomerIDs",Bv=!0,Vv="NS",jv="DS",Uv="trackingServer",Fv=Uv+"Secure",Gv="Visitor",Hv="getInstance",Wv="isAllowed",qv="Visitor API requests timed out",Kv="Visitor API requests error",Yv={},zv="Data provider",Jv="timed out",$v=2e3,Xv="authorization",Qv="mboxDebugTools",Zv=["architecture","bitness","model","platformVersion","fullVersionList"],eh=Dr(),th="profile.",nh="mbox3rdPartyId",rh="at_property",ah="orderId",oh="orderTotal",ih="productPurchasedId",sh="productId",ch="categoryId",lh="POST",uh="Network request failed",dh="Request timed out",gh="Malformed response JSON",ph="mboxedge",mh=".tt.omtrdc.net",fh=function(e){return!D(e)},vh=function(e){return function(t){return t[e]}},hh=function(e){return function(t){return!e(t)}},bh=hh(g),Ch=hh(x),Eh=function(e){return function(t){return E(e,t)}},yh=function(e){return e.status===wp},Sh=function(e){return e.type===Fp},Th=function(e){return e.type===hg},Ah=Eh(bh),_h=Eh(Ch),Nh=vh(qm),Ph=vh(Jd),Ih=vh(Ym),wh=vh(Gp),Rh=function(e){return Ad(e.name)},Oh=function(e){return!g(e.index)},Lh=function(e){return f(e)&&Rh(e)},kh=function(e){return f(e)&&Rh(e)&&Oh(e)},Dh=function(e){
return f(e)&&Rh(e)},Mh=function(e){return Ad(e.selector)},xh=vh(Hp),Bh=T([xh,bh]),Vh="adobe_mc_sdid",jh="Network request failed",Uh="Request timed out",Fh="URL is required",Gh="GET",Hh="POST",Wh="method",qh="url",Kh="headers",Yh="data",zh="credentials",Jh="timeout",$h="async",Xh=/CLKTRK#(\S+)/,Qh=/CLKTRK#(\S+)\s/,Zh=function(e){return!g(e)},eb="visibilityState",tb="visible",nb=100,rb=Wg+","+Kg+","+qg,ab="at-action-key",ob="metric element not found",ib="navigator",sb="sendBeacon",cb="Beacon data sent",lb="Beacon data sent failed",ub="View triggered notification",db="View rendered notification",gb="Mboxes rendered notification",pb="Event handler notification",mb="Mbox event handler notification",fb="View event handler notification",vb="prefetchMboxes",hb="rendered",bb="triggered",Cb={},Eb="pageLoadMetrics",yb="prefetchMetrics",Sb=vh(Km),Tb=function(){return Qa(Mp)},Ab=function(e){return Za(Mp,e)},_b=vh(Jd),Nb=vh(ag),Pb=function(e){return Qa(Dp,e)},Ib=function(e,t){var n=ld(e)?{errors:e}:{errors:[e]};return Za(Dp,ad.default(n,t))},wb=function(e){return hh(yh)(e)&&Bh(e)},Rb={exports:{}};zc.prototype={on:function(e,t,n){var r=this.e||(this.e={});return(r[e]||(r[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){function r(){a.off(e,r),t.apply(n,arguments)}var a=this;return r._=t,this.on(e,r,n)},emit:function(e){for(var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),r=0,a=n.length;r<a;r++)n[r].fn.apply(n[r].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),r=n[e],a=[];if(r&&t)for(var o=0,i=r.length;o<i;o++)r[o].fn!==t&&r[o].fn._!==t&&a.push(r[o]);return a.length?n[e]=a:delete n[e],this}},Rb.exports=zc,Rb.exports.TinyEmitter=zc;var Ob=Rb.exports,Lb=Jc(),kb="Page load rendering failed",Db="Mboxes rendering failed",Mb="View rendering failed",xb="Prefetch rendering failed",Bb=function(e){return!D(E(yh,e))},Vb="[page-init]",jb="[getOffer()]",Ub="[getOffers()]",Fb="[applyOffer()]",Gb="[applyOffers()]",Hb="[sendNotifications()]",Wb="[trackEvent()]",qb="[triggerView()]",Kb=[],Yb=0,zb=1,Jb=Yb;ju();var $b="function has been deprecated. Please use getOffer() and applyOffer() functions instead.",Xb="adobe.target.registerExtension() function has been deprecated. Please review the documentation for alternatives.",Qb="mboxCreate() "+$b,Zb="mboxDefine() "+$b,eC="mboxUpdate() "+$b,tC=/^tgt:.+/i,nC=function(e){return tC.test(e)},rC=-1,aC=10,oC="tgt:tlm",iC=oC+":lower",sC=oC+":upper",cC={init:Qu,initConfig:be,initDelivery:Kl};e.exports=cC}},"adobe-target-v2/lib/modules/page-load.js":{script:function(e,t,n){"use strict";var r=n("../librarySettings"),a=n("@adobe/reactor-window"),o=n("./object-override"),i=n("./params-store"),s=i.getParams,c=i.getPageLoadParams,l=n("../targetSettings").targetSettings;e.exports=function(e){return l.mboxParams=s(),l.globalMboxParams=c(),o(l,e,["bodyHidingEnabled","bodyHiddenStyle"]),o(l,a.targetGlobalSettings||{},["enabled","bodyHidingEnabled","bodyHiddenStyle"]),o(l,r.TARGET_DEFAULT_SETTINGS||{},["version"]),l}}},"adobe-target-v2/lib/messages.js":{script:function(e){"use strict";e.exports={ALREADY_INITIALIZED:"AT: Adobe Target has already been initialized.",DELIVERY_DISABLED:"AT: Adobe Target content delivery is disabled. Update your DOCTYPE to support Standards mode.",NO_REQUEST:"AT: Target library is either not loaded or disabled, no request will be executed"}}},"adobe-target-v2/lib/librarySettings.js":{script:function(e){"use strict";var t={version:"2.11.4"};e.exports={TARGET_DEFAULT_SETTINGS:t}}},"adobe-target-v2/lib/modules/object-override.js":{script:function(e){"use strict";function t(e,t,n,r){t[n]!==r&&(e[n]=t[n])}function n(e){return!Array.isArray(this.subset)||-1!==this.subset.indexOf(e)}e.exports=function(e,r,a){Object.keys(r).filter(n,{subset:a}).forEach((function(n){t(e,r,n)}))}}},"adobe-target-v2/lib/modules/params-store.js":{script:function(e,t,n){"use strict";function r(e){return void 0!==e&&null!=e&&Object.prototype.hasOwnProperty.call(e,"value")&&null!=e.checked}function a(e){var t={};return Object.keys(e).forEach((function(n){var a=e[n];if(r(a)){var o=a.checked,i=a.value;o&&""===i||(t[n]=i)}else t[n]=a})),t}function o(e){var t=a(e);l(u,t)}function i(e){var t=a(e);l(d,t)}function s(){return u}function c(){return d}var l=n("./object-override"),u={},d={};e.exports={mergeParams:o,mergePageLoadParams:i,getParams:s,getPageLoadParams:c}}},"adobe-target-v2/lib/targetSettings.js":{script:function(e,t,n,r){"use strict";var a=r.getExtensionSettings(),o=a.targetSettings||{};e.exports={extensionSettings:a,targetSettings:o}}},"adobe-target-v2/lib/modules/load-target.js":{script:function(e,t,n,r){"use strict";function a(e){var t=e.compatMode,n=e.documentMode;return t&&"CSS1Compat"===t&&(!n||n>=9)}function o(e){var t=function(){},n=function(){return u.resolve()};e.adobe=e.adobe||{},e.adobe.target={VERSION:"",event:{},getOffer:t,getOffers:n,applyOffer:t,applyOffers:n,sendNotifications:t,trackEvent:t,triggerView:t,registerExtension:t,init:t},e.mboxCreate=t,e.mboxDefine=t,e.mboxUpdate=t}function i(){return c.adobe&&c.adobe.target&&void 0!==c.adobe.target.getOffer}function s(){return i()?(r.logger.warn(d.ALREADY_INITIALIZED),null):(f.mboxParams=p(),f.globalMboxParams=m(),v(f,c.targetGlobalSettings||{},C),v(f,h||{},["version"]),a(l)||(f.enabled=!1,r.logger.warn(d.DELIVERY_DISABLED)),f.timeout=b(f.timeout),f)}var c=n("@adobe/reactor-window"),l=n("@adobe/reactor-document"),u=n("@adobe/reactor-promise"),d=n("../messages"),g=n("./params-store"),p=g.getParams,m=g.getPageLoadParams,f=n("../targetSettings").targetSettings,v=n("./object-override"),h=n("../librarySettings").TARGET_DEFAULT_SETTINGS,b=n("./validation").validTimeout,C=["enabled","clientCode","imsOrgId","serverDomain","cookieDomain","timeout","defaultContentHiddenStyle","defaultContentVisibleStyle","bodyHiddenStyle","bodyHidingEnabled","selectorsPollingTimeout","visitorApiTimeout","overrideMboxEdgeServer","overrideMboxEdgeServerTimeout","optoutEnabled","optinEnabled","secureOnly","supplementalDataIdParamTimeout","authoringScriptUrl","urlSizeLimit","endpoint","pageLoadEnabled","viewsEnabled","analyticsLogging","serverState","globalMboxName","decisioningMethod"];e.exports={initLibrarySettings:s,overridePublicApi:o}}},"adobe-target-v2/lib/modules/optin.js":{script:function(e,t,n){"use strict";function r(e){return"undefined"===(void 0===e?"undefined":u(e))||null===e}function a(e){var t=void 0===e?"undefined":u(e);return null!==e&&("object"===t||"function"===t)}function o(e){return a(e[f])&&a(e[g])}function i(e,t){return!!t&&!r(e)&&!r(e[m])&&o(e[m])}function s(e,t){return e[g](t)}function c(){var e=d[m];return s(e,e[v][h])}function l(){var e=b[p];return i(d,e)}var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d=n("@adobe/reactor-window").adobe,g="isApproved",p="optinEnabled",m="optIn",f="fetchPermissions",v="Categories",h="TARGET",b=n("../targetSettings").targetSettings;e.exports={shouldUseOptIn:l,isTargetApproved:c}}},"adobe-target-v2/lib/analyticsIntegration.js":{script:function(e,t,n,r){"use strict";function a(e,t){return new s((function(n){e?t.then((function(t){t&&(e.abort=!0),n()})):n()}))}function o(e){if(e){var t=new s((function(e){var t=setTimeout((function(){e(!1)}),d.targetSettings.timeout),n=function n(r){e(!1),clearTimeout(t),u(i,r,n)};l(i,p,(function n(r){r.detail&&!0===r.detail.redirect?e(!0):e(!1),clearTimeout(t),u(i,r,n)})),l(i,m,n)}));e((function(e){return a(e,t)}))}}var i=n("@adobe/reactor-document"),s=n("@adobe/reactor-promise"),c=n("./modules/event-util"),l=c.addEventListener,u=c.removeEventListener,d=n("./targetSettings").extensionSettings,g=r.getSharedModule("adobe-analytics","augment-tracker"),p="at-request-succeeded",m="at-request-failed";e.exports=function(){o(g)}}},"adobe-target-v2/lib/modules/validation.js":{script:function(e){"use strict";function t(e){var t=Number(e);return Number.isNaN(t)?n:Math.min(r,Math.max(a,t))}var n=3e3,r=99999,a=0;e.exports={validTimeout:t}}},"adobe-target-v2/lib/modules/event-util.js":{script:function(e){"use strict";function t(e,t,n){e.addEventListener(t,n)}function n(e,t,n){e.removeEventListener(t,n)}e.exports={addEventListener:t,removeEventListener:n}}}}},"natwest-marketing-awin-integration":{displayName:"NatWest Marketing AWIN Integration",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP102473fff2c64ee3bb982b2b756c0281/",settings:{cookieGroups:"%optanonActiveGroups%",dataLayerRoot:"%rootDataLayer%",groupTargeted:"C0004",queryParameters:""},modules:{"natwest-marketing-awin-integration/src/lib/main/extensionMain.js":{script:function(e,t,n,r){"use strict";const a=n("@adobe/reactor-cookie"),o=n("../../helpers/getAwinQueryParameter"),i=n("../../helpers/getRootDomain"),s=n("../../helpers/updateAttributes"),c=r.getSharedModule("natwest-core","get-object-property"),l=r.getSharedModule("natwest-core","set-object-property"),{AWIN_ROOT:u,COOKIE_NAME:d}=n("../../helpers/constants"),g=n("../../helpers/analytics/updateAWCStoredValue"),p=e=>{try{const t=c(window,u),{cookieGroupTargeted:n,queryParameters:g}=t;if(t.isProcessingCompleted)return;if(!t.initialized){const{awc:e,extcam:n,urn:r}=o(g);if(e&&n){const a=!0;t.data={awc:e,extcam:n,urn:r,isAvailable:a}}t.initialized=!0}if(!e.includes(n))return void r.logger.log(`Unable to proceed with AWIN integration as cookie group ${n} is opted out`);if(t.data.isAvailable){r.logger.log("AWIN awc value found in URL",{...t.data});const{awc:e,extcam:n,urn:o}=t.data;a.set(d,{awc:e,extcam:n,urn:o},{path:"/",domain:i(),expires:30,secure:!0,sameSite:"Lax"})}const p=a.get(d),m=p?JSON.parse(p):"";m?(r.logger.log(`AWIN awc value found ${p} in cookie ${d}, saving into the data layer attributes`),s("awinAwc",`${m.awc}|${m.extcam}|${m.urn}`)):r.logger.log(`${d} cookie not found`),t.isProcessingCompleted=!0,l(u,{...t},window)}catch(e){_satellite.logger.error("Failed to initialize AWIN",e)}};try{const e=r.getExtensionSettings()||{};r.logger.info("Initializing NatWest Awin extension with settings",e);const{cookieGroups:t,groupTargeted:n,queryParameters:a}=e,o={queryParameters:a||document.location.search,initialized:!1,cookieGroupTargeted:n,isProcessingCompleted:!1,data:{awc:"",extcam:"",urn:"",isAvailable:!1},utils:{updateAwinData:p,analytics:{updateAWCStoredValue:g}}};l(u,{...o},window),p(t)}catch(e){r.logger.error("Failures in NatWest Awin main -- ",e)}}},"natwest-marketing-awin-integration/src/helpers/getAwinQueryParameter.js":{script:function(e,t,n,r){"use strict";e.exports=function(e){try{const t=n("@adobe/reactor-query-string"),r=(n("@adobe/reactor-document"),t.parse(e)),a=r.awc,o=r.extcam;return{awc:a,extcam:o,urn:r.urn}}catch(e){r.logger.error("Failed to get Awin query parameters",e)}}}},"natwest-marketing-awin-integration/src/helpers/getRootDomain.js":{script:function(e,t,n,r){"use strict";e.exports=function(){try{var e=window.location.hostname,t=e;if(null!=e){var n=e.split(".").reverse();null!=n&&n.length>1&&(t=n[1]+"."+n[0],-1!=e.toLowerCase().indexOf(".co.uk")&&n.length>2&&(t=n[2]+"."+t))}return t}catch(e){r.logger.error("getRootDomain helper function failed to run - "+e)}}}},"natwest-marketing-awin-integration/src/helpers/updateAttributes.js":{script:function(e,t,n,r){"use strict";const a=r.getSharedModule("natwest-core","get-object-property"),o=r.getSharedModule("natwest-core","set-object-property"),i=n("./getDataLayerRoot");e.exports=function(e,t){const n=`${i()}.attributes`;let r=a(window,n);r||o(n,[],window),r=a(window,n);const s=r.findIndex((t=>t.name==e));s>-1&&r.splice(s,1),r.push({name:e,value:t})}}},"natwest-marketing-awin-integration/src/helpers/constants.js":{script:function(e){"use strict";e.exports={AWIN_ROOT:"tagging.awin",COOKIE_NAME:"AWIN_AWC"}}},"natwest-marketing-awin-integration/src/helpers/analytics/updateAWCStoredValue.js":{script:function(e,t,n,r){"use strict";const a=n("@adobe/reactor-cookie"),o=n("../../helpers/getRootDomain"),{COOKIE_NAME:i}=n("../constants");e.exports=function(e,t,n){try{const r=a.get(i);if(r&&r.indexOf("reportedOn")>-1)return;if(!e||!e.attributes||-1==e.attributes.length)return;const s=e.attributes.filter((e=>"awinAwc"==e.name));if(s&&-1!==s.length){const e=t||"eVar241";(n||window.s)[e]=s[0].value.trim(),a.set(i,{...JSON.parse(r),reportedOn:Date.now()},{path:"/",domain:o(),expires:30,secure:!0,sameSite:"Lax"})}}catch(e){r.logger.error("Failed to update AWC value for analytics",e)}}}},"natwest-marketing-awin-integration/src/helpers/getDataLayerRoot.js":{script:function(e,t,n,r){"use strict";e.exports=()=>{const e="digitalData",t=r.getExtensionSettings()||{};return t.dataLayerRoot&&t.dataLayerRoot!==e?t.dataLayerRoot:e}}}}},"mapping-table":{displayName:"Mapping Table",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP29c1cfa85ec74c28b3ef1369f262762b/",modules:{"mapping-table/src/lib/dataElements/mappingTable.js":{name:"mapping-table",displayName:"Mapping Table",script:function(e,t,n,r){"use strict";e.exports=function(e){if(null!=e){var t=e.dataElement;a();try{for(var n=0;n<e.size;n++){var o=e[n].method,i=e[n].output,s=e[n].input;if("exact match"===o){if(t===s)return i}else if("exact match i"===o){if("boolean"==typeof t)continue;if(t.toLowerCase()===s.toLowerCase())return i}else if("starts with"===o){if("boolean"==typeof t)continue;if(t.startsWith(s))return i}else if("contains"===o){if("boolean"==typeof t)continue;if(t.indexOf(s)>-1)return i}else if("regex"===o){if("boolean"==typeof t)continue;if(new RegExp(s).test(t))return i}else if("regex matching"===o){if("boolean"==typeof t)continue;var c=t.match(new RegExp(s));if(null!==c){for(var l=c.length-1;l>=1;l--)i=i.split("$"+l).join(c[l]);return i}}else if("is true"===o){if(!0===t)return i}else if("is false"===o&&!1===t)return i}}catch(e){r.logger.error("Error during evaluation: "+e.message)}if(!0===e.defaultValueEmpty)return;return t}};var a=function(){String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.substr(t,e.length)===e})}}}}},"natwest-group-cora-contact-manager":{displayName:"NatWest Group CORA Contact Manager",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP9ea7965927a04febbd3ab315a5a12c9c/",modules:{"natwest-group-cora-contact-manager/src/lib/actions/injectCcmScript.js":{name:"inject-ccm-script",displayName:"Inject CCM script",script:function(e,t,n,r){"use strict";var a=n("@adobe/reactor-load-script");e.exports=function(e,t){try{r.logger.info("Loading CCM script with settings",e),e.source(window,t),window.chatParams={...window.chatParams,environment:r.environment.stage,...e};let n=localStorage.getItem("ccmOverwrite");if(n){let t=JSON.parse(n);t.webserverURL&&(e.webserverURL=t.webserverURL),t.chatParams&&(window.chatParams={...window.chatParams,...t.chatParams}),r.logger.log("Configuration overwritten using localStorage")}a(e.webserverURL+"ccm.init.js").then((e=>{e.setAttribute("id","ccm-init-js"),r.logger.info("CCM script injected",e,"and chatParams",window.chatParams)})).catch((e=>{r.logger.error(e)}))}catch(t){r.logger.error("Failed to load CCM script with configuration",e,t)}}}}}},"rbs-onetrust":{displayName:"NatWest Group OneTrust",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EPcf69c6a2134f4aca9ad328be43083552/",settings:{brand:"%brandName%",wrapper:{source:function(){},trigger:!1,modified:!1},otRetries:10,cookieName:"OptanonConsent",objectName:"OptanonActiveGroups",integration:{hasAepWebSDK:!0,aepWebSDKInstanceConsentPreferences:[{preferences:"All-C0009",instanceName:"alloy"}]},queryParameters:"%queryStrings%",defaultPreferences:[{brand:"NatWest",preferences:"C0001"},{brand:"RBS",preferences:"C0001"},{brand:"Ulster ROI",preferences:"C0001"},{brand:"Ulster NI",preferences:"C0001"},{brand:"Lombard",preferences:"C0001"},{brand:"Lombard IE",preferences:"C0001"},{brand:"NatWest US",preferences:"C0001"},{brand:"TYL",preferences:"C0001"},{brand:"RBS International",preferences:"C0001"},{brand:"NatWest International",preferences:"C0001"},{brand:"NatWest Offshore",preferences:"C0001"},{brand:"Isle of Man Bank",preferences:"C0001"},{brand:"Coutts",preferences:"C0001"},{brand:"NatWest Group",preferences:"C0001"},{brand:"NatWest Remembers",preferences:"C0001"},{brand:"Adam",preferences:"C0001"},{brand:"Holts",preferences:"C0001"}],queryParametersTimeout:3,defaultReportingPreferences:[{brand:"NatWest",preferences:",C0001=1,C0009=0,C0002=0,C0003=0,C0004=0,"},{brand:"RBS",preferences:",C0001=1,C0009=0,C0002=0,C0003=0,C0004=0,"},{brand:"Ulster ROI",preferences:",C0001=1,C0009=0,C0002=0,C0003=0,C0004=0,"},{brand:"Ulster NI",preferences:",C0001=1,C0009=0,C0002=0,C0003=0,C0004=0,"},{brand:"Lombard",preferences:",C0001=1,C0009=0,C0002=0,C0003=0,C0004=0,"},{brand:"Lombard IE",preferences:",C0001=1,C0009=0,C0002=0,C0003=0,C0004=0,"},{brand:"NatWest US",preferences:",C0001=1,C0009=0,C0002=0,C0003=0,C0004=0,"},{brand:"TYL",preferences:",C0001=1,C0009=0,C0002=0,C0003=0,C0004=0,"},{brand:"RBS International",preferences:",C0001=1,C0009=0,C0002=0,C0003=0,C0004=0,"},{brand:"NatWest International",preferences:",C0001=1,C0009=0,C0002=0,C0003=0,C0004=0,"},{brand:"NatWest Offshore",preferences:",C0001=1,C0009=0,C0002=0,C0003=0,C0004=0,"},{brand:"Isle of Man Bank",preferences:",C0001=1,C0009=0,C0002=0,C0003=0,C0004=0,"},{brand:"Coutts",preferences:",C0001=1,C0009=0,C0002=0,C0003=0,C0004=0,"},{brand:"NatWest Group",preferences:",C0001=1,C0009=0,C0002=0,C0003=0,C0004=0,"},{brand:"NatWest Remembers",preferences:",C0001=1,C0009=0,C0002=0,C0003=0,C0004=0,"},{brand:"Adam",preferences:",C0001=1,C0009=0,C0002=0,C0003=0,C0004=0,"},{brand:"Holts",preferences:",C0001=1,C0009=0,C0002=0,C0003=0,C0004=0,"}]},modules:{"rbs-onetrust/src/lib/dataElements/consentsettings.js":{name:"consentsettings",displayName:"consentSettings",script:function(e,t,n,r){"use strict";var a=n("@adobe/reactor-cookie"),o=n("../../helpers/getPreferenceFromQueryParams");e.exports=function(e){try{var t=r.getExtensionSettings()||{},n=a.get(t.cookieName),i=o();if(i&&i.found)return r.logger.info("Cookie Consent retrieved from query parameters."),decodeURIComponent(i.optanonActiveGroups);if(n)return r.logger.info("Cookie Consent retrieved from cookie."),(n=n.split("groups=")[1]).indexOf("&")>-1&&(n=n.split("&")[0]),n=n.replace(/:/g,"=");for(var s=0;s<t.defaultReportingPreferences.length;s++)if(t.defaultReportingPreferences[s].brand==e.brand)return r.logger.info("Cookie Consent not found. Using defaults"),t.defaultReportingPreferences[s].preferences}catch(e){r.logger.error("Failed to retrieve consentSettings",e)}}}},"rbs-onetrust/src/lib/conditions/preferenceOptedIn.js":{name:"preference-opted-in",displayName:"Preference Opted In",script:function(e,t,n,r){"use strict";var a=n("../../helpers/getPreferences"),o=n("../../helpers/constants"),i=r.getSharedModule("natwest-core","get-object-property"),s=r.getSharedModule("natwest-core","set-object-property");e.exports=function(e,t){try{r.logger.log("Checking OneTrust Cookie categories with settings",e,"and event",t);for(var n=e.cookieCategories,c="^",l=".*$",u=[],d=0;d<n.length;d++)u.push("(?=.*(\\b|\\B)"+n[d]+"(\\b|\\B))");var g=RegExp(c+u.join("")+l).test(a(e.brand));if(!g){var p=e.callback.payload;if(void 0!==typeof t&&t.identifier?p.ancestor=t:e.callback.queuedDCRId&&(p.ancestor={identifier:e.callback.queuedDCRId}),p.cookieCategories=e.cookieCategories,p.backfill=!0,e.queueTag&&p.ancestor&&p.ancestor.identifier){var m=i(window,o.BACKFILL_QUEUE);if(void 0===m&&(s(o.BACKFILL_QUEUE,{}),m=i(window,o.BACKFILL_QUEUE)),p.ancestor.identifier){var f=p.ancestor.identifier;void 0!==m[f]&&m[f].length>=3?r.logger.log("Unable to queue tag for backfill processing as same tag identifier is already queued and reached maximum of 3 items queued."):(void 0===m[f]&&(m[f]=[]),r.logger.log("Queuing tag ",f," for backfill processing.",p),m[f].push(p))}else r.logger.log("Unable to queue tag for backfill processing as no DCR ID available!")}else e.queueTag&&r.logger.log("Unable to queue rule",t.$rule.name,"as it is either not a DCR or no DCR id specified");e.callback&&e.callback.directCallRuleID&&(r.logger.log("Running Preference Opted in callback"),_satellite.track(e.callback.directCallRuleID,p))}return g}catch(e){return r.logger.error("Failed in OneTrust condition to evaluate cookies preferences",e),!1}}}},"rbs-onetrust/src/lib/main/extensionMain.js":{script:function(e,t,n,r){"use strict";const a=r.getSharedModule("natwest-core","set-object-property"),o=r.getSharedModule("natwest-core","get-object-property"),i=n("../../helpers/getRootDomain"),s=n("@adobe/reactor-cookie"),c=n("../../helpers/getPreferenceFromQueryParams"),l=n("../../helpers/setCookie"),u=n("../../helpers/updateAdobeOptInStatus"),d=n("../../helpers/updateAepWebSdkConsent"),g=n("../../helpers/processQueuedTags"),p=n("../../helpers/constants"),m=(e,t=[])=>{try{r.logger.log("OneTrust consent changed."),"undefined"!=typeof adobe&&adobe.optIn&&u(e),t.length>0&&d(e,t),g(e)}catch(e){r.logger.error("Failed to OneTrust OnConsentChanged",e)}},f=(e,t,n=[])=>{try{OneTrust.OnConsentChanged((()=>{m(e,n)}))}catch(i){r.logger.error("Failed to add event listener for OTConsentApplied",i);let s=o(window,p.EVENT_LISTENER_RETRY);a(p.EVENT_LISTENER_RETRY,s+1,window),s<t&&setTimeout((()=>{f(e,t,n)}),500)}};try{let e=r.getExtensionSettings()||{};r.logger.info("Initializing OneTrust extension with settings",e),e.wrapper.modified&&(window.OptanonWrapper=e.wrapper.source),e.wrapper.trigger&&window.OptanonWrapper(),setTimeout((()=>{try{a(p.EVENT_LISTENER_RETRY,0,window),o(e,"integration.hasAepWebSDK")?f(e.brand,e.otRetries,o(e,"integration.aepWebSDKInstanceConsentPreferences")):f(e.brand,e.otRetries);const t="tagging.features.onetrust.queryParams.saved";let n=c();if(n?.found){let c=r.getExtensionSettings()||{},u=i();if(!o(window,t)){l("OptanonAlertBoxClosed",(new Date).toISOString(),"/",u,365,!0,"Lax"),r.logger.log("Updating OneTrust cookie "+c.cookieName+" with preferences found in query params.",n.cookieGroups);let i=s.get(c.cookieName);r.logger.log("Current value of OneTrust cookie",i),i=i?i.replace(/&?groups=[^&]+/,`&groups=${n.cookieGroups}`):`&groups=${n.cookieGroups}`,r.logger.log("Updated value of OneTrust cookie",i),r.logger.log("Domain to write new OneTrust Cookie",u),l(c.cookieName,i,"/",u,365,!0,"Lax"),r.logger.log("Updating OneTrust object "+c.objectName+" with preferences found in query params.",n.optanonActiveGroups),window.OptanonActiveGroups=n.optanonActiveGroups,a(t,!0),o(e,"integration.hasAepWebSDK")?m(e.brand,o(e,"integration.aepWebSDKInstanceConsentPreferences")):m(e.brand)}}}catch(e){r.logger.error("Failed in NatWest onetrust main timeout.",e)}}),1e3*e.queryParametersTimeout)}catch(e){r.logger.error("Failures in NatWest onetrust main -- "+e)}}},"rbs-onetrust/src/helpers/getPreferenceFromQueryParams.js":{script:function(e,t,n,r){"use strict";var a=n("@adobe/reactor-query-string");e.exports=function(){var e=(r.getExtensionSettings()||{}).queryParameters,t={found:!1};if("string"==typeof e&&e&&e.toLowerCase().indexOf("cookiegroups")>-1){t.found=!0;var n=a.parse(e),o=["C0001","C0002","C0003","C0004","C0009"];t.optanonActiveGroups="",t.cookieGroups=",";for(var i=0;i<o.length;i++){var s=o[i];if(n[s]&&"1"==n[s]){var c=i==o.length-1?"":",";t.optanonActiveGroups+=s+c,t.cookieGroups+=s+":1,"}else t.cookieGroups+=s+":0,"}}return t}}},"rbs-onetrust/src/helpers/getPreferences.js":{script:function(e,t,n,r){"use strict";function a(e){try{r.logger.info("Checking Consent taken from OneTrust cookie",e.cookieName);var t=c.get(e.cookieName);if(void 0!==t&&t){var n=","+t.split("groups=")[1].split("&")[0].match(/(C000\d):1/gi).join(",").replace(/:1/g,"");return r.logger.info("Cookie Consent taken from OneTrust cookie",e.cookieName),n}return r.logger.info("Consent not found in OneTrust cookie"),""}catch(e){return r.logger.info("Failed while Checking Consent from cookie",e),""}}function o(){try{r.logger.info("Checking Consent taken from query params");var e=l();return e&&e.found?(r.logger.info("Cookie Consent taken from query params"),e.optanonActiveGroups):(r.logger.info("Consent not found in query params"),"")}catch(e){return r.logger.info("Failed while Checking Consent taken from query params",e),""}}function i(e){try{r.logger.info("Checking Consent taken from OneTrust Object",e.objectName);var t=window[e.objectName];return t&&",,"!==t?(r.logger.info("Cookie Consent taken from OneTrust Object",e.objectName),t):(r.logger.info("Consent not found in OneTrust Object"),"")}catch(e){return r.logger.info("Failed while Checking Consent from OneTrust Object",e),""}}function s(e,t){try{try{if(r.logger.info("Checking Consent taken from defaults"),t)for(var n=0;n<e.defaultPreferences.length;n++)if(e.defaultPreferences[n].brand==t)return r.logger.info("Cookie Consent not found. Using defaults"),e.defaultPreferences[n].preferences;return r.logger.info("Consent not found in defaults"),""}catch(e){return r.logger.info("Failed while Checking Consent from defaults",e),""}}catch(e){}}var c=n("@adobe/reactor-cookie"),l=n("../helpers/getPreferenceFromQueryParams");e.exports=function(e){try{for(var t,n=r.getExtensionSettings()||{},c=[o,i,a,s],l=0;l<c.length&&!(t=c[l](n,e));l++);return t}catch(e){r.logger.error("Failed to get onetrust consent settings - "+e)}}}},"rbs-onetrust/src/helpers/constants.js":{script:function(e){"use strict";e.exports={BACKFILL_QUEUE:"tagging.processing.backfill",EVENT_LISTENER_RETRY:"tagging.onetrust.listener.retry"}}},"rbs-onetrust/src/helpers/getRootDomain.js":{script:function(e,t,n,r){"use strict";e.exports=function(){try{var e=window.location.hostname,t=e;if(null!=e){var n=e.split(".").reverse();null!=n&&n.length>1&&(t=n[1]+"."+n[0],-1!=e.toLowerCase().indexOf(".co.uk")&&n.length>2&&(t=n[2]+"."+t))}return t}catch(e){r.logger.error("getRootDomain helper function failed to run - "+e)}}}},"rbs-onetrust/src/helpers/setCookie.js":{script:function(e,t,n,r){"use strict";var a=n("@adobe/reactor-cookie");e.exports=function(e,t,n,o,i,s,c){try{a.set(e,t,{path:n,domain:o,expires:i,secure:s,sameSite:c})}catch(t){r.logger.error("Failed to set cookie.",e,t)}}}},"rbs-onetrust/src/helpers/updateAdobeOptInStatus.js":{script:function(e,t,n,r){"use strict";function a(){r.logger.log("Adobe OptIn Status updated",adobe.optIn.isComplete,adobe.optIn.status)}var o=n("./getPreferences"),i=n("./getAdobeOptInStatus");e.exports=function(e){try{var t=o(e),n=sessionStorage.getItem("optanonActiveGroups");if((n&&n!==t||!n)&&"undefined"!=typeof adobe){r.logger.log("Updating Adobe Opt In Status");var s=i(e);for(var c in s)s[c]?adobe.optIn.approve([c],!0):adobe.optIn.deny([c],!0);adobe.optIn.complete(),adobe.optIn.fetchPermissions(a),sessionStorage.setItem("optanonActiveGroups",t)}}catch(e){r.logger.error("Failed in updateAdobeOptInStatus -- ",e)}}}},"rbs-onetrust/src/helpers/updateAepWebSdkConsent.js":{script:function(e,t,n,r){"use strict";const a=n("./getPreferences");e.exports=(e,t)=>{try{let n=a(e);t.forEach((e=>{if("function"!=typeof window[e.instanceName])return void r.logger.error(`AEP Web SDK Instance: ${e.instanceName} does not exist.`);let t=!1,[a,o]=e.preferences.split("-");t="All"==a?o.split(",").every((e=>n.includes(e))):o.split(",").some((e=>n.includes(e)));let i={consent:[{standard:"Adobe",version:"1.0",value:{general:t?"in":"out"}}]};r.logger.log(`Updating AEP Web SDK Status for ${e.instanceName} with the configs: ${JSON.stringify(i)}`),window[e.instanceName]("setConsent",i)}))}catch(e){r.logger.error("Failed in updateAepWebSDKConsent -- ",e)}}}},"rbs-onetrust/src/helpers/processQueuedTags.js":{script:function(e,t,n,r){"use strict";var a=n("./constants"),o=n("./getPreferences"),i=r.getSharedModule("natwest-core","get-object-property");e.exports=function(e){try{var t=i(window,a.BACKFILL_QUEUE);if(void 0===t||0===Object.keys(t).length)return void r.logger.log("Unable to process backfilled tags as queue does not exist or is empty");r.logger.log("Processing backfilled tags");for(var n=o(e),s=Object.keys(t),c=0;c<s.length;c++){r.logger.log("Backfilling tag ",s[c]);for(var l=t[s[c]],u=0;u<l.length;u++){for(var d=l[u],g=d.cookieCategories,p="^",m=".*$",f=[],v=0;v<g.length;v++)f.push("(?=.*(\\b|\\B)"+g[v]+"(\\b|\\B))");if(RegExp(p+f.join("")+m).test(n)){var h=d.ancestor.identifier;delete(d=Object.assign(d,d.ancestor.detail)).ancestor,delete d.cookieCategories,_satellite.track(h,d),u==l.length-1&&delete t[s[c]]}}}r.logger.log("Processing backfilled tags complete")}catch(e){r.logger.error("Failed while processing backfilled tags",e)}}}},"rbs-onetrust/src/helpers/getAdobeOptInStatus.js":{script:function(e,t,n,r){"use strict";var a=n("./getPreferences");e.exports=function(e){try{var t=a(e),n=!1,o=!1,i=!1,s=!1;return t.match(/C0009/g)&&(n=!0,s=!0,i=!0),t.match(/C0002.*C0009|C0009.*C0002/)&&(o=!0),{aa:n,aam:o,ecid:i,target:s}}catch(e){r.logger.error("Failed to get Adobe Opt In Status",e)}}}}}}},company:{orgId:"C50417FE52CB33480A490D4C@AdobeOrg",dynamicCdnEnabled:!1},property:{name:"RB - AEM - Bank of Brands - LIVE",settings:{domains:["natwest.com","rbs.co.uk","ulsterbank.co.uk","holtsmilitarybank.co.uk","ulsterbank.ie","lombard.co.uk","lombard.ie","iombank.com","natwestinternational.com","natwestgroup.com","natwestgroupremembers.com","rbsinternational.com","adobecqms.net"],undefinedVarsReturnEmpty:!0,ruleComponentSequencingEnabled:!0},id:"PR8f04505ec17e49f8bcaec4d253e53481"},rules:[{id:"RL00dfdb11399540b1826df153f7f246b5",name:"[Survey] DCR -- hotjar -- Global - Inject Survey Hotjar based on feature flag -- C0002 Cookie enabled -- hotjar -- v1",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"hotjar"},ruleOrder:50}],conditions:[{modulePath:"natwest-core/src/lib/conditions/featureFlagEnabled.js",settings:{key:"surveyHotjar"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTruthy"},leftOperand:"%surveyHotjarId%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTruthy"},leftOperand:"%surveyHotjarSv%"},timeout:2e3},{modulePath:"rbs-onetrust/src/lib/conditions/preferenceOptedIn.js",settings:{brand:"%brandName%",callback:{payload:{surveyHotjarId:"%surveyHotjarId%",surveyHotjarSv:"%surveyHotjarSv%"},queuedDCRId:"hotjar",directCallRuleID:""},queueTag:!0,cookieCategories:["C0002"]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/90decdbe34ba/0ec9031489bb/2fe1d56d40dc/RCbbc7b9dad91c4178b95a133669a31533-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL03aac233f4824b0daf341359b132027a",name:"[AEP][Analytics] DCR - webSdkLinkTracking -- OT - C0009 -- Web SDK - Update Variable -> Send Event",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"webSdkLinkTracking"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/domain.js",settings:{domains:["rbsinternational.com","natwestinternational.com"]},negate:!0,timeout:2e3},{modulePath:"rbs-onetrust/src/lib/conditions/preferenceOptedIn.js",settings:{brand:"%brandName%",callback:{payload:{},queuedDCRId:"",directCallRuleID:""},queueTag:!0,cookieCategories:["C0009"]},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){try{const t={ACTION:["LINK_CLICK","BUTTON_CLICK","MEDIA_PLAY"],FORM:["START","COMPLETE","FORM_FIELD_ACTION"],APPLICATION:["START","COMPLETE"]};let n=e.detail?.eventTarget,r=e.detail?.eventPhase;return t[n]?.includes(r)||!1}catch(e){return _satellite.logger.error("Failed in condition Custom Code -- Custom Link Checks for webSDKLinkTracking",e),!1}}},timeout:2e3}],actions:[{modulePath:"adobe-alloy/dist/lib/actions/updateVariable/index.js",settings:{data:{__adobe:{analytics:"%adobeAnalyticsJsonObject%"}},transforms:{"":{clear:!0}},dataElementId:"DE437164c2ef404405b49afdafff268948"},timeout:2e3,delayNext:!0},{modulePath:"adobe-alloy/dist/lib/actions/updateVariable/index.js",settings:{data:{web:{webInteraction:{type:"other",linkClicks:{value:1}}}},customCode:function(e,t){e.web=e.web||{},e.web.webInteraction=e.web.webInteraction||{},e._rbs=e._rbs||{};let n=t.detail?.eventTarget,r=t.detail?.eventPhase,a=t.detail?.elementValue,o=tagging?.webSDKCache?.journeyStep;"ACTION"==n&&("BUTTON_CLICK"==r||"LINK_CLICK"==r?a&&(e.web.webInteraction.name=`${t.detail?.elementType} | ${a}`.trim(),e.web.webInteraction.region=t.detail?.snapshot?.events[0]?.pageSection||"",e._rbs.web=e._rbs.web||{},e._rbs.web.ctaDescription=a,o&&(e._rbs.web.journeyStep=o,_satellite.logger.log("[Custom Code] Removing Journey Step from Web SDK Cache after setting it in XDM object."),
delete tagging.webSDKCache.journeyStep)):"MEDIA_PLAY"==r&&(e.web.webInteraction.name="Video Link Clicked",e._rbs.media=e._rbs.media||{},e._rbs.media.name=a))},transforms:{"":{clear:!0}},dataElementId:"DEca86a7d30938489f9486635b0932df9a"},timeout:2e3,delayNext:!0},{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%analyticsMergedXdmTemplateWithXdmVariable%",data:"%mergedDataVariable%",type:"web.webinteraction.linkClicks",instanceName:"alloy",personalization:{includeRenderedPropositions:!0},edgeConfigOverrides:{staging:{enabled:!0,com_adobe_target:{enabled:!1},com_adobe_analytics:{enabled:!1}},production:{enabled:!0,com_adobe_target:{enabled:!1},com_adobe_analytics:{enabled:!1}},development:{enabled:!0,com_adobe_target:{enabled:!1},com_adobe_analytics:{enabled:!1}}}}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/90decdbe34ba/0ec9031489bb/2fe1d56d40dc/RCc448033f4edd4635b9aebf98332ffef7-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL0d3248ec821b4db79523fb0f5c042cac",name:"[Analytics] EBR -- Click Radio button -- DFHC --AA Send",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:" a.cta.cta-primary",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/financial-health-check",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{let e=document.querySelector('.stepcontainer_display .inp-rad__blk.radioinput>.inp-rad__input[aria-checked="true"]');e&&(t.prop15=e.getAttribute("name"),t.prop55=e.nextElementSibling.innerText)}catch(e){_satellite.logger.error("failed to run radio button click on DFHC",e)}}},trackerProperties:{}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"form field changed",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RL0d5bd8524420401480e7bd06d377dc56",name:"[Marketing] DCR -- Global -- twitterCustom -- Twitter Base Loaded -- Custom Code - Twitter Event",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"twitterCustom"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%ffTwitter%",rightOperand:"enabled"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return!!window.twq}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/90decdbe34ba/0ec9031489bb/2fe1d56d40dc/RC23601260f4d445e291cd19ca62b1d5d3-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL12e018e68f8c46ec9f6b3f3ae484ae3a",name:"[Analytics] EBR -- Global -- eBanking Login - Click -- AA Send",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a[href*='rbsdigital.com'][href*='intcam'], a[href*='nwolb.com'][href*='intcam'], a[href*='ulsteranytimebanking'][href*='intcam']",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a[href*='digitalbanking.rbs.co.uk'][href*='intcam'], a[href*='onlinebanking.natwest.com'][href*='intcam'], a[href*='anytimebanking.ulsterbank'][href*='intcam']",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{var n=_satellite.getParameterByName("intcam",this.href);n.match(/PC_PC_/)&&(n=n.replace("PC_","")),n.match(/CP-/)?n=(n=(n=n.replace("HP-CP-DEF-Default","PC_HP-P1-DEF-UnKnown3-DEF")).replace("HP-P-CP-DEF-Default","PC_HP-P-P1-DEF-UnKnown3-DEF")).replace("HP-B-CP-DEF-Default","PC_HP-B-P1-DEF-UnKnown3-DEF"):n.match(/SA-/)?n=(n=(n=n.replace("HP-SA-DEF-Default","PC_HP-P2-DEF-UnKnown3-DEF")).replace("HP-P-SA-DEF-Default","PC_HP-P-P2-DEF-UnKnown3-DEF")).replace("HP-B-SA-DEF-Default","PC_HP-B-P2-DEF-UnKnown3-DEF"):n.match(/ML-/)?n=(n=(n=n.replace("HP-ML-DEF-Default","PC_HP-P3-PR3-UnKnown1-DEF")).replace("HP-P-ML-DEF-Default","PC_HP-P-P3-PR3-UnKnown1-DEF")).replace("HP-B-ML-DEF-Default","PC_HP-B-P3-PR3-UnKnown1-DEF"):n.match(/TB-DEF-Default/)&&(n=(n=(n=n.replace("HP-TB-DEF-Default","PC_HP-TB-DEF-5links-DEF")).replace("HP-P-TB-DEF-Default","PC_HP-P-TB-DEF-5links-DEF")).replace("HP-B-TB-DEF-Default","PC_HP-B-TB-DEF-5links-DEF")),t.campaign=n,t.eVar37=n,window.sendPerformanceDataToAdobe()}catch(e){_satellite.logger.error("Failed to set campaign param for ebanking campaign link",e)}}},trackerProperties:{}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"OLB Internal Campaign",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RL19e52223a65347afb08d5112909c7200",name:"[Analytics] EBR -- Global -- digitalData - Launcher Button -- AA Send",events:[{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"digitalData.event"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%digitalData.event.event%",rightOperand:"click"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%digitalData.event.name%",rightOperand:"Launcher Button"},timeout:2e3},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"mortgage-agreement-in-principle\\.html",valueIsRegex:!0},{value:"/mortgages/how-much-can-i-borrow-mortgage-calculator\\.html",valueIsRegex:!0},{value:"/mortgages/mortgage-calculator\\.html|/mortgages/mortgage-calculators/(how-much-can-i-borrow|mortgage-rate-finder-mortgage-calculator|remortgage-calculator-remortgage-rates)\\.html",valueIsRegex:!0},{value:"/mortgages/mortgage-calculators/equity-calculator\\.html",valueIsRegex:!0}]},negate:!0,timeout:2e3}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(){window.sendPerformanceDataToAdobe()}},trackerProperties:{eVars:[{name:"eVar32",type:"value",value:"%digitalData.event.value%"},{name:"eVar226",type:"value",value:"+1"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"},timeout:2e3,delayNext:!0}]},{id:"RL1bb63d8d8ce5478d9c02e0e43a35b9c2",name:"[Analytics][Recording] PLR -- WL -- Retail - Credit Card BT Tool -- Custom Code - Event Listener",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{return document.querySelectorAll("form#btcc").length>0}catch(e){_satellite.logger.error("Error evaluating rule condition",e)}}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/90decdbe34ba/0ec9031489bb/2fe1d56d40dc/RC5c0ae4c0091348cf82cb2e54a09e3fca-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL1bb66c8408fd4a11b85d54388913660c",name:"[Helper] EBR -- Global -- Click - Video -- Push Datalayer Event - ACTION MEDIA_PLAY",events:[{modulePath:"core/src/lib/events/click.js",settings:{bubbleStop:!1,elementSelector:".kv-player button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".youtubevideo-wrap",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/90decdbe34ba/0ec9031489bb/2fe1d56d40dc/RCea1626364cc44e05ae6e67a0ad7f7c17-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL1ec50380b745420fb2da462c54d94d0b",name:"[Analytics] PLR -- DR -- Retail - Mortgage Calculators -- Custom Code - Event Listeners",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/mortgages/mortgage-calculator\\.html|/mortgages/mortgage-calculators/(how-much-can-i-borrow-mortgage-calculator|how-much-can-i-borrow|mortgage-rate-finder-mortgage-calculator|remortgage-calculator-remortgage-rates)\\.html",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/90decdbe34ba/0ec9031489bb/2fe1d56d40dc/RCc2adcfd3abe5419f932a3c342f142c98-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL1f49e09c70ba4bf2bc6808719a9d8e96",name:"[Analytics] EBR -- Click Radio Button -- Struggling Financially--  AA Send",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"form[name='preapplystartform'] a.cta.cta-primary, a.cta.cta-secondary ,div.acordion-animation, .cta-button[type=\"button\"]",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/life-moments/Struggling-financially\\.html",valueIsRegex:!0},{value:"/help-and-support/struggling-financially\\.html",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{var n=document.querySelector("div.all_sections.active .h2-custom"),r=window.curSlideEle,a=r?r[0].querySelector("div.title-wrapper, .h2-custom"):void 0,o=n?n.innerText.trim():void 0,i=o||(a?a.innerText.trim():void 0),s=e.element.parentElement.parentElement.parentElement.querySelector('input[type="radio"]:checked');if(s)t.prop15=s.getAttribute("name"),t.prop55=s.nextElementSibling.innerText,t.eVar26="Pre Eligibility - "+i+"_"+t.prop55;else if("SPAN"===e.target.tagName){var c=e.target;t.eVar26="On Page Navigation - On this page_"+c.textContent}else"H3"===e.target.tagName&&(c=e.target,t.eVar26="Contextual Help - Frequently asked questions_"+c.textContent);return window.sendPerformanceDataToAdobe(),!0}catch(e){_satellite.logger.error("failed to set pre eligibility page name - "+e)}}},trackerProperties:{}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"%digitalData.event.name% ",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RL207b5303b5c44d7f8c585f213d1fbd5c",name:"[Marketing][Event Forwarding] DCR -- marketingEventForwarding -- Global - Marketing Event forwarding to Adobe DataStream -- OT - C0004 & C0009 -- Web SDK Send Event",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"marketingEventForwarding"},ruleOrder:50}],conditions:[{modulePath:"rbs-onetrust/src/lib/conditions/preferenceOptedIn.js",settings:{brand:"%brandName%",callback:{payload:{snapshot:"%event.detail.snapshot%"},queuedDCRId:"marketingEventForwarding",directCallRuleID:""},queueTag:!0,cookieCategories:["C0004","C0009"]},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){try{return"LOAD"==e.detail?.eventPhase&&"PAGE"==e.detail?.eventTarget}catch(e){return _satellite.logger.error("Failed in condition for marketingEventForwarding",e),!1}}},timeout:2e3}],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{data:"%event.detail.snapshot%",type:"web.webpagedetails.pageViews",instanceName:"alloy",personalization:{includeRenderedPropositions:!0},edgeConfigOverrides:{staging:{datastreamId:"%datastreamEventForwarding%"},production:{datastreamId:"%datastreamEventForwarding%"},development:{datastreamId:"%datastreamEventForwarding%"}}}}]},{id:"RL21d59d5352784b69951bc6ceebd8aef8",name:"[Helper] EBR -- Click -- Branch Locator -- Accordion Links -- Push Datalayer Event - ACTION LINK_CLICK",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".locator--searchresults_saveatrip .saveatrip-fragment.vertical .accordion_header",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/search-results/locator.html"}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/90decdbe34ba/0ec9031489bb/2fe1d56d40dc/RC93f8f405e16a496796f425e279b85b73-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2475ba9d8c484afd8b50257daa31472c",name:"[Patch] PLR -- PB -- Commercial - Insights Profile Page -- Custom Code - Activity Map Fix",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/business/insights-profile.html",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"try {\n  var profileElement = document.querySelector('div.profile');\n  if (profileElement) {\n     profileElement.setAttribute('id','linkedInProfile');\n  }\n} catch (e) {\n  _satellite.logger.error('Failed to add attribute to selector', e);\n}\n\n",language:"javascript"}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{t&&t.ActivityMap&&(t.ActivityMap.regionExclusions="linkedInProfile")}catch(e){_satellite.logger.error("Failed to set Activity Map Region Exclusion",e)}}},trackerProperties:{}}}]},{id:"RL25d3a6f2f84b47bdbc65b028468911a2",name:"[Chat] PLR -- WL -- Global - Exclude NWG Sites|nanoLP param -- Custom Code - Live Person",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:1}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex"},leftOperand:"%brandName%",rightOperand:"NatWest Group|NatWest Remembers"},negate:!0,timeout:2e3},{modulePath:"core/src/lib/conditions/queryStringParameter.js",settings:{name:"nanoLP",value:"1"},negate:!0,timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"https://assets.adobedtm.com/90decdbe34ba/0ec9031489bb/2fe1d56d40dc/RC82a3cfd81a744ac49f48a13ce4bc3637-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL3009cbc1f54a4fdaa4420262a1d72573",name:"[Marketing] DCR - Global -- pinterestCustom -- Pinterest Base Loaded -- Custom Code - Pinterest Event",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"pinterestCustom"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%ffPinterest%",rightOperand:"enabled"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return!!window.pintrk}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/90decdbe34ba/0ec9031489bb/2fe1d56d40dc/RC3389338684534d3583fd18ac4e718b8d-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL30a6ad55769e4bb78dce42f447813d77",name:"[Survey] PLR -- DR -- Offshore - C0009 Cookies Active - Custom Code - Intercept Survey Base",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/domain.js",settings:{domains:["iombank.com","natwestinternational.com","rbsinternational.com"]},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%optanonActiveGroups%",rightOperand:"C0009"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/90decdbe34ba/0ec9031489bb/2fe1d56d40dc/RCbe0e09c863a347199b6127a2f91844af-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL32eaee5554434f6c9c8c42fd338ad556",name:"[Analytics] DCR -- Global -- aaSendBeaconEvent -- AA Send",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"aaSendBeaconEvent"},ruleOrder:10}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{e.detail.productName&&(t.products=";"+e.detail.productName),e.detail.events&&(t.events=t.apl(t.events,e.detail.events,",",1)),e.detail.pageName&&(t.pageName=e.detail.pageName),e.detail.eVar10&&(t.eVar10=e.detail.eVar10),e.detail.loggedInStatus&&(t.eVar11=e.detail.loggedInStatus),e.detail.eVar25&&(t.eVar25=e.detail.eVar25),e.detail.eVar31&&(t.eVar31=e.detail.eVar31),e.detail.eVar74&&(t.eVar74=e.detail.eVar74),e.detail.eVar75&&(t.eVar75=e.detail.eVar75),e.detail.eVar76&&(t.eVar76=e.detail.eVar76),e.detail.eVar130&&(t.eVar130=e.detail.eVar130),e.detail.prop9&&(t.prop9=e.detail.prop9),e.detail.prop15&&(t.prop15=e.detail.prop15),e.detail.prop22&&(t.prop22=e.detail.prop22),e.detail.prop33&&(t.prop33=e.detail.prop33),e.detail.prop36&&(t.prop36=e.detail.prop36),e.detail.prop43&&(t.prop43=e.detail.prop43),e.detail.prop55&&(t.prop55=e.detail.prop55),e.detail.prop71&&(t.prop71=e.detail.prop71),window.sendPerformanceDataToAdobe()}catch(e){_satellite.logger.error("Failed to run - DCR -- aaSendBeacon -- Global -- AA Send",e)}}},trackerProperties:{}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"%event.detail.linkName%",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RL33a928a277184874b1bd6f0aa433233b",name:"[Marketing] DCR - Global -- snapchatCustom -- Snapchat Base Loaded -- Custom Code - Snapchat Event",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"snapchatCustom"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%ffSnapchat%",rightOperand:"enabled"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return!!window.snaptr}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/90decdbe34ba/0ec9031489bb/2fe1d56d40dc/RC7f6b38be91b049a1a53cd9a0cdbf2442-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL370d081069134de392f953f70b10b34e",name:"[Analytics] DCR -- Global -- livePersonDataSend -- AA Send",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"livePersonDataSend"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{"chatting"===e.detail.state?t.events=t.apl(t.events,"event71:"+e.detail.conversationId,",",2):"interactive"===e.detail.state?t.events=t.apl(t.events,"event52:"+e.detail.conversationId,",",2):"ended"===e.detail.state&&(t.events=t.apl(t.events,"event50:"+e.detail.conversationId,",",2)),window.sendPerformanceDataToAdobe()}catch(e){_satellite.logger.error("[Custom Code][DCR -- livePersonDataSend -- ADB] error tring to set AA variables for LivePerson integration",e)}}},trackerProperties:{eVars:[{name:"eVar42",type:"value",value:"%event.detail.skill%"},{name:"eVar43",type:"value",value:"%event.detail.conversationId%"},{name:"eVar44",type:"value",value:"%pageNameCleaned%"},{name:"eVar45",type:"value",value:"%event.detail.agentId%"},{name:"eVar46",type:"value",value:"%event.detail.monitoringSessionId%"},{name:"eVar167",type:"value",value:"%event.detail.campaignId%"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"live person data sent",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RL39aa7399e30e4140b879b7c8aaa0b853",name:"[Marketing] PLR|DCR -- DOMR|linkedin -- Global - LinkedIn pixel -- C0004 Cookie enabled - Backfill enabled -- linkedin -- v1",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"linkedin"},ruleOrder:50},{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"natwest-auto-tagging/src/lib/conditions/stackedConditions.js",settings:{mappingConfig:[{comparison:"isTruthy",caseInsensitive:!1,matchExpression:"",valueToEvaluate:"%marketingLinkedinPartnerId%"},{comparison:"isTruthy",caseInsensitive:!1,matchExpression:"",valueToEvaluate:"%marketingLinkedinConversionId%"}]},timeout:2e3},{modulePath:"rbs-onetrust/src/lib/conditions/preferenceOptedIn.js",settings:{brand:"%brandName%",callback:{payload:{marketingLinkedinPartnerId:"%marketingLinkedinPartnerId%",marketingLinkedinConversionId:"%marketingLinkedinConversionId%"},queuedDCRId:"linkedin",directCallRuleID:""},queueTag:!0,cookieCategories:["C0004"]},timeout:2e3}],actions:[{modulePath:"marketing-hub/src/lib/actions/linkedin.js",settings:{partnerId:"%marketingLinkedinPartnerId%",conversionId:"%marketingLinkedinConversionId%"},timeout:2e3,delayNext:!0}]},{id:"RL3aacfa8b180c423398f53e081a8a841e",name:"[Analytics] EBR -- Click -- Contact Us -- Chat to Cora sticky CTA -- AA Send",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'body>.LPMcontainer.LPMoverlay[role="button"]:has(img.LPMimage)',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/business/support-centre/contact-us.html"}]},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%brandName%",rightOperand:"Natwest"},timeout:2e3}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{t.prop55=e.target.querySelector("img")?e.target.querySelector("img").getAttribute("alt"):"",window.sendPerformanceDataToAdobe()}catch(e){_satellite.logger.error("failed to record Chat to Cora sticky button click",e)}}},trackerProperties:{}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Chat to Cora: sticky",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RL3c06eda26c8c420d92444813ca6fb35b",name:"[Helper][Data Layer] PLR - DR |DCR - spaPageLoad -- Global - Notify PAGE LOAD event -- GDLV2 -- v1",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"spaPageLoad"},ruleOrder:50},{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){try{const t=document.location.pathname,n=["/business","/corporates","/premier-banking"],r=(e,t)=>t.some((t=>e.includes(t))),a=document.querySelector("#stepProgress, #progressBar"),o=tagging.getObjectProperty(window,"tagging.multiStepContainer.display"),i=e.identifier;return null==a||r(t,n)?(_satellite.logger.log("Default Single page load identified"),!0):a&&1==o&&"spaPageLoad"==i?(_satellite.logger.log("SPA multi-step page load identified - Step displayed"),!0):!(!a||0!=o||"spaPageLoad"!=i||(_satellite.logger.log("SPA multi-step page load identified - Step not displayed"),0))}catch(e){return _satellite.logger.error("[Condition] Failed to validate if step container exist",e),!1}}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/90decdbe34ba/0ec9031489bb/2fe1d56d40dc/RCa6ade39c80af4ff7b98c78c5f7bd0a71-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL4042714da5b342af9237217e623ea407",name:"[Patch] PLR -- DR -- Retail - Logout -- Custom Code - Fix Intcam Params",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/you-are-now-safely-logged-out.html",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/90decdbe34ba/0ec9031489bb/2fe1d56d40dc/RC31c52d58d27e4a5aab466ead4630efad-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL43ac249c27ce452e8ae2a8648e693e94",name:"[Analytics][Marketing][Survey] PLR -- DR -- Global - Generic Forms -- Custom Code - Event Listeners",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/global/forms/(complaint-form|feedback-form|staff-nomination-form|get-in-touch|probate-form|institutional-enquiry-form|(loan|mortgage)-repayment-holiday/)",valueIsRegex:!0},{value:"(existing-)?complaint(-update)?-form.html|make-a-complaint-online.html",valueIsRegex:!0},{value:"feedback(-form)?.html",valueIsRegex:!0},{value:"contact-us-form.html",valueIsRegex:!0},{value:"cash-coin-order-form.html",valueIsRegex:!0},{value:"foreign-currency-order.html",valueIsRegex:!0},{value:"call-back-request.html",valueIsRegex:!0},{value:"staff-nomination-form.html|nominate-our-staff.html",valueIsRegex:!0},{value:"/(institutional-banking|international-banking|global)/forms",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/90decdbe34ba/0ec9031489bb/2fe1d56d40dc/RCd94d51c4c6864e3a9977724c8324960d-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL44c7aeb1943d45c28ce7f0a52db4e6e4",name:"[Analytics] PLR -- WL -- Retail - Digital FHC -- Custom Code - AA",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"financial-health-check/(new|existing)-customer/fhc-results.html",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/90decdbe34ba/0ec9031489bb/2fe1d56d40dc/RC4db18926f8f74425b47cd49345a435b5-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL478303e91b6940e59dc9fabd8bd83191",name:"[Analytics] PLR -- WL -- Global - Tracking for multi-step SPA type pages -- C0009 Cookie Enabled -- AA -- v1",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%retailProgressBarDisplayed%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/90decdbe34ba/0ec9031489bb/2fe1d56d40dc/RCc625dd1485fa419f8b71c8de12b1bd30-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL47ab75ed0d9242729cce7625631d1d9e",name:"[Analytics][Target] EBR -- Retail -- Loan Calculator - Click - Apply Now -- AA|AT Send",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"div.rep-block a.cta",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{return document.querySelectorAll("form#loans-calculator").length>=1}catch(e){_satellite.logger.error("Check for loan calculator failed",e)}}},timeout:2e3}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){digitalData&&digitalData.page&&digitalData.page.calculatorData&&(t.prop71=digitalData.page.calculatorData),adobe&&adobe.target&&window.digitalData.page.loanCalculatorTarget&&adobe.target.trackEvent({mbox:"aem-pln-quote-mbox",params:window.digitalData.page.loanCalculatorTarget}),t.useBeacon=!0}},trackerProperties:{}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Loan Calculator - Apply Now",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RL4aa3111483be4709928bbce8d3a36f2c",name:"[Analytics] EBR -- Global -- Click - Video -- AA Send",events:[{modulePath:"core/src/lib/events/click.js",settings:{bubbleStop:!1,elementSelector:".kv-player button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".youtubevideo-wrap",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{var n=this.querySelector("img").alt||this.closest(".video-section")?.querySelector(".content-holder .video-title .title-comp")?.innerText||"Unknown Video";_satellite.logger.info("Video Play Click :"+n),t.eVar49=n,window.sendPerformanceDataToAdobe()}catch(e){_satellite.logger.error("[Custom Code][EBR -- Click - Video -- QUMU/Youtube Videos -- C0009 Cookies Active -- AA] error getting video name",e)}}},trackerProperties:{events:[{name:"event184"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"video link clicked",linkType:"o"}}]},{id:"RL4acc38cba7da4c93bfa2b7030a27d166",name:"[Marketing] DCR -- Global -- linkedInEvent-- Linked In Base Loaded  -- C0004 Cookies Active -- Custom Code - LinkedIn Event",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"linkedInCustom"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%ffLinkedIn%",rightOperand:"enabled"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return!!window.lintrk}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%optanonActiveGroups%",rightOperand:"C0004"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/90decdbe34ba/0ec9031489bb/2fe1d56d40dc/RCf243ce9f82e44be4af5921919c7653a7-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL4bc48c175c9e4c1bad491dceae3a8df0",name:"[Chat] PLR -- PT -- Global - CORA Contact Manager - Inject CCM Script library -- CCM -- v1",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"natwest-core/src/lib/conditions/featureFlagEnabled.js",settings:{key:"ccmChatEnabled"},timeout:2e3}],actions:[{modulePath:"natwest-group-cora-contact-manager/src/lib/actions/injectCcmScript.js",settings:{lob:"%lpVal%",brand:"%brandName%",pageId:"%pageNameCleaned%",source:function(){},location:"bob",sectionTree:"%pageNameCleaned%",webserverURL:"%ccmScriptLibrary%"},timeout:2e3,delayNext:!0}]},{id:"RL4d9adb930c3a44a1888c0b55ad8e6ba0",name:"[Analytics] EBR -- Retail -- Mortgage Calculators - Click Tooltip -- AA Send",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a.labelinfo",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/mortgages/mortgage-calculator\\.html|/mortgages/mortgage-calculators/(how-much-can-i-borrow|mortgage-rate-finder-mortgage-calculator|remortgage-calculator-remortgage-rates)\\.html",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(){window.sendPerformanceDataToAdobe()}},trackerProperties:{eVars:[{name:"eVar32",type:"value",value:"Tooltip clicked"}],props:[{name:"prop55",type:"value",value:"%this.getAttribute(aria-labelledby)%"}],events:[{name:"event41"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Mortgages Tooltip Clicked",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RL4e79324cfeb54327af81c5f2e8580f59",name:"[Helpers][Survey] PLR -- PT -- Global - Excluding NatWest Group Sites -- Custom Code - LivePerson AEM",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:100}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex"},leftOperand:"%brandName%",rightOperand:"NatWest Group|NatWest Remembers"},negate:!0,timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,
source:"function webchat(b, a, k, g, l, c, t) {\n  var locVar = false;\n  var lpDivID;\n  var SlideoutFound = false;\n  var divsAdded = [];\n  var divFound;\n  var i = 0;\n  var locJMselectionMob = true;\n  var locJMselectionDesk = true;\n  var arrMob = _satellite.getVar('lpMobileURLs');\n  var arrDesk = _satellite.getVar('lpDesktopURLs');\n  var found = false;\n\n  if (document.querySelector('.displaysidebar-webchat')) {\n    locVar = true;\n  }\n\n  for (i = 0; i < arrMob.length && !found; i += 1) {\n    if (document.location.href.match(arrMob[i])) {\n      found = true;\n      locJMselectionMob = false;\n      locJMselectionDesk = true;\n    }\n  }\n\n  if (!found) {\n    for (i = 0; i < arrDesk.length && !found; i += 1) {\n      if (document.location.href.match(arrDesk[i])) {\n        found = true;\n        locJMselectionMob = false;\n        locJMselectionDesk = false;\n      }\n    }\n  }\n  window.lpGlob = {\n    unit: b,\n    Buttons: t,\n    Product: l,\n    displaysidebar: locVar,\n    displaySlideOutOnMobile: locJMselectionMob,\n    displaySlideOutOnDesktop: locJMselectionDesk\n  };\n}\n",language:"javascript"},timeout:2e3,delayNext:!0}]},{id:"RL5203ddac5a1a4b82990b66b7afacae72",name:"[Recording] PLR -- DR|DCR -- Global - C0002 Cookies Active - Excluding NatWest Group Sites -- Clicktale - Deploy",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"oneTrustCategoriesChanged",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%optanonActiveGroups%",rightOperand:"C0002"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex"},leftOperand:"%brandName%",rightOperand:"NatWest Group|NatWest Remembers"},negate:!0,timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return!window.ClickTale}},timeout:2e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"^/mortgages/mortgage-agreement-in-principle\\.html$",valueIsRegex:!0}]},negate:!0,timeout:2e3}],actions:[{modulePath:"clicktale/src/lib/actions/deployclicktale.js",settings:{},timeout:2e3,delayNext:!0}]},{id:"RL58b0337551af468e8b10a4f57c4a555d",name:"[Analytics][Target] EBR -- Global (non-Business) -- Confirm Consent - Click -- AA Send",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"button.save-preference-btn-handler, button#onetrust-accept-btn-handler, button#accept-recommended-btn-handler",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"doesNotMatchRegex",caseInsensitive:!0},leftOperand:"%digitalData.site.businessArea%",rightOperand:"Business|lombard|corporate"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/90decdbe34ba/0ec9031489bb/2fe1d56d40dc/RC36c9225c140d4718a01c1a188cc3e994-source.min.js",language:"javascript",isExternal:!0},timeout:1e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/90decdbe34ba/0ec9031489bb/2fe1d56d40dc/RCa92e54a33d2747fe8e89f79ae8cd7061-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar20",type:"value",value:"%optanonActiveGroups%"}],events:[{name:"event1"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Cookie Preference Confirmed",linkType:"o"},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/90decdbe34ba/0ec9031489bb/2fe1d56d40dc/RCea2cad2302fe4e6c97bb03013ec628cf-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/90decdbe34ba/0ec9031489bb/2fe1d56d40dc/RC5f49acd7f83d419d9bc1cccebdb5bc4f-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL58db1d5b729b4c15b5a551e1fba9fd9b",name:"[Helpers] EBR  - Click -- Global -- Confirm Consent -- Push Datalayer Event - ACTION - CONSENT_CHANGE",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"button.save-preference-btn-handler, button#onetrust-accept-btn-handler, button#accept-recommended-btn-handler",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/90decdbe34ba/0ec9031489bb/2fe1d56d40dc/RCd5a721356dc54173beec8066a20aec19-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5aeb8b0ba9464071ab49de030192e19c",name:"[Marketing] PLR -- Commercial -- gtagAdwords -- GTAG Base Loaded -- Custom Code - Adwords Event",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"oneTrustCategoriesChanged",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%ffGtag%",rightOperand:"enabled"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return!(!window.gtag||!window.dataLayer)}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTruthy"},leftOperand:"%commercialAdwordsEvent%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/90decdbe34ba/0ec9031489bb/2fe1d56d40dc/RC9be3a7dc63de4aaa9a522536d5ed2676-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL5d54c18dc0744ed688d810100286c7e5",name:"[Analytics][Target] EBR -- Global (Business) -- Confirm Consent - Click -- AA Send | AT -- New",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"button.save-preference-btn-handler, button#onetrust-accept-btn-handler, button#accept-recommended-btn-handler",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%digitalData.site.businessArea%",rightOperand:"business|lombard|corporate"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/90decdbe34ba/0ec9031489bb/2fe1d56d40dc/RCd501bf25ebdb4086b63a0167b6905c87-source.min.js",language:"javascript",isExternal:!0},timeout:1e3,delayNext:!0},{modulePath:"adobe-target-v2/lib/loadTarget.js",settings:{},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/90decdbe34ba/0ec9031489bb/2fe1d56d40dc/RC9b778173e48245bcbbf06298a9d8a119-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0},{modulePath:"adobe-target-v2/lib/addParams.js",settings:{params:{Brand:{value:"%brandName%",checked:!0},dt_1st:{value:"%dotTargetCurrentProduct%",checked:!0},Platform:{value:"AEM",checked:!1},dt_table:{value:"%dotTargetAnalytics%",checked:!0},at_property:{value:"%targetEnvironment%",checked:!0}}},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/90decdbe34ba/0ec9031489bb/2fe1d56d40dc/RC04530fea535546fcac5b8391f2e01880-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0},{modulePath:"adobe-target-v2/lib/firePageLoad.js",settings:{bodyHiddenStyle:"body {opacity: 0}",bodyHidingEnabled:!1},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/90decdbe34ba/0ec9031489bb/2fe1d56d40dc/RC78d32b7d367f4515979ebfc9e1b6326f-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar20",type:"value",value:"%optanonActiveGroups%"}],events:[{name:"event1"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Cookie Preference Confirmed",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RL720fd84750a045dd8d16adafb792cb4f",name:"[Analytics] EBR -- Element Exists|Click -- Retail -- Home Energy Plan Custom Page Names -- AA Send",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".cta-wrapper a",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#main-content-wrapper .gp__inhomeassess-book.gp__bookNwBottomCta.container a",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".vibrant__continue-cta a",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#main-content-wrapper .gp__page.gp_british_gas_expect.gp__display .gp__continue a",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#britishGasForm .gp__continue a",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".gp__inhomeassess-back.gp__goback.container a",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".gp_financeOptions__back.gp__goback a",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".gp__page.gp__finance__opts.gp__display .gp_financeOptions__back.gp__goback a",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#main-content-wrapper .gp__explore_options.container a",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#main-content-wrapper .gp_trust_mark_expect.gp__display .gp__goback a",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/elementExists.js",settings:{elementSelector:"#main-content-wrapper .gp__completedhep.gp__display"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/banking-with-natwest/our-purpose/climate/home/home-energy-plan/tool.html",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){try{if("core.click"==e.$type&&("Start a new plan"==e.element.innerText.trim()||"Start your plan"==e.element.innerText.trim()))return!0}catch(e){_satellite.logger.log("Failed to evalute condition",e)}}},negate:!0,timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/90decdbe34ba/0ec9031489bb/2fe1d56d40dc/RC262bd22ce15e4a0fac4461015aadc723-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL73db9154546d4111a5e5c3fe8eb33545",name:"[Helper][Data Layer] PLR - WL -- Global - Add mutation observer for SPA using multi steps -- GDLV2 -- v1",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%retailProgressBarDisplayed%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/90decdbe34ba/0ec9031489bb/2fe1d56d40dc/RCf96be56272934f638a09c6d01ee9f2e4-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL749036a665f54fed8cf907e81847834e",name:"[Analytics] EBR -- Commercial -- Click Radio Button -- AA Send",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"form[name='preapplystartform'] a.cta.cta-primary",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/business/",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{for(var n=window.curSlideEle,r=document.querySelector("section.pa-wrap div.slick-list div.slick-current.slick-active div.pa-slide.pa-radio.pa__nonint.pa__view.pa-show div.slick-list div.slick-track div.pa-show div.all_sections.active .h2-custom"),a=n?n[0].querySelector("div.title-wrapper, .h2-custom"):"",o=r?r.innerText.trim():a?a.innerText.trim():"",i=e.element.parentElement.parentElement.parentElement.getElementsByClassName("inp-rad__input"),s=0,c=i.length;s<c;++s)if(i[s].checked){t.prop55=i[s].value;break}return t.prop15=o,t.eVar18="Pre Eligibility - "+o,window.sendPerformanceDataToAdobe(),!0}catch(e){_satellite.logger.error("failed to set pre eligibility page name - "+e)}}},trackerProperties:{}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"%digitalData.event.name% %digitalData.event.pageSection% - RadioButton",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RL7a105e88fd5b4bfabaa99dee7c5e19e1",name:"[Analytics][Target] EBR -- Retail -- Mortgage Calculators - customerType changes - Tool Start -- AA Send|AT Event",events:[{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"digitalData.user.customerType"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/mortgages/mortgage-calculator\\.html|/mortgages/mortgage-calculators/(how-much-can-i-borrow-mortgage-calculator|how-much-can-i-borrow|mortgage-rate-finder-mortgage-calculator|remortgage-calculator-remortgage-rates)\\.html",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTruthy"},leftOperand:"%mortgageToolsFormName%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%optanonActiveGroups%",rightOperand:"C0009"},timeout:2e3}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{var n=_satellite.getVar("mortgageToolsFormName");if(t.eVar31=n,t.products=";Mortgages",t.linkTrackVars="","HMCIB"===n){var r="MOR_HMCIB";_satellite.productData=_satellite.productData||{},_satellite.dotTarget=_satellite.dotTarget||{},_satellite.productData.productShort=r,_satellite.dotTarget.currentProduct=r,t.eVar31="Retail: How Much Can I Borrow Tool",t.eVar126=_satellite.getVar("dotTargetAnalytics"),adobe.target.trackEvent({mbox:"target-global-mbox",params:{Brand:_satellite.getVar("brandName"),dt_1st:_satellite.getVar("dotTarget").currentProduct,platform:"AEM"}})}else"MRF"===n?t.eVar31="Retail: Mortgage Rate Finder":"Remortgage"===n&&(t.eVar31="Retail: Remortgage Rate Finder");t.pageName=_satellite.getVar("pageNameCleaned")+">"+n+">Start",window.sendPerformanceDataToAdobe()}catch(e){_satellite.logger.error("AA dcrs failed to send",e)}}},trackerProperties:{eVars:[{name:"eVar10",type:"value",value:"%mortgageToolsNewExist%"},{name:"eVar25",type:"alias",value:"eVar31"},{name:"eVar226",type:"value",value:"+1"}],props:[{name:"prop33",type:"value",value:"%mortgageToolsCustomerType%"}],events:[{name:"event33"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"},timeout:2e3,delayNext:!0}]},{id:"RL7dda16e50cf3415eb17209a6a4be144b",name:"[Analytics] EBR -- Retail -- Mortgage Equity Calculator - Click Continue -- AA Send",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"div.equityCalc-yesnotogglebtn, div.equityCalc-btn-continue a",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/mortgages/mortgage-calculators/equity-calculator.html",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{this&&"equityCalc-yesnotogglebtn"===this.className?t.events="event33":this&&"Calculate"===this.title&&(t.events="event34"),window.sendPerformanceDataToAdobe()}catch(e){_satellite.logger.error("failed to set events",e)}}},trackerProperties:{}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Equity calculator",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RL7e918ee4cd934696bfe182020bb38061",name:"[Marketing] DCR|EBR -- facebookv2|Click -- Facebook Marketing Pixel V2 -- C0004 enabled -- FB -- v2",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"facebookv2"},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"%marketingFacebookLeadCssSelector%",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"natwest-auto-tagging/src/lib/conditions/stackedConditions.js",settings:{mappingConfig:[{comparison:"isTruthy",caseInsensitive:!1,matchExpression:"",valueToEvaluate:"%marketingFacebookIdV2%"},{comparison:"isTruthy",caseInsensitive:!1,matchExpression:"",valueToEvaluate:"%marketingFacebookEventNameV2%"},{comparison:"isTruthy",caseInsensitive:!1,matchExpression:"",valueToEvaluate:"%marketingFacebookAttributesV2%"}]},timeout:2e3},{modulePath:"rbs-onetrust/src/lib/conditions/preferenceOptedIn.js",settings:{brand:"%brandName%",callback:{payload:{marketingFacebookIdV2:"%marketingFacebookIdV2%",marketingFacebookEventNameV2:"%marketingFacebookEventNameV2%",marketingFacebookAttributesV2:"%marketingFacebookAttributesV2%"},queuedDCRId:"facebookv2",directCallRuleID:""},queueTag:!0,cookieCategories:["C0004"]},timeout:2e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"\\/business.*",valueIsRegex:!0}]},negate:!0,timeout:2e3}],actions:[{modulePath:"marketing-hub/src/lib/actions/facebook.js",settings:{id:"%marketingFacebookIdV2%",eventID:"%event.detail.snapshot.uniqueRef%",eventName:"%marketingFacebookEventNameV2%",attributes:"%marketingFacebookAttributesV2%"},timeout:2e3,delayNext:!0}]},{id:"RL7f8a7984b4324d8a8bb021f248aa86bf",name:"[Marketing] PLR -- DR|DCR -- Global - NWB|RBS - C0004 Cookies Active - ImpactRadius Account Defined -- Custom Code - Impact Radius Base",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"oneTrustCategoriesChanged",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%optanonActiveGroups%",rightOperand:"C0004"},timeout:2e3},{modulePath:"core/src/lib/conditions/domain.js",settings:{domains:["natwest.com","rbs.co.uk"]},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTruthy"},leftOperand:"%impactRadiusPixel%"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return!window.ire}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/90decdbe34ba/0ec9031489bb/2fe1d56d40dc/RCe895f1f70fbd497aafc3ca1f698cd409-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL802b7ecba57044f588ce797df3d143e8",name:"[Patch] PLR -- PB -- Retail - Mortgage Finance Difficulty Pages -- Custom Code - SEO FIX",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/mortgages/mortgage-guides/struggling-to-pay-my-mortgage.html",valueIsRegex:!0},{value:"/mortgages/mortgage-guides/financial-difficulty.html",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"try {\n  var selector = document.querySelector('section#getintouch');\n  if (selector) {\n     selector.setAttribute('data-nosnippet','');\n  }\n} catch (e) {\n  _satellite.logger.error('Failed to add attribute to selector', e);\n}\n\n",language:"javascript"},timeout:2e3,delayNext:!0}]},{id:"RL8046fb2ff2924f43b704238f9b253f38",name:"[Analytics] PLR -- DR -- Global -- AA Send",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:51}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"mortgages/mortgage-agreement-in-principle\\.html",valueIsRegex:!0},{value:"/current-accounts/overdrafts/eligibility-tool\\.html",valueIsRegex:!0},{value:"/fraud-and-security/(retaildisputes/)?details\\.html",valueIsRegex:!0},{value:"/support-centre/how-to-complain/complaint-form\\.html",valueIsRegex:!0},{value:"/support-centre/how-to-complain/complaint-update-form\\.html",valueIsRegex:!0},{value:"/mortgages/manage-your-mortgage/redemption-request-form\\.html",valueIsRegex:!0},{value:"/support-centre/feedback-form\\.html",valueIsRegex:!0},{value:"/help-and-support/how-to-make-a-complaint/complaint-form\\.html",valueIsRegex:!0},{value:"/support-centre/existing-complaint-form\\.html",valueIsRegex:!0},{value:"/support-centre/contact-us-form\\.html",valueIsRegex:!0},{value:"cash-coin-order-form\\.html",valueIsRegex:!0},{value:"/help-and-support/foreign-currency-order\\.html",valueIsRegex:!0},{value:"/(institutional-banking|international-banking|global)/forms",valueIsRegex:!0},{value:"/global/forms/(complaint-form|feedback-form|staff-nomination-form|get-in-touch|probate-form|institutional-enquiry-form|(loan|mortgage)-repayment-holiday/)",valueIsRegex:!0},{value:"/global/contact-us/",valueIsRegex:!0},{value:"/test-area/spapage/eligibility-tool.html",valueIsRegex:!0},{value:"search-results(?!.*locator)",valueIsRegex:!0}]},negate:!0,timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%retailProgressBarDisplayed%"},negate:!0,timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/90decdbe34ba/0ec9031489bb/2fe1d56d40dc/RC5bf1058248434d1fb9c05f8572f8c947-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar71",type:"value",value:"%authorName%"},{name:"eVar72",type:"value",value:"%publishedDate%"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}}]},{id:"RL823275f0ad5442b9bf04502cbc9d2308",name:"[Custom] PLR -- DOMR -- ConfiSite - Tracking Code Generator -- Custom -- V1",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/domain.js",settings:{domains:["natwest.com"]},timeout:2e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/dea/tracking-code-generator\\.html",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"try {\n    document.location.href=\"https://assets.adobedtm.com/extensions/EP0d1ef96f2d764bc28e58104a8e8a6f49/src/view/actions/displayPage.html?content=tracking-code-generator\";\n} catch (e) {\n    _satellite.logger.error('Failed in ConfiSite');\n}",language:"javascript"},timeout:2e3,delayNext:!0}]},{id:"RL88051239c5e24ee9baba4028a318b156",name:"[Analytics] DCR -- Retail - Mortgage Calculators -- mortgageEarlyCalcResults -- AA Send",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"mortgageEarlyCalcResults"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{var n=_satellite.getVar("mortgageToolsFormName");t.eVar31=n,t.products=";Mortgages","HMCIB"===n?t.eVar31="Retail: How Much Can I Borrow Tool":"MRF"===n?t.eVar31="Retail: Mortgage Rate Finder":"Remortgage"===n&&(t.eVar31="Retail: Remortgage Rate Finder"),t.pageName=_satellite.getVar("pageNameCleaned")+">"+n+">Complete",window.sendPerformanceDataToAdobe()}catch(e){_satellite.logger.error("failed to run - DCR -- mortgageEarlyCalcResults -- Mortgage Calculators -- AA",e)}}},trackerProperties:{eVars:[{name:"eVar10",type:"value",value:"%mortgageToolsNewExist%"},{name:"eVar226",type:"value",value:"+1"}],props:[{name:"prop33",type:"value",value:"%mortgageToolsCustomerType%"},{name:"prop43",type:"value",value:"%event.detail.result%"}],events:[{name:"event34"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"},timeout:2e3,delayNext:!0}]},{id:"RL8a34d646968d41fbbeb2e3d9e1f16e59",name:"[Visitor ID] PLR -- DR -- Commercial - Freeagent -- Custom Code - ECID Cross Domain",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"freeagent\\.html",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/90decdbe34ba/0ec9031489bb/2fe1d56d40dc/RC5e331aee359b4f96b6d5d8bfe5ebf977-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL8bf47370eb2548ca96383fb17150107d",name:"[Analytics][Marketing][Recording][Survey] PLR -- DR -- Retail - Mortgage AIP -- Custom Code - Event Listeners",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"mortgages/mortgage-agreement-in-principle\\.html",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"https://assets.adobedtm.com/90decdbe34ba/0ec9031489bb/2fe1d56d40dc/RCf75cd8278a554cfea5bd7fb70badb610-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL8cd5956560f2414f9805197f932bc2fd",name:"[Visitor ID] PLR -- DR -- Global - UBN -- Custom Code - ECID Cross Domain",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/domain.js",settings:{domains:["ulsterbank.co.uk"]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/90decdbe34ba/0ec9031489bb/2fe1d56d40dc/RC9778a279cdc34ce187c9d7986fd1fc71-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL8e4f41d4c8414711be015650e6e3c74d",name:"[Marketing] PLR -- DR|DCR -- Global - C0004 Cookies Active - Snapchat Account Defined -- Custom Code - Snapchat Base",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:80},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"oneTrustCategoriesChanged",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%ffSnapchat%",rightOperand:"enabled"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%optanonActiveGroups%",rightOperand:"C0004"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{return!(!_satellite.getVar("productData")||!_satellite.getVar("productData").snapchatPixelID)}catch(e){return _satellite.logger.error("Failed to check if snapchat id defined",e),!1}}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return!window.snaptr}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/90decdbe34ba/0ec9031489bb/2fe1d56d40dc/RCc69e0efdfe944b768cb475a6f498af84-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL8f1dae30aa514a85be5c70d67973eca8",name:"[Analytics] EBR -- Global -- digitalData Event Change - Current Account Acceptable ID Filter  & All Business pages Filter tracking -- AA Send ",events:[{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"digitalData.event"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%digitalData.event.event%",rightOperand:"click"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%digitalData.event.type%",rightOperand:"button"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%digitalData.event.name%",rightOperand:"filter button"},timeout:2e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/current-accounts/what-do-you-need-to-open-a-current-account.html",valueIsRegex:!0},{value:"\\/business(\\/|\\.html)",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{t.prop55=_satellite.getVar("digitalData.event.value"),t.prop15=_satellite.getVar("digitalData.event.pageSection"),"undefined"!==_satellite.getVar("digitalData.event.pageSection")?t.eVar26=_satellite.getVar("digitalData.event.pageSection")+" _ "+_satellite.getVar("digitalData.event.value"):t.eVar26=_satellite.getVar("digitalData.event.value"),window.sendPerformanceDataToAdobe()}catch(e){_satellite.logger.error("failed to record filter shelf button clicks",e)}}},trackerProperties:{eVars:[{name:"eVar26",type:"value",value:"%digitalData.event.name% - %digitalData.event.value%"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"%digitalData.event.name% - %digitalData.event.value%",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RL9230ccc7024b473aae3344a3e36a0611",name:"[Helper] EBR -- Click -- Contact Us -- Chat to Cora sticky CTA -- Push Datalayer Event - ACTION LINK_CLICK",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'body>.LPMcontainer.LPMoverlay[role="button"]:has(img.LPMimage)',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/business/support-centre/contact-us.html"}]},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%brandName%",rightOperand:"Natwest"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/90decdbe34ba/0ec9031489bb/2fe1d56d40dc/RC5555965c8ba84b7f837903092738eba0-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL946c698b53cb4bf7bd20b44c2de3e192",name:"[AEP][Analytics] DCR - oneTrustCategoriesChanged -- ACTION CONSENT_CHANGE -- OT - C0009 -- Web SDK - Set Consent -> Update Variable -> Send Event",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"oneTrustCategoriesChanged"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/domain.js",settings:{domains:["natwestinternational.com","rbsinternational.com"]},negate:!0,timeout:2e3},{modulePath:"rbs-onetrust/src/lib/conditions/preferenceOptedIn.js",settings:{brand:"%brandName%",callback:{payload:{},queuedDCRId:"",directCallRuleID:""},queueTag:!0,cookieCategories:["C0009"]},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){try{return"CONSENT_CHANGE"==e.detail?.eventPhase&&"ACTION"==e.detail?.eventTarget}catch(e){return _satellite.logger.error("Failed in condition for oneTrustCategoriesChanged",e),!1}}},timeout:2e3}],actions:[{modulePath:"adobe-alloy/dist/lib/actions/setConsent/index.js",settings:{consent:[{value:{general:"%aepDefaultConsent%"},version:"1.0",standard:"Adobe"}],instanceName:"alloy"},timeout:2e3,delayNext:!0},{modulePath:"adobe-alloy/dist/lib/actions/updateVariable/index.js",settings:{data:{web:{
webInteraction:{name:"Cookie Preference Confirmed",type:"other",linkClicks:{value:1}}}},transforms:{"":{clear:!0}},dataElementId:"DEca86a7d30938489f9486635b0932df9a",dataElementCacheId:"2e52ea34-310b-4e9a-b6d6-aeb0d56db35e"},timeout:2e3,delayNext:!0},{modulePath:"adobe-alloy/dist/lib/actions/updateVariable/index.js",settings:{data:{__adobe:{analytics:"%adobeAnalyticsJsonObject%"}},customCode:function(e){e.__adobe=e.__adobe||{},e.__adobe.analytics=e.__adobe.analytics||{},e.__adobe.analytics.linkName="Cookie Preference Confirmed",e.__adobe.analytics.linkType="o"},transforms:{"":{clear:!0}},dataElementId:"DE437164c2ef404405b49afdafff268948",dataElementCacheId:"cc4439d5-2971-4431-ab03-33b6c13f0111"},timeout:2e3,delayNext:!0},{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%analyticsMergedXdmTemplateWithXdmVariable%",data:"%mergedDataVariable%",type:"web.webinteraction.linkClicks",instanceName:"alloy",personalization:{includeRenderedPropositions:!0},edgeConfigOverrides:{staging:{enabled:!0,com_adobe_target:{enabled:!1},com_adobe_analytics:{enabled:!1}},production:{enabled:!0,com_adobe_target:{enabled:!1},com_adobe_analytics:{enabled:!1}},development:{enabled:!0,com_adobe_target:{enabled:!1},com_adobe_analytics:{enabled:!1}}}}}]},{id:"RL982c4f42fe7948698159ab6d1b289cfb",name:"[AEP][Analytics] DCR - webSdkAnalyticsPageView -- PAGE LOAD -- OT - C0009 -- Web SDK - Update Variable -> Send Event",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"webSdkAnalyticsPageView"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/domain.js",settings:{domains:["rbsinternational.com","natwestinternational.com"]},negate:!0,timeout:2e3},{modulePath:"rbs-onetrust/src/lib/conditions/preferenceOptedIn.js",settings:{brand:"%brandName%",callback:{payload:{},queuedDCRId:"",directCallRuleID:""},queueTag:!0,cookieCategories:["C0009"]},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){try{return"LOAD"==e.detail?.eventPhase&&"PAGE"==e.detail?.eventTarget}catch(e){return _satellite.logger.error("Failed in condition for webSdkAnalyticsPageView ",e),!1}}},timeout:2e3}],actions:[{modulePath:"adobe-alloy/dist/lib/actions/updateVariable/index.js",settings:{data:{web:{webPageDetails:{pageViews:{value:1}}}},customCode:function(e,t){try{let n=t.detail?.snapshot?.page?.name?.includes(">404>");n&&(e.web=e.web||{},e.web.webPageDetails=e.web.webPageDetails||{},e.web.webPageDetails.isErrorPage=n),e._rbs=e._rbs||{},_satellite.getVar("dotTargetCurrentProduct")&&(e._rbs.web=e._rbs.web||{},e._rbs.web.interestIndicators=_satellite.getVar("dotTargetAnalytics"));let r=_satellite.getVar("trackingCode"),a=_satellite.getVar("intCam"),o=_satellite.getVar("extCam");r&&(e.marketing=e.marketing||{},e.marketing.trackingCode=r,e._rbs.marketing=e._rbs.marketing||{},e._rbs.marketing.internalCampaignCode=a,e._rbs.marketing.externalCampaignCode=o)}catch(e){_satellite.logger.error("[Custom Code] Failed while setting additional xdm data",e)}},transforms:{"":{clear:!0}},dataElementId:"DEca86a7d30938489f9486635b0932df9a"},timeout:2e3,delayNext:!0},{modulePath:"adobe-alloy/dist/lib/actions/updateVariable/index.js",settings:{data:{__adobe:{analytics:"%adobeAnalyticsJsonObject%"}},customCode:function(e,t){try{e.__adobe=e.__adobe||{},e.__adobe.analytics=e.__adobe.analytics||{};let n=t.detail?.snapshot?.page?.name?.includes(">404>");n&&(e.__adobe.analytics.pageType="errorPage");let r=_satellite.getVar("extCam");r&&(e.__adobe.analytics.eVar35=r);let a=_satellite.getVar("intCam");a&&(e.__adobe.analytics.eVar37=a)}catch(e){_satellite.logger.error("[Custom Code] Failed while setting additional data",e)}},transforms:{"":{clear:!0}},dataElementId:"DE437164c2ef404405b49afdafff268948"},timeout:2e3,delayNext:!0},{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%analyticsMergedXdmTemplateWithXdmVariable%",data:"%mergedDataVariable%",type:"web.webpagedetails.pageViews",instanceName:"alloy",personalization:{includeRenderedPropositions:!0},edgeConfigOverrides:{staging:{enabled:!0,com_adobe_target:{enabled:!1},com_adobe_analytics:{enabled:!1}},production:{enabled:!0,com_adobe_target:{enabled:!1},com_adobe_analytics:{enabled:!1}},development:{enabled:!0,com_adobe_target:{enabled:!1},com_adobe_analytics:{enabled:!1}}}}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/90decdbe34ba/0ec9031489bb/2fe1d56d40dc/RC5c423823f6a1407b9aa6c57e49aa0e0d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL98cb5f72e067477bb9e0e214a041e31d",name:"[Survey] PLR -- DR|DCR -- Global - C0002 Cookies Active - Survey Code Defined -- Custom Code - Maritz Base",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"maritz"},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"oneTrustCategoriesChanged",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%ffMaritz%",rightOperand:"enabled"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){try{return!!(_satellite.getVar("productData")&&_satellite.getVar("productData").maritzCode||e&&e.detail&&e.detail.maritz)}catch(e){return _satellite.logger.error("Failed to check maritz code",e),!1}}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%optanonActiveGroups%",rightOperand:"C0002"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return!window.mcxSiteInterceptParameters}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){function e(e){return["https://www.natwest.com/current-accounts/select_account.html","https://www.rbs.co.uk/current-accounts/select_account.html","https://apply.natwest.com/","https://apply.rbs.co.uk/"].indexOf(document.referrer)>-1&&"/current-accounts/next_steps_SAO.html"===document.location.pathname&&["NatWest","RBS"].indexOf(e)>-1}try{for(var t=[e],n=_satellite.getVar("brandName"),r=0;r<t.length;r++)if(!0===t[r](n))return!1;return!0}catch(e){return _satellite.logger.error("Failed in Maritz condition",e),!0}}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/90decdbe34ba/0ec9031489bb/2fe1d56d40dc/RCa8e560bf95e148ddaa32b39ceb7d6643-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL9c53de6b91544c9aa16247d2654a8f95",name:"[Analytics][Marketing][Recording][Survey] PLR -- DR -- Retail - Overdraft Eligibility -- Custom Code - Event Listeners",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/current-accounts/overdrafts/eligibility-tool.html",valueIsRegex:!0},{value:"/overdrafts/eligibility-tool.html",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/90decdbe34ba/0ec9031489bb/2fe1d56d40dc/RCd6bf12de6d734c348c90d8dea10f9d7a-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL9c6aece074e044c89e4467e5f5696e0d",name:"[Patch] PLR -- PB -- Wealth - Premier banking contact -- Custom Code - SEO FIX ",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/premier-banking/contact.html",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"try {\n  var selector = document.querySelector('#contact > div > div > div > div:nth-child(1) > div > div > div.rte-content-wrapper.cta-hidden > div.rte-wrapper > div');\n  if (selector) {\n     selector.setAttribute('data-nosnippet','');\n  }\n} catch (e) {\n  _satellite.logger.error('Failed to add attribute to selector', e);\n}\n\n",language:"javascript"},timeout:2e3,delayNext:!0}]},{id:"RLa002b26e452b4568a88c86343540b0d8",name:"[Helper][Data Layer] EBR - DE Change - digitalData.event -- Global -- Click link on same page -- Push Datalayer Event - ACTION LINK_CLICK",events:[{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"digitalData.event"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%digitalData.event.pageSection%",rightOperand:"Header Navigation"},negate:!0,timeout:2e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/current-accounts/overdrafts/eligibility-tool\\.html",valueIsRegex:!0},{value:"retaildisputes/details\\.html",valueIsRegex:!0},{value:"/mortgages/mortgage-calculators/equity-calculator\\.html",valueIsRegex:!0},{value:"/financial-health-check/(new|existing)-customer",valueIsRegex:!0},{value:"/personal/banking-with-royal-bank-of-scotland/your-account-checklist\\.html",valueIsRegex:!0},{value:"/life-moments/Struggling-financially\\.html",valueIsRegex:!0},{value:"/help-and-support/struggling-financially\\.html",valueIsRegex:!0},{value:"/mortgages/mortgage-calculator\\.html|/personal/mortgages/mortgage-calculators/(how-much-can-i-borrow|mortgage-rate-finder-mortgage-calculator|remortgage-calculator-remortgage-rates)\\.html",valueIsRegex:!0}]},negate:!0,timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%digitalData.event.event%",rightOperand:"click"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%digitalData.event.type%",rightOperand:"link"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%digitalData.event.linkDestination%",rightOperand:"on-page"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/90decdbe34ba/0ec9031489bb/2fe1d56d40dc/RC2da023b0554b40f08d600d6d33d42b37-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa2fe275d2d054b259783f386cda62280",name:"[Helper] EBR - DE Change - digitalData.event -- Global -- Click button on same page -- Push Datalayer Event - ACTION BUTTON_CLICK",events:[{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"digitalData.event"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%digitalData.event.event%",rightOperand:"click"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%digitalData.event.type%",rightOperand:"button"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%digitalData.event.linkDestination%",rightOperand:"on-page"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%digitalData.event.pageSection%",rightOperand:"undefined"},negate:!0,timeout:2e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"mortgage-agreement-in-principle\\.html",valueIsRegex:!0},{value:"/mortgages/how-much-can-i-borrow-mortgage-calculator\\.html",valueIsRegex:!0},{value:"/mortgages/mortgage-calculator\\.html|/mortgages/mortgage-calculators/(how-much-can-i-borrow|mortgage-rate-finder-mortgage-calculator|remortgage-calculator-remortgage-rates)\\.html",valueIsRegex:!0},{value:"/mortgages/mortgage-calculators/equity-calculator\\.html",valueIsRegex:!0}]},negate:!0,timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/90decdbe34ba/0ec9031489bb/2fe1d56d40dc/RC57a51536e4dd4395ab4e89f96f4bb1d3-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLacc6a97902594f05b3fe2dbd32c93916",name:"[Data Layer] EBR -- Click -- Branch Locator -- Custom -- v1",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".locator--facilities_filter input[type=checkbox]",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".locator--facilities_radio input[type=radio]",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".search-filter--group input[type=checkbox]",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".locator--facilities_filter .cta-secondary",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".search_filter.d-block .cta-secondary",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/search-results/locator.html"}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/90decdbe34ba/0ec9031489bb/2fe1d56d40dc/RC802b306d7b2b49d897f67f56ad3d67bd-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/90decdbe34ba/0ec9031489bb/2fe1d56d40dc/RCd2f8d78c2e994cffa8c640c262f26e05-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLaceea6b2641a4c48bd7218b833928290",name:"[Analytics] EBR --  Global -- digitalData Event Change - Click link on same page -- AA Send",events:[{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"digitalData.event"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%digitalData.event.pageSection%",rightOperand:"Header Navigation"},negate:!0,timeout:2e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"mortgage-agreement-in-principle\\.html",valueIsRegex:!0},{value:"/mortgages/how-much-can-i-borrow-mortgage-calculator\\.html",valueIsRegex:!0},{value:"/current-accounts/overdrafts/eligibility-tool\\.html",valueIsRegex:!0},{value:"/mortgages/mortgage-calculator\\.html|/personal/mortgages/mortgage-calculators/(how-much-can-i-borrow|mortgage-rate-finder-mortgage-calculator|remortgage-calculator-remortgage-rates)\\.html",valueIsRegex:!0},{value:"retaildisputes/details\\.html",valueIsRegex:!0},{value:"/mortgages/mortgage-calculators/equity-calculator\\.html",valueIsRegex:!0},{value:"/financial-health-check/(new|existing)-customer",valueIsRegex:!0},{value:"/personal/banking-with-royal-bank-of-scotland/your-account-checklist\\.html",valueIsRegex:!0},{value:"/life-moments/Struggling-financially\\.html",valueIsRegex:!0},{value:"/help-and-support/struggling-financially\\.html",valueIsRegex:!0}]},negate:!0,timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%digitalData.event.event%",rightOperand:"click"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%digitalData.event.type%",rightOperand:"link"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%digitalData.event.linkDestination%",rightOperand:"on-page"},timeout:2e3}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{var n=document.querySelector("div.all_sections.active .h2-custom"),r=window.curSlideEle,a=r?r[0].querySelector("div.title-wrapper, .h2-custom"):void 0,o=n?n.innerText.trim():void 0,i=o||(a?a.innerText.trim():void 0);i?(_satellite.logger.warn(`Question Slide Changed ${i}`),t.eVar18="Pre Eligibility - "+i):(t.prop55=_satellite.getVar("digitalData.event.value"),t.prop15=_satellite.getVar("digitalData.event.pageSection"),"undefined"!==_satellite.getVar("digitalData.event.pageSection")?t.eVar26=_satellite.getVar("digitalData.event.pageSection")+" _ "+_satellite.getVar("digitalData.event.value"):t.eVar26=_satellite.getVar("digitalData.event.value")),window.sendPerformanceDataToAdobe()}catch(e){_satellite.logger.error("failed to set pre eligibility page name",e)}}},trackerProperties:{}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"%digitalData.event.name% %digitalData.event.pageSection%",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RLad5ffa509b8142579467407f4d5765cf",name:"[Analytics][Recording] PLR -- WL -- Retail - Overdraft Eligibility SPA -- Custom Code - Event Listener",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/test-area/spapage/eligibility-tool.html",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/90decdbe34ba/0ec9031489bb/2fe1d56d40dc/RCac4df7ef205d476482b861bedaefd92b-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLb235b530cc28499ca5f6fb925d870cc2",name:"DCR -- Global -- gtagAdwords -- GTAG Base Loaded -- Custom Code - Adwords Event",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"gtagAdwords"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%ffGtag%",rightOperand:"enabled"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return!(!window.gtag||!window.dataLayer)}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/90decdbe34ba/0ec9031489bb/2fe1d56d40dc/RC3efa5a86204d40088495d1da7cad0f7e-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLb6b91ffb205b4a6eacc06c713e9f6993",name:"[Analytics][Target] PLR -- WL -- Retail - Calculators -- Custom Code - Event Listener",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/loans/|/loans\\.html",valueIsRegex:!0},{value:"/overdraft-calculator\\.html",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{return document.querySelectorAll("form#loans-calculator, form#odCostCalc").length>=1}catch(e){_satellite.logger.error("[Custom Code][PLR -- WL -- Loan Calculator -- Deploy Event Listeners --  Custom] error evaluating rule condition -- "+e)}}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/90decdbe34ba/0ec9031489bb/2fe1d56d40dc/RC8fb1c4bb563e4822a6421afb022d13d4-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLb7af777554d44c31901e08bd4148044a",name:"[Analytics] EBR -- Retail - Persistent Debt -- Click - Buttons -- Custom Code - AA ",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#calc div.pd-top__btn-calculate, div.pd-bottom__right-incdec a.inputaction",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"persistent-debt",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/90decdbe34ba/0ec9031489bb/2fe1d56d40dc/RC0e490b2ffa014c34a5f722f9f61f96d6-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLbafefcb396504363bb3ea5651a2c8636",name:"[Analytics] EBR -- History Change|DOM Ready -- Retail -  Search Results Page -- AA",events:[{modulePath:"core/src/lib/events/historyChange.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"search-results\\.html",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/90decdbe34ba/0ec9031489bb/2fe1d56d40dc/RCc14be735aaf740c59e962d7530ac3d23-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLbc38f94733ac4a07b71196f0ab213a2c",name:"[Target][Visitor ID] PLR -- PT -- Global - C0009 and C0004 Cookies Active -- CIN Present -- Adobe ECID|AT - Set CIN",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:40},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"oneTrustCategoriesChanged",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex"},leftOperand:"%optanonActiveGroups%",rightOperand:"C0009.*C0004|C0004.*C0009"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTruthy"},leftOperand:"%cin10Chars%"},timeout:2e3}],actions:[{modulePath:"adobe-mcid/src/lib/actions/setCustomerIds.js",settings:{customerIds:[{value:"%cin10Chars%",hashType:"",authState:2,integrationCode:"cin"},{value:"%cin10Chars%",authState:2,integrationCode:"customer_id"}]},timeout:2e3,delayNext:!0},{modulePath:"adobe-target-v2/lib/addParams.js",settings:{params:{mbox3rdPartyId:{value:"%cin10Chars%",checked:!0}}},timeout:2e3,delayNext:!0}]},{id:"RLbd5480770790446abee5e28bc5215fc0",name:"[Marketing] PLR|DCR -- DOMR|floodlight2 -- Global - Floodlight pixel -- C0004 Cookie enabled - Backfill enabled -- floodlight ",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"floodlight2"},ruleOrder:50},{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"%marketingGoogleFloodlightLeadCssSelector%",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"natwest-auto-tagging/src/lib/conditions/stackedConditions.js",settings:{mappingConfig:[{comparison:"isTruthy",caseInsensitive:!1,matchExpression:"",valueToEvaluate:"%marketingFloodlightId%"},{comparison:"isTruthy",caseInsensitive:!1,matchExpression:"",valueToEvaluate:"%marketingFloodlightSendTo%"}]},timeout:2e3},{modulePath:"rbs-onetrust/src/lib/conditions/preferenceOptedIn.js",settings:{brand:"%brandName%",callback:{payload:{marketingFloodlightId:"%marketingFloodlightId%",marketingFloodlightSendTo:"%marketingFloodlightSendTo%",marketingFloodlightAdditionalPayload:"%marketingFloodlightAdditionalPayload%"},queuedDCRId:"floodlight2",directCallRuleID:""},queueTag:!0,cookieCategories:["C0004"]},timeout:2e3}],actions:[{modulePath:"marketing-hub/src/lib/actions/floodlight.js",settings:{floodlight:{id:"%marketingFloodlightId%",sendTo:"%marketingFloodlightSendTo%",additionalPayload:"%marketingFloodlightAdditionalPayload%",sendToToLowerCase:!1,allowsCustomScripts:"false"}},timeout:2e3,delayNext:!0}]},{id:"RLbf30cf72490d4449ae484f3e7a371b79",name:"[Analytics] EBR -- Click -- New Borrowing Needs Tool -- AA Send -- v1",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#step_1 .btn.btn-primary",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".checkboxinput.inp-chk__blk input",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#step_2 .brselectbox__optionsboxParent input",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#step_3 .btn.btn-primary",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/borrowing-needs/borrowing-needs-tool.html",valueIsRegex:!1}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/90decdbe34ba/0ec9031489bb/2fe1d56d40dc/RC733db7dced1946298ecec48e47c40075-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLc500bb7d08574d78b148e44f42d6b531",name:"[Analytics] EBR -- Global -- App Download - Click -- AA Send",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:500,elementSelector:"a[href*='itunes.apple.com'],a[href*='applink'],a[href*='c00.adobe.com'],a[href*='onelink.me']",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{var n=_satellite.getParameterByName("c",this.href);n.match(/PC\_PC\_/)&&(n=n.replace("PC_","")),n.match(/P1-/)?n=(n=(n=n.replace("HP-P1-DEF-Default","PC_HP-P1-DEF-UnKnown3-DEF")).replace("HP-P-P1-DEF-Default","PC_HP-P-P1-DEF-UnKnown3-DEF")).replace("HP-B-P1-DEF-Default","PC_HP-B-P1-DEF-UnKnown3-DEF"):n.match(/P2-/)?n=(n=(n=n.replace("HP-P2-DEF-Default","PC_HP-P2-DEF-UnKnown3-DEF")).replace("HP-P-P2-DEF-Default","PC_HP-P-P2-DEF-UnKnown3-DEF")).replace("HP-B-P2-DEF-Default","PC_HP-B-P2-DEF-UnKnown3-DEF"):n.match(/P3-/)?n=(n=(n=n.replace("HP-P3-DEF-Default","PC_HP-P3-PR3-UnKnown1-DEF")).replace("HP-P-P3-DEF-Default","PC_HP-P-P3-PR3-UnKnown1-DEF")).replace("HP-B-P3-DEF-Default","PC_HP-B-P3-PR3-UnKnown1-DEF"):n.match(/TB-/)&&(n=(n=(n=n.replace("HP-TB-DEF-Default","PC_HP-TB-DEF-5links-DEF")).replace("HP-P-TB-DEF-Default","PC_HP-P-TB-DEF-5links-DEF")).replace("HP-B-TB-DEF-Default","PC_HP-B-TB-DEF-5links-DEF")),t.campaign=n,t.eVar37=n,window.sendPerformanceDataToAdobe()}catch(e){_satellite.logger.error("Adobe Analytics Custom Code - App Download Failed to Run",e)}}},trackerProperties:{}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"App Download or Applink",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RLc56ac0639f12403eba1e5bd850627b7a",name:"[Patch] PLR -- PT -- Retail - NW - Support Contact Us -- Custom Code - SEO JSON",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/support-centre/contact-us.html",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%brandName%",rightOperand:"NatWest"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,
source:'try {\n  const script = document.createElement(\'script\');\n  script.type = \'application/ld+json\';\n  script.text = JSON.stringify({"@context":"http://schema.org","@type":"Organization","url":"https://personal.natwest.com","contactPoint":[{"@type":"ContactPoint","telephone":"+443453030299","contactType":"NatWest customer service","areaServed":"UK","availableLanguage":["English"]},{"@type":"ContactPoint","telephone":"+448000969527","contactOption":"TollFree","contactType":"NatWest mortgages customer service","areaServed":"UK","availableLanguage":["English"]},{"@type":"ContactPoint","telephone":"+443457114477","contactType":"NatWest business customer service","areaServed":"UK","availableLanguage":["English"]},{"@type":"ContactPoint","telephone":"03703339091","contactType":"NatWest Credit Cards customer service","areaServed":"UK","availableLanguage":["English"]},{"@type":"ContactPoint","telephone":"+441268508018","contactType":"NatWest Credit Cards customer service","areaServed":"Worldwide","availableLanguage":["English"]},{"@type":"ContactPoint","telephone":"+441268508018","contactType":"NatWest Gold Credit Cards customer service","areaServed":"Worldwide","availableLanguage":["English"]},{"@type":"ContactPoint","telephone":"+443703331993","contactType":"NatWest Gold Credit Cards customer service","areaServed":"UK","availableLanguage":["English"]},{"@type":"ContactPoint","telephone":"+441268508018","contactType":"NatWest Private banking and Platinum Credit Cards Customer Service","areaServed":"Worldwide","availableLanguage":["English"]},{"@type":"ContactPoint","telephone":"+443709093715","contactType":"NatWest Private banking and Platinum Credit Cards Customer Service","areaServed":"UK","availableLanguage":["English"]},{"@type":"ContactPoint","telephone":"+443452460449","contactType":"NatWest Insurance Customer Service","areaServed":["UK"],"availableLanguage":["English"]},{"@type":"ContactPoint","telephone":"+443452460449","contactType":"NatWest Insurance Customer Service","areaServed":["UK"],"availableLanguage":["English"]},{"@type":"ContactPoint","telephone":"+442392664912","contactType":"NatWest Silver account membership queries","areaServed":"Worldwide","availableLanguage":["English"]},{"@type":"ContactPoint","telephone":"+443456015219","contactType":"NatWest Silver account membership queries","areaServed":"UK","availableLanguage":["English"]},{"@type":"ContactPoint","telephone":"+442392668650","contactType":"NatWest Platinum account membership queries","areaServed":"Worldwide","availableLanguage":["English"]},{"@type":"ContactPoint","telephone":"+443456090453","contactType":"NatWest Platinum account membership queries","areaServed":"UK","availableLanguage":["English"]},{"@type":"ContactPoint","telephone":"+442392660340","contactType":"NatWest Black account membership queries","areaServed":"Worldwide","availableLanguage":["English"]},{"@type":"ContactPoint","telephone":"+4434560171883","contactType":"NatWest Black account membership queries","areaServed":"UK","availableLanguage":["English"]},{"@type":"ContactPoint","telephone":"0345 302 0190","contactType":"General Mortgage Queries","areaServed":"UK","availableLanguage":["English"]},{"@type":"ContactPoint","telephone":"+441216290739","contactType":"NatWest Mortgage Queries","areaServed":"UK","availableLanguage":["English"]},{"@type":"ContactPoint","telephone":"0800 200 400","contactType":"NatWest General Personal Loans Queries","areaServed":"UK","contactOption":"TollFree","availableLanguage":["English"]},{"@type":"ContactPoint","telephone":"0345 366 5502","contactType":"NatWest Personal Loans Customer Service","areaServed":"UK","availableLanguage":["English"]},{"@type":"ContactPoint","telephone":"03457 888 444","contactType":"NatWest Premier banking Customer Service (No Pemier Banking Manager)","areaServed":"UK","availableLanguage":["English"]},{"@type":"ContactPoint","telephone":"+443457888444","contactType":"NatWest Premier banking Customer Service (No Pemier Banking Manager)","areaServed":"Worldwide","availableLanguage":["English"]},{"@type":"ContactPoint","telephone":"0333 202 3330","contactType":"NatWest Premier banking Customer Service (With Pemier Banking Manager)","areaServed":"UK","availableLanguage":["English"]},{"@type":"ContactPoint","telephone":"+441619337239","contactType":"NatWest Premier banking Customer Service (With Pemier Banking Manager)","areaServed":"Worldwide","availableLanguage":["English"]},{"@type":"ContactPoint","telephone":"03457 888 444","contactType":"NatWest Telephony Banking","areaServed":"UK","availableLanguage":["English"]},{"@type":"ContactPoint","telephone":"+443457888444","contactType":"NatWest Telephony Banking","areaServed":"Worldwide","availableLanguage":["English"]},{"@type":"ContactPoint","telephone":"0370 600 0459","contactType":"NatWest Report Stolen, Lost or Damaged Card","areaServed":"UK","availableLanguage":["English"]},{"@type":"ContactPoint","telephone":"+441268500813","contactType":"NatWest Report Stolen, Lost or Damaged Card","areaServed":"Worldwide","availableLanguage":["English"]},{"@type":"ContactPoint","telephone":"0800 161 5149","contactType":"NatWest Report Fraud Current Accounts","areaServed":"UK","availableLanguage":["English"],"contactOption":"TollFree"},{"@type":"ContactPoint","telephone":"+441268508020","contactType":"NatWest Report Fraud Current Accounts","areaServed":"Worldwide","availableLanguage":["English"]},{"@type":"ContactPoint","telephone":"0345 300 3986","contactType":"NatWest Report Fraud Business Accounts","areaServed":"UK","availableLanguage":["English"]},{"@type":"ContactPoint","telephone":"+441252308047","contactType":"NatWest Report Fraud Business Accounts","areaServed":"Worldwide","availableLanguage":["English"]},{"@type":"ContactPoint","telephone":"0800 161 5149","contactType":"NatWest Personal Credit Card Fraud Contact","areaServed":"UK","availableLanguage":["English"],"contactOption":"TollFree"},{"@type":"ContactPoint","telephone":"+441268508020","contactType":"NatWest Personal Credit Card Fraud Contact","areaServed":"Worldwide","availableLanguage":["English"]},{"@type":"ContactPoint","telephone":"0345 300 4350","contactType":"NatWest Business Credit Card Fraud Contact","areaServed":"UK","availableLanguage":["English"]},{"@type":"ContactPoint","telephone":"+441268508020","contactType":"NatWest Business Credit Card Fraud Contact","areaServed":"Worldwide","availableLanguage":["English"]}]});\n  document.head.appendChild(script);\n} catch (e) {\n  _satellite.logger.error(\'failed to load JSON-LD\', e);\n}',language:"javascript"},timeout:2e3,delayNext:!0}]},{id:"RLc6f8ebce846d4bec8cea8a5e0f1f111f",name:"[Helpers] PLR -- PT -- Global -- Custom Code - Global Functions",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:2}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:'_satellite.getVar(\'productData\');\n_satellite.getVar(\'dotTarget\');\n_satellite.getParameterByName = function (param, url) {\n  try {\n    var href = url || location.href;\n    var regexp = new RegExp( \'[?&]\' + param + \'=([^&#]*)\', \'i\' );\n    var qString = regexp.exec(href);\n    return qString ? qString[1] : null;\n  } catch (e) {\n    _satellite.logger.error(\'Failed to run getQueryParam\',e);\n  }\n}\ndigitalData.user.ecid = _satellite.getVar(\'visitorId\');\n\n/**\n * Speed Performance based on Google Web Vitals\n * CLS: Cumulative Layout shift -  Fractional number that indicates the amount of shifting the page does. Multiply by 1000 for precision good<0.1 poor>0.25\n * FID: First Input Delay - measured in ms - good<100ms poor>300ms\n * LCP: Largest contentful paint - measured in sec - good<2.5s poor>4s\n * FCP: First contentful paint - measured in sec\n * TTFB: Time to First Byte - measured in ms\n * Legacy Duration: - Full page load time, largely out of date and meaningless now but needed for legacy reasons - Measured in sec\n * Effective Type - Only really supported by chrome this now but gives an indiciation of the users connection speed\n * PageName - Page name of the page the data relates to - s.contextData[\'performance.pageName\']\n * \n * If the page is going to unload then the script will attempt to store any data set to false in sessionStorage for access in the next page\n * \n * !!!Out of the Box - The code DOES NOT send any data to Adobe!!!\n * See seperate sendDatatoAdobe function on how to send data to Adobe, this part may need amended depending on the platform it is being used on\n * \n */\n\n/**\n * This function should be placed/called before each Adobe server call is sent to ensure all available data is sent with each call\n * Function will initially try to send any previous data before trying to send current page data\n * @returns {undefined}\n *\n */\nfunction sendPerformanceDataToAdobe() {\n  window.digitalData = window.digitalData || {};\n  window.digitalData.page = window.digitalData.page || {};\n  window.digitalData.page.performance = window.digitalData.page.performance || [];\n  try {\n    if (window.digitalData.page.previousPagePerformance) {\n      window.digitalData.page.previousPagePerformance.forEach(function(item){\n        if (!item.sent){\n          var contextName = \'performance.\' + item.name;\n          window.s.contextData[contextName] = item.value;\n          item.sent = true;\n        }\n      });\n      window.digitalData.page.previousPagePerformance = \'\';\n      return;\n    }\n    if (window.digitalData.page.performance) {\n      window.digitalData.page.performance.forEach(function(item){\n        if (!item.sent){\n          var contextName = \'performance.\' + item.name;\n          s.contextData[contextName] = item.value;\n          s.contextData[\'performance.pageName\'] = \'D=pageName\';\n          item.sent = true;\n        }\n      });\n      return;\n    }\n  } catch (e) {\n    _satellite.logger.error(\'Failed to send performance data to Adobe\',e);\n  }\n}\n\n/**\n * Returns n rounded to digits\n * @param {number} n - Input number to be rounded\n * @param {number} digits - Number of digits to round to, if undefined, assumed 0\n * @returns {number}\n */\nfunction roundTo(n, digits) {\n  try {\n    var negative = false;\n    if (digits === undefined) {\n      digits = 0;\n    }\n    if ( n < 0) {\n      negative = true;\n      n = n * -1;\n    }\n    var multiplicator = Math.pow(10, digits);\n    n = parseFloat((n * multiplicator).toFixed(11));\n    n = (Math.round(n) / multiplicator).toFixed(2);\n    if (negative) {\n      n = (n * -1).toFixed(2);\n    }\n    return n;\n  } catch (e) {\n    _satellite.logger.error(\'Failed to round number\',e);\n  }\n}\n/**\n * Pushes a value to the data layer in the correct format and sets sent to false\n * @param {object} metric - Object containing the name and value of the value to be passed to the datalayer\n */\nfunction processData(metric) {\n  try {\n    var value = metric.value;\n    if (metric.name === \'duration\' || metric.name === \'LCP\' || metric.name === \'FCP\' || metric.name === \'TTI\') {\n      value = value / 1000;\n    } else if (metric.name === \'CLS\') {\n      value = value * 1000;\n    }\n    if (typeof(value) === \'number\') {\n      value = roundTo(value,2);\n    }\n    window.digitalData = window.digitalData || {};\n    window.digitalData.page = window.digitalData.page || {};\n    window.digitalData.page.performance = window.digitalData.page.performance || [];\n    digitalData.page.performance.push({name: metric.name, value: value, sent: false});\n  } catch (e) {\n    _satellite.logger.error(\'Failed to process performance data\',e);\n  }\n}\n\n/**\n * Returns the effective type or unsupported if browser doesn\'t support it\n * @returns {object|string}\n */\nfunction getEffectiveType() {\n  try {\n    if (navigator && navigator.connection) {\n      if (navigator.connection.effectiveType) {\n        var data = {name: \'effectiveType\'};\n        data.value = navigator.connection.effectiveType;\n        return data;\n      }\n    } else {\n      return \'unsupported\';\n    }\n  } catch (e) {\n    _satellite.logger.error(\'Failed to get effective type\',e);\n  }\n}\n\n/**\n * Returns the load time from either the newer performance framework or the legacy one\n * @returns {number}\n */\nfunction getLegacyLoadTime() {\n  try {\n    var data = {name: \'duration\'};\n    var pageNav = performance.getEntriesByType(\'navigation\')[0];\n    if (pageNav){\n      if (pageNav.duration && pageNav.duration > 0) {\n        data.value = pageNav.duration;\n        return data;\n      }\n    } else {\n      var legacyLoad = performance.timing.loadEventEnd - performance.timing.navigationStart;\n      if (legacyLoad > 0) {\n        data.value = legacyLoad;\n        return data;\n      }\n    }\n  } catch (e) {\n    _satellite.logger.error(\'Failed to get legacy load time\',e);\n  }\n}\n\n/**\n * On initial load this function will be called. It has the task of checking for previous page data and passing it in to the data layer\n * It then has the task of setting an event listener on pagehide event (new beforeunload) to get any unsent data and store it in sessionStorage\n */\nfunction handlePreviousPageData() {\n  try {\n    var storageKeyName = \'previousPageData\';\n    var previousPageData = sessionStorage.getItem(storageKeyName);\n    if (previousPageData) {\n      var previousPageDataParsed = JSON.parse(previousPageData);\n      window.digitalData = window.digitalData || {};\n      window.digitalData.page = window.digitalData.page || {};\n      window.digitalData.page.previousPagePerformance = previousPageDataParsed;\n      sessionStorage.removeItem(storageKeyName);\n    }\n    window.addEventListener(\'pagehide\', function(){\n      try {\n        sessionStorage.setItem(\'targetEvents\', JSON.stringify(_satellite.getVar(\'targetEventsObject\'))); //temporary until full target token code is refactored (needs to be compatible with AT V2/AEP)\n        var dataForStorage = [];\n        window.digitalData.page.performance.forEach(function(item){\n          if (!item.sent) {\n            dataForStorage.push(item);\n          }\n        });\n        if (dataForStorage.length > 0) {\n          var pageData = {name: \'pageName\', value: window.s.pageName, sent: false};\n          dataForStorage.push(pageData);\n          sessionStorage.setItem(storageKeyName, JSON.stringify(dataForStorage));\n        }\n      } catch (e) {\n        _satellite.logger.error(\'Failed to run performance function - handlePreviousPageData pagehide\', e);\n      }\n    });\n  } catch (e) {\n    _satellite.logger.error(\'Failed to run performance function - handlePreviousPageData\',e);\n  }\n}\n\n// WEB VITALS CODE - START\n// Pollyfill Start\n!function(){var e,t,n,i,r={passive:!0,capture:!0},a=new Date,o=function(){i=[],t=-1,e=null,f(addEventListener)},c=function(i,r){e||(e=r,t=i,n=new Date,f(removeEventListener),u())},u=function(){if(t>=0&&t<n-a){var r={entryType:"first-input",name:e.type,target:e.target,cancelable:e.cancelable,startTime:e.timeStamp,processingStart:e.timeStamp+t};i.forEach((function(e){e(r)})),i=[]}},s=function(e){if(e.cancelable){var t=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;"pointerdown"==e.type?function(e,t){var n=function(){c(e,t),a()},i=function(){a()},a=function(){removeEventListener("pointerup",n,r),removeEventListener("pointercancel",i,r)};addEventListener("pointerup",n,r),addEventListener("pointercancel",i,r)}(t,e):c(t,e)}},f=function(e){["mousedown","keydown","touchstart","pointerdown"].forEach((function(t){return e(t,s,r)}))},p="hidden"===document.visibilityState?0:1/0;addEventListener("visibilitychange",(function e(t){"hidden"===document.visibilityState&&(p=t.timeStamp,removeEventListener("visibilitychange",e,!0))}),!0);o(),self.webVitals={firstInputPolyfill:function(e){i.push(e),u()},resetFirstInputPolyfill:o,get firstHiddenTime(){return p}}}();\n// Pollyfill End\n\n// Web Vitals Core Start\n!function(e){"use strict";var t=function(e,t){return{name:e,value:void 0===t?-1:t,delta:0,entries:[],id:"v2-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12)}},n=function(e,t){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){if("first-input"===e&&!("PerformanceEventTiming"in self))return;var n=new PerformanceObserver((function(e){return e.getEntries().map(t)}));return n.observe({type:e,buffered:!0}),n}}catch(e){}},i=function(e,t){var n=function n(i){"pagehide"!==i.type&&"hidden"!==document.visibilityState||(e(i),t&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))};addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0)},r=function(e){addEventListener("pageshow",(function(t){t.persisted&&e(t)}),!0)},a=function(e,t,n){var i;return function(r){t.value>=0&&(r||n)&&(t.delta=t.value-(i||0),(t.delta||void 0===i)&&(i=t.value,e(t)))}},o=-1,u=function(){i((function(e){var t=e.timeStamp;o=t}),!0)},s=function(){return o<0&&((o=window.webVitals.firstHiddenTime)===1/0&&u(),r((function(){setTimeout((function(){o="hidden"===document.visibilityState?0:1/0,u()}),0)}))),{get firstHiddenTime(){return o}}},c=function(e,i){var o,u=s(),c=t("FCP"),f=function(e){"first-contentful-paint"===e.name&&(m&&m.disconnect(),e.startTime<u.firstHiddenTime&&(c.value=e.startTime,c.entries.push(e),o(!0)))},d=window.performance&&performance.getEntriesByName&&performance.getEntriesByName("first-contentful-paint")[0],m=d?null:n("paint",f);(d||m)&&(o=a(e,c,i),d&&f(d),r((function(n){c=t("FCP"),o=a(e,c,i),requestAnimationFrame((function(){requestAnimationFrame((function(){c.value=performance.now()-n.timeStamp,o(!0)}))}))})))},f=!1,d=-1,m={};e.getCLS=function(e,o){f||(c((function(e){d=e.value})),f=!0);var u,s=function(t){d>-1&&e(t)},m=t("CLS",0),v=0,l=[],p=function(e){if(!e.hadRecentInput){var t=l[0],n=l[l.length-1];v&&e.startTime-n.startTime<1e3&&e.startTime-t.startTime<5e3?(v+=e.value,l.push(e)):(v=e.value,l=[e]),v>m.value&&(m.value=v,m.entries=l,u())}},g=n("layout-shift",p);g&&(u=a(s,m,o),i((function(){g.takeRecords().map(p),u(!0)})),r((function(){v=0,d=-1,m=t("CLS",0),u=a(s,m,o)})))},e.getFCP=c,e.getFID=function(e,o){var u,c=s(),f=t("FID"),d=function(e){e.startTime<c.firstHiddenTime&&(f.value=e.processingStart-e.startTime,f.entries.push(e),u(!0))},m=n("first-input",d);u=a(e,f,o),m&&i((function(){m.takeRecords().map(d),m.disconnect()}),!0),m||window.webVitals.firstInputPolyfill(d),r((function(){f=t("FID"),u=a(e,f,o),window.webVitals.resetFirstInputPolyfill(),window.webVitals.firstInputPolyfill(d)}))},e.getLCP=function(e,o){var u,c=s(),f=t("LCP"),d=function(e){var t=e.startTime;t<c.firstHiddenTime&&(f.value=t,f.entries.push(e)),u()},v=n("largest-contentful-paint",d);if(v){u=a(e,f,o);var l=function(){m[f.id]||(v.takeRecords().map(d),v.disconnect(),m[f.id]=!0,u(!0))};["keydown","click"].forEach((function(e){addEventListener(e,l,{once:!0,capture:!0})})),i(l,!0),r((function(n){f=t("LCP"),u=a(e,f,o),requestAnimationFrame((function(){requestAnimationFrame((function(){f.value=performance.now()-n.timeStamp,m[f.id]=!0,u(!0)}))}))}))}},e.getTTFB=function(e){var n,i=t("TTFB");n=function(){try{var t=performance.getEntriesByType("navigation")[0]||function(){var e=performance.timing,t={entryType:"navigation",startTime:0};for(var n in e)"navigationStart"!==n&&"toJSON"!==n&&(t[n]=Math.max(e[n]-e.navigationStart,0));return t}();if(i.value=i.delta=t.responseStart,i.value<0||i.value>performance.now())return;i.entries=[t],e(i)}catch(e){}},"complete"===document.readyState?setTimeout(n,0):addEventListener("pageshow",n)},Object.defineProperty(e,"__esModule",{value:!0})}(this.webVitals=this.webVitals||{});\n// Web Vitals Core End\n// WEB VITALS CODE - END\n\n//LEGACY TTI POLYFILL START\n(function(){var h="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this,k="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};function l(){l=function(){};h.Symbol||(h.Symbol=m)}var n=0;function m(a){return"jscomp_symbol_"+(a||"")+n++}\nfunction p(){l();var a=h.Symbol.iterator;a||(a=h.Symbol.iterator=h.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&k(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return q(this)}});p=function(){}}function q(a){var b=0;return r(function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}})}function r(a){p();a={next:a};a[h.Symbol.iterator]=function(){return this};return a}function t(a){p();var b=a[Symbol.iterator];return b?b.call(a):q(a)}\nfunction u(a){if(!(a instanceof Array)){a=t(a);for(var b,c=[];!(b=a.next()).done;)c.push(b.value);a=c}return a}var v=0;function w(a,b){var c=XMLHttpRequest.prototype.send,d=v++;XMLHttpRequest.prototype.send=function(f){for(var e=[],g=0;g<arguments.length;++g)e[g-0]=arguments[g];var E=this;a(d);this.addEventListener("readystatechange",function(){4===E.readyState&&b(d)});return c.apply(this,e)}}\nfunction x(a,b){var c=fetch;fetch=function(d){for(var f=[],e=0;e<arguments.length;++e)f[e-0]=arguments[e];return new Promise(function(d,e){var g=v++;a(g);c.apply(null,[].concat(u(f))).then(function(a){b(g);d(a)},function(a){b(a);e(a)})})}}var y="img script iframe link audio video source".split(" ");function z(a,b){a=t(a);for(var c=a.next();!c.done;c=a.next())if(c=c.value,b.includes(c.nodeName.toLowerCase())||z(c.children,b))return!0;return!1}\nfunction A(a){var b=new MutationObserver(function(c){c=t(c);for(var b=c.next();!b.done;b=c.next())b=b.value,"childList"==b.type&&z(b.addedNodes,y)?a(b):"attributes"==b.type&&y.includes(b.target.tagName.toLowerCase())&&a(b)});b.observe(document,{attributes:!0,childList:!0,subtree:!0,attributeFilter:["href","src"]});return b}\nfunction B(a,b){if(2<a.length)return performance.now();var c=[];b=t(b);for(var d=b.next();!d.done;d=b.next())d=d.value,c.push({timestamp:d.start,type:"requestStart"}),c.push({timestamp:d.end,type:"requestEnd"});b=t(a);for(d=b.next();!d.done;d=b.next())c.push({timestamp:d.value,type:"requestStart"});c.sort(function(a,b){return a.timestamp-b.timestamp});a=a.length;for(b=c.length-1;0<=b;b--)switch(d=c[b],d.type){case "requestStart":a--;break;case "requestEnd":a++;if(2<a)return d.timestamp;break;default:throw Error("Internal Error: This should never happen");\n}return 0}function C(a){a=a?a:{};this.w=!!a.useMutationObserver;this.u=a.minValue||null;a=window.__tti&&window.__tti.e;var b=window.__tti&&window.__tti.o;this.a=a?a.map(function(a){return{start:a.startTime,end:a.startTime+a.duration}}):[];b&&b.disconnect();this.b=[];this.f=new Map;this.j=null;this.v=-Infinity;this.i=!1;this.h=this.c=this.s=null;w(this.m.bind(this),this.l.bind(this));x(this.m.bind(this),this.l.bind(this));D(this);this.w&&(this.h=A(this.B.bind(this)))}\nC.prototype.getFirstConsistentlyInteractive=function(){var a=this;return new Promise(function(b){a.s=b;"complete"==document.readyState?F(a):window.addEventListener("load",function(){F(a)})})};function F(a){a.i=!0;var b=0<a.a.length?a.a[a.a.length-1].end:0,c=B(a.g,a.b);G(a,Math.max(c+5E3,b))}\nfunction G(a,b){!a.i||a.v>b||(clearTimeout(a.j),a.j=setTimeout(function(){var b=performance.timing.navigationStart,d=B(a.g,a.b),b=(window.a&&window.a.A?1E3*window.a.A().C-b:0)||performance.timing.domContentLoadedEventEnd-b;if(a.u)var f=a.u;else performance.timing.domContentLoadedEventEnd?(f=performance.timing,f=f.domContentLoadedEventEnd-f.navigationStart):f=null;var e=performance.now();null===f&&G(a,Math.max(d+5E3,e+1E3));var g=a.a;5E3>e-d?d=null:(d=g.length?g[g.length-1].end:b,d=5E3>e-d?null:Math.max(d,\nf));d&&(a.s(d),clearTimeout(a.j),a.i=!1,a.c&&a.c.disconnect(),a.h&&a.h.disconnect());G(a,performance.now()+1E3)},b-performance.now()),a.v=b)}\nfunction D(a){a.c=new PerformanceObserver(function(b){b=t(b.getEntries());for(var c=b.next();!c.done;c=b.next())if(c=c.value,"resource"===c.entryType&&(a.b.push({start:c.fetchStart,end:c.responseEnd}),G(a,B(a.g,a.b)+5E3)),"longtask"===c.entryType){var d=c.startTime+c.duration;a.a.push({start:c.startTime,end:d});G(a,d+5E3)}});a.c.observe({entryTypes:["longtask","resource"]})}C.prototype.m=function(a){this.f.set(a,performance.now())};C.prototype.l=function(a){this.f.delete(a)};\nC.prototype.B=function(){G(this,performance.now()+5E3)};h.Object.defineProperties(C.prototype,{g:{configurable:!0,enumerable:!0,get:function(){return[].concat(u(this.f.values()))}}});var H={getFirstConsistentlyInteractive:function(a){a=a?a:{};return"PerformanceLongTaskTiming"in window?(new C(a)).getFirstConsistentlyInteractive():Promise.resolve(null)}};\n"undefined"!=typeof module&&module.exports?module.exports=H:"function"===typeof define&&define.amd?define("ttiPolyfill",[],function(){return H}):window.ttiPolyfill=H;})();\n//LEGACY TTI POLYFILL END\n\n\n/**\n * This is the main block of code which runs on page load - order of events:\n * Set up the datalayer\n * Call previousPageData function to handle and manage previous page data\n * Start the web vitals listening\n * Check for availability of legacy metrics\n */\ntry {\n    window.digitalData = window.digitalData || {};\n    window.digitalData.page = window.digitalData.page || {};\n    window.digitalData.page.performance = window.digitalData.page.performance || [];\n    handlePreviousPageData();\n    webVitals.getCLS(processData);\n    webVitals.getFID(processData);\n    webVitals.getLCP(processData);\n    webVitals.getFCP(processData);\n    webVitals.getTTFB(processData);\n    ttiPolyfill.getFirstConsistentlyInteractive().then(function getTTI(tti) {\n      var data = {};\n      data.name = \'TTI\';\n      data.value = tti;\n      processData(data);\n    });\n\n    var checkLegacyTimingData = setInterval(function() {\n      var legacyLoadTime = getLegacyLoadTime();\n      if (legacyLoadTime) {\n        clearInterval(checkLegacyTimingData);\n        processData(legacyLoadTime);\n      }\n    }, 500);\n\n    var checkEffectiveType = setInterval(function() {\n      var effectiveType = getEffectiveType();\n      if (effectiveType) {\n        clearInterval(checkEffectiveType);\n        if (effectiveType !== \'unsupported\') {\n          processData(effectiveType);\n        }\n      }\n    }, 500);\n} catch (e) {\n    _satellite.logger.error(\'Failed to run performance timings\', e);\n};\n',language:"javascript"},timeout:2e3,delayNext:!0},{modulePath:"common-analytics-plugins/src/lib/actions/initializeApl.js",settings:{},timeout:2e3,delayNext:!0}]},{id:"RLc73105229dd444cca852c01f028885ef",name:"[Visitor ID] PLR -- DR -- Global - aiglife.co.uk Links -- Custom Code - ECID Cross Domain",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/90decdbe34ba/0ec9031489bb/2fe1d56d40dc/RCe341fca97a43436a8c0c01f2546fdc93-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLc7725d76343840e6b4c02acb2acfc380",name:"[Survey] EBR -- EE -- Retail - Inject Survey Hotjar on HMCIB calculator - v1",events:[{modulePath:"core/src/lib/events/elementExists.js",settings:{elementSelector:".ec-feedback-panel_wrapper.result_animation.downanimation"},ruleOrder:50}],conditions:[{modulePath:"rbs-onetrust/src/lib/conditions/preferenceOptedIn.js",settings:{brand:"%brandName%",callback:{payload:{},queuedDCRId:"",directCallRuleID:""},queueTag:!1,cookieCategories:["C0002"]},timeout:2e3},{modulePath:"natwest-core/src/lib/conditions/featureFlagEnabled.js",settings:{key:"surveyHotjar"},timeout:2e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/mortgages/mortgage-calculators/how-much-can-i-borrow.html"}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/90decdbe34ba/0ec9031489bb/2fe1d56d40dc/RCd5949a60c9e1432aa09e766b40840b8d-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLc870a8230124416eafa50f22535da143",name:"[Analytics] EBR -- Click -- Branch Locator -- Accordion Links -- AA Send",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".locator--searchresults_saveatrip .saveatrip-fragment.vertical .accordion_header",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/search-results/locator.html"}]},timeout:2e3}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{t.prop55=e.target.innerText,t.prop15="Saveatrip - Save yourself a Trip",t.eVar26="Saveatrip - Save yourself a Trip _ "+e.target.innerText,window.sendPerformanceDataToAdobe()}catch(e){_satellite.logger.error("failed to record Save Yourself a Trip link click",e)}}},trackerProperties:{}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Accordion Link Saveatrip - Save yourself a Trip",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RLcd1ab26c6f914c96ac8eb9a15eeaedca",name:"[Marketing] DCR -- Global -- facebookCustom -- FB Base Loaded -- Custom Code - FB Event",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"facebookCustom"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%ffFacebook%",rightOperand:"enabled"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return!!window.fbq}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/90decdbe34ba/0ec9031489bb/2fe1d56d40dc/RCfb719bb11e594c99b9cd02e15967b49e-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLcdb5c56ea31c4baf99e64c3fdd9afef5",name:"[Helpers][Target] PLR - PT -- Global -- Suppress Cookie Banner on Target VEC",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/queryStringParameter.js",settings:{name:"mboxEdit",value:"1"},timeout:2e3},{modulePath:"core/src/lib/conditions/queryStringParameter.js",settings:{name:"mboxDisable",value:"1"},timeout:2e3},{modulePath:"core/src/lib/conditions/hash.js",settings:{hashes:[{value:"cookie",valueIsRegex:!0}]},negate:!0,timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"try {\n  document.location.hash += 'cookie';\n} catch (e) {\n  _satellite.logger.error('Failed to add hash to url', e);\n}",language:"javascript"},timeout:2e3,delayNext:!0}]},{id:"RLd2d5641f4c394bc3a1ddb67731d25530",name:"[Marketing] EBR -- PLR -- Snapchat - Linkedin -- Floodlight -- Adwords -- Pensions -- Custom Code -- C0004 - All in one",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href*="/login?deeplink=products"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%optanonActiveGroups%",rightOperand:"C0004"},timeout:2e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/investments/natwest-invest/pensions.html"},{value:"/investments/royal-bank-invest/pensions.html"},{value:"^/pension/accumulation/new-investment\\.html$",valueIsRegex:!0},{value:"^/pension/accumulation/transfer\\.html$",valueIsRegex:!0},{value:"^/pension/accumulation/new-transfer\\.html$",valueIsRegex:!0},{value:"/investments/natwest-invest\\.html",valueIsRegex:!0},{value:"/investments/natwest-invest/social\\.html",valueIsRegex:!0},{value:"/investments/natwest-invest/linkedin\\.html",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{
source:"const hostName = location.hostname; \nconst pathName = location.pathname;\t\nlet eventType = event.type;\n\n//functions utilise prebuild requests via making direct calls and passing in parameters\nfunction trackSnapchat(eventName) {\n    _satellite.track('snapchatCustom', {\n        'snapchatCustomEvent' : eventName\n   });\n}\n\nfunction trackFloodlight(type, cat) {\n    _satellite.track('gtagFloodlight', {\n        /*'uVars' : {                                 This block is dormant till we can clarify what u1 and u10 parameters are.\n            'u1' : 'NA'\n        },*/\n        'dcValues' : {\n            'typeValue' : type,\n            'catValue' : cat\n        },\n        'allowCustom' : true,\n        'countType' : 'unique'\n    });\n}\n    \nfunction trackLinkedIn(conversionId) {\n    _satellite.track('linkedInCustom', {\n        'linkedInConversionId' : conversionId\n    });  \n}\n\nfunction trackAdwords(awParamPensions) {\n    _satellite.track('gtagAdwords', {\n        'awVar' : awParamPensions\n    });\n} \n\nfunction trackFB(fbEvent, contentName, contentType) {\n    _satellite.track('facebookCustom', {\n        'facebookCustomEvent' : fbEvent,\n        'facebookCustomEventArray' : {\n            'content_name': contentName,\n            'content_type': contentType\n        }\n    });\n}\n\n//Initialises pixels for LinkedIn (NatWest only) and Snapchat - I didn't extend existing base code rules as we only have couple of pages where this needs to fire and not whole sections - his base pixels are built to cover whole sections of site\nfunction initialisePixels() {\n    //initialize linkedin pixel on NatWest only (no requirement for the RBS) \n    //LinkedIn Pixel Code\n    if (hostName === 'www.natwest.com') {\n        _linkedin_partner_id = _satellite.getVar('linkedinPixelID');\n        window._linkedin_data_partner_ids = window._linkedin_data_partner_ids || [];\n        window._linkedin_data_partner_ids.push(_linkedin_partner_id);\n        (function(){\n            var s = document.getElementsByTagName(\"script\")[0];\n            var b = document.createElement(\"script\");\n            b.type = \"text/javascript\";\n            b.async = true;\n            b.src = \"https://snap.licdn.com/li.lms-analytics/insight.min.js\";\n            s.parentNode.insertBefore(b, s);}\n         )();\n    }\n  \n    //Snap Pixel Code \n    (function(e,t,n){if(e.snaptr)return;var a=e.snaptr=function()\n    {a.handleRequest?a.handleRequest.apply(a,arguments):a.queue.push(arguments)};\n    a.queue=[];var s='script';r=t.createElement(s);r.async=!0;\n    r.src=n;var u=t.getElementsByTagName(s)[0];\n    u.parentNode.insertBefore(r,u);})(window,document,\n    'https://sc-static.net/scevent.min.js');\n\n    snaptr('init', '2ac4529c-717a-4222-9cd4-f3ce5192c103', {\n    'user_email': '__INSERT_USER_EMAIL__'\n    });\n}\n\ntry{\n    \n    initialisePixels();\t\n\n    if (eventType === \"core.page-bottom\") {\n        if (pathName.includes('/accumulation/')) { //if event is pageload and URL includes accumulation then this is application finished - page load URLs do not include /accumulation/\n            trackSnapchat('PURCHASE');\n\n\t        const type = hostName === \"www.natwest.com\" ? 'natinv01' : 'rbinv01';\n            const cat = hostName === \"www.natwest.com\" ? 'n_inv002' : 'r_inv000';\n\t        trackFloodlight(type, cat);\n\t    \n            let awParamPensions = hostName === \"www.natwest.com\" ? '4-HNCMq8q4oYEJ7xo5IB' : '-vwgCP-ProoYEJ7xo5IB';\n            trackAdwords(awParamPensions);\n            \n            trackFB('InitiateCheckout', 'Pensions', 'Invest'); //FB added on Abbies request after investigating and finding that it does not track buttons or application completes\n            \n            if (hostName === \"www.natwest.com\") {\n\t            trackLinkedIn('11578321');\n            }\t\t    \t\n        } \n       else if ((pathName.includes('/investments/natwest-invest')) || (pathName.includes('/investments/natwest-invest/social')) || (pathName.includes('/investments/natwest-invest/linkedin'))) {\n     \n         if (hostName === \"www.natwest.com\") { //This block has been added to deploy LI and Snapchat pixels on the above 2 URLS for retargeting requirement given by Sarah T. 26 May 23\n\t            trackLinkedIn('4354689');\n                trackSnapchat('PAGE_VIEW');\n            }\n       }\n        else { //this is page load as the conditions only allow running on 8 urls of which 6 contain /accumulation/ and the two which do not are covered by this block as page loads\n            trackSnapchat('PAGE_VIEW');\n\n\t        const type = hostName === \"www.natwest.com\" ? 'natinv01' : 'rbinv01';\n            const cat = hostName === \"www.natwest.com\" ? 'n_inv000' : 'r_inv0';\n\t        trackFloodlight(type, cat);\n        }\n    }\n    //if the event is click - this only covers three buttons as defined by selector in conditions then send events as specified\n    if (eventType === \"core.click\" /*|| eventType === \"core.mousedown\"*/) {\n\n        trackSnapchat('ADD_CART');\n\n        const type = hostName === \"www.natwest.com\" ? 'natinv01' : 'rbinv01';\n        const cat = hostName === \"www.natwest.com\" ? 'n_inv002' : 'r_inv00';\n\t    trackFloodlight(type, cat);\n      \n        trackFB('AddToCart', 'Pensions', 'Invest');  //FB added on Abbies request after investigating and finding that it does not track buttons or application completes    \n      \n        if (hostName === \"www.natwest.com\") {\n\t        trackLinkedIn('11578313');\n        }\t  \n    }\t\n  \n} catch (e) {\n    _satellite.logger.error('Marketing][EBR -- PLR -- Snapchat - Linkedin -- Floodlight -- Adwords -- Pensions -- Custom Code -- C0004 - All in one] Error -- ' , e);\n}",language:"javascript"},timeout:2e3,delayNext:!0}]},{id:"RLd3efe096255640b18bcbee2f9404067c",name:"[Marketing] PLR -- DR|DCR -- Global - C0004 Cookies Active - Twitter Account Defined -- Custom Code - Twitter Base",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:80},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"oneTrustCategoriesChanged"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%ffTwitter%",rightOperand:"enabled"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%optanonActiveGroups%",rightOperand:"C0004"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTruthy"},leftOperand:"%twitterPixelID%"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return!window.twq}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/90decdbe34ba/0ec9031489bb/2fe1d56d40dc/RC6da84d90cd5b49f48497752e12b53550-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLd78a16d911bf486e80c4c7fa6f0bbd7b",name:"[Patch] PLR -- WL -- Global - Hotfix for AIP links to support query parameters saved in droppedKey -- Custom -- v1",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/90decdbe34ba/0ec9031489bb/2fe1d56d40dc/RCeb1f7e30931f4b3caa3ea9cdc8faf99e-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLd8047317d7dd4d8da2d18695e4133883",name:"[Marketing] PLR -- DR|DCR -- Global - C0004 Cookies Active - DoubleClick Account Defined -- Custom Code - GTAG Base",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:1},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"oneTrustCategoriesChanged",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%ffGtag%",rightOperand:"enabled"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%optanonActiveGroups%",rightOperand:"C0004"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTruthy"},leftOperand:"%doubleClickID%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"https://assets.adobedtm.com/90decdbe34ba/0ec9031489bb/2fe1d56d40dc/RC1c7e118119574db9b855dae88660ca81-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLd9841fce72df49c28d3ff7eeb3449d4b",name:"[Marketing] PLR -- PB|DCR -- Business --  C0004 Cookies Active - LinkedIn Account Defined -- Custom Code - LinkedIn Base",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:1},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"oneTrustCategoriesChanged",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%optanonActiveGroups%",rightOperand:"C0004"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTruthy"},leftOperand:"%linkedinPixelID%"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return!window._linkedin_data_partner_ids}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%digitalData.site.businessArea%",rightOperand:"Business|Intermediary-solutions"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'try {\n  _linkedin_partner_id = _satellite.getVar(\'linkedinPixelID\');\n  window._linkedin_data_partner_ids = window._linkedin_data_partner_ids || [];\n  window._linkedin_data_partner_ids.push(_linkedin_partner_id);\n  (function(){\n    var s = document.getElementsByTagName("script")[0];\n    var b = document.createElement("script");\n    b.type = "text/javascript";\n    b.async = true;\n    b.src = "https://snap.licdn.com/li.lms-analytics/insight.min.js";\n    s.parentNode.insertBefore(b, s);}\n  )();\n} catch (e) {\n  _satellite.logger.error(\'linkedin failed to run\',e);\n}',language:"javascript"},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"  try {\n      var pathName = document.location.pathname;\n\n      var linkedInConversionIdMapping = {\n          '/intermediary-solutions/products.html': '8362665',\n          '/intermediary-solutions/btl-hub.html': '8362665'\n      }\n\n      var linkedInConversionId = linkedInConversionIdMapping[pathName];\n\n      if (linkedInConversionId) {\n          _satellite.track('linkedInCustom', {\n              linkedInConversionId: linkedInConversionId\n          });\n      }\n  } catch (e) {\n      _satellite.logger.error('[Custom Code][PLR -- PB|DCR -- Business --  C0004 Cookies Active - LinkedIn Account Defined -- Custom Code - LinkedIn Base] Error triggering conversion event -- ', e);\n  }",language:"javascript"},timeout:2e3,delayNext:!0}]},{id:"RLd9aea05f604a4143babc9102a066918b",name:"[Analytics] EBR -- Retail -- Home Energy Plan - Click  Add to Home Energy Plan checkbox -- AA Send",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".input-checkbox__holder input[type=checkbox]",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/climate/home/home-energy-plan/tool.html",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{for(var n=document.querySelectorAll(".input-checkbox__holder input[type=checkbox]:checked"),r="",a="",o=0;o<n.length;o++)r=(a+=n[o].getAttribute("aria-label")+"|").replace(/Add to Home Energry Plan -/g,"");return t.prop55=r,!0}catch(e){_satellite.logger.error("failed to get the Values for checkbox - "+e)}}},trackerProperties:{}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"},timeout:2e3,delayNext:!0}]},{id:"RLdb02b0eb49154c7eac829146084c21fc",name:"[Target] EBR -- Retail -- Mortgage Calculator Illustration Replay -- DE Change --AT Send",events:[{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"digitalData.user.amountBorrowed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/mortgages/mortgage-calculators/how-much-can-i-borrow",valueIsRegex:!0}]},timeout:2e3},{modulePath:"rbs-onetrust/src/lib/conditions/preferenceOptedIn.js",settings:{brand:"%brandName%",callback:{payload:{},queuedDCRId:"",directCallRuleID:""},queueTag:!1,cookieCategories:["C0009"]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/90decdbe34ba/0ec9031489bb/2fe1d56d40dc/RC522790066f3641268af4b516e65f91fd-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLdd4888da272046c99953f3f35a8463cb",name:"EBR -- Click - Login -- Wealth  -- Invest Social -- Adwords Send",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'[data-target-id="Log_in_to_NatWest_Invest"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/investments/natwest-invest/social.html",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/directCall.js",settings:{detail:{eventObjectEntries:[{key:"awVar",value:"AxKHCI_Wt8sDEJ7xo5IB"}]},identifier:"gtagAdwords"},timeout:2e3,delayNext:!0}]},{id:"RLdfd83e79d41d4135b49331ce3a9bd0ca",name:"[Patch] PLR -- PB -- Commercial - Report Fraud Page -- Custom Code - SEO FIX",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/business/security/report-fraud.html",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"try {\n  var firstShelf = document.querySelector('#main-content-wrapper > div > section:nth-child(7)');\n  var secondShelf = document.querySelector(\"#main-content-wrapper > div > section:nth-child(8)\");\n  if (firstShelf) {\n     firstShelf.setAttribute('data-nosnippet','');\n  }\n  if (secondShelf) {\n    secondShelf.setAttribute('data-nosnippet','');\n  }\n} catch (e) {\n  _satellite.logger.error('Failed to add attribute to selector', e);\n}\n\n",language:"javascript"},timeout:2e3,delayNext:!0}]},{id:"RLe1e3bc9a951b4540a7fe29120b37ec69",name:"[Analytics][Target] PLR -- PB -- Global -- Custom Code - Target Mboxes|AA Vars",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:1}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%optanonActiveGroups%",rightOperand:"C0009"},timeout:2e3}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{var n={};try{"undefined"!=sessionStorage.getItem("targetEvents")&&(n=JSON.parse(sessionStorage.getItem("targetEvents")||JSON.stringify({}))||{})}catch(e){_satellite.logger.error("[Custom Code][PLR -- PB -- Global -- AA] error trying to parse targetPageEvents from sessionStorage -- "+e)}var r=n["at-content-rendering-failed"]||0;"number"==typeof r&&r>0&&(t.events=t.apl(t.events,"event179="+r,",",2));var a=n["at-request-failed"]||0;"number"==typeof a&&a>0&&(t.events=t.apl(t.events,"event180="+a,",",2));var o=n["at-request-start"]||0;"number"==typeof o&&o>0&&(t.events=t.apl(t.events,"event181="+o,",",2)),_satellite.logger.info("TARGET: clearing session storage"),sessionStorage.removeItem("targetEvents")}catch(e){_satellite.logger.error("Adobe Analytics Custom Code Failed to Run - "+e)}}},trackerProperties:{eVars:[{name:"eVar19",type:"value",value:"%furlParam%"},{name:"eVar20",type:"value",value:"%optanonActiveGroups%"},{name:"eVar124",type:"value",value:"%sc_c124Param%"},{name:"eVar226",type:"value",value:"+1"}],server:"%serverName%",channel:"D=v2>D=v3",pageName:"%pageNameCleaned%"}}},{modulePath:"adobe-target-v2/lib/firePageLoad.js",settings:{bodyHiddenStyle:"body {opacity: 0}",bodyHidingEnabled:!1}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"try {\n  var allMboxesOnPage = document.querySelectorAll('.mboxDefault');\n  _satellite.logger.log('Mboxes found on page', allMboxesOnPage);\n  if (adobe && adobe.target && allMboxesOnPage.length > 0) {\n    var mboxesList = [];\n    var consumerList = [];\n    allMboxesOnPage.forEach(function (ele, i) {\n      if(ele.id && !ele.id.match('--')) {\n        mboxesList.push({\n          index: i,\n          name: ele.id\n        });\n        consumerList.push(ele.id);\n      }\n    });\n    if (mboxesList.length > 0) {\n        adobe.target.getOffers({\n            consumerId: consumerList.toString(),\n            request: {\n              execute: {\n                mboxes: mboxesList\n              }\n            }\n          }).then(function (response) {\n            response.execute.mboxes.forEach(function (responseMbox) {\n              var mboxSelector = '#' + responseMbox.name;\n              adobe.target.applyOffers({\n                selector: mboxSelector,\n                response: {\n                  execute: {\n                    mboxes: [responseMbox]\n                  }\n                }\n              }).then(function () {\n                // pass some data to analytics or elsewhere?\n                _satellite.logger.log('Adobe Target - Successfully applied offer', responseMbox);\n                var mboxOfferName = 'default-content';\n                if (responseMbox.options) {\n                  mboxOfferName = responseMbox.options[0].responseTokens['offer.name'];\n                }\n                document.querySelector(mboxSelector).setAttribute('at-offer', mboxOfferName);\n                if (responseMbox.name.match('completion_prompt') || responseMbox.name.match('completion-prompt')) {\n                  var completionName = responseMbox.name;\n                  var completionOffer = (responseMbox.options ? responseMbox.options[0].responseTokens['experience.name'] : mboxOfferName); \n                  _satellite.logger.log('completion prompt listener being called', responseMbox.name);\n                  setTimeout(completionPromptListener, 1000, completionName, completionOffer);\n                }\n              }).catch(function (error) {\n                //tell analytics about the error and ensure the element is visible\n                _satellite.logger.error('Adobe Target - Error occured applying an offer', mboxSelector, error);\n              });\n            });\n          }).then(function () {\n            // pass some data to analytics or elsewhere?\n            _satellite.logger.log('Adobe Target - Successfully retrieved offers');\n          }).catch(function (error) {\n            //tell analytics about the error and ensure all the elements are visible\n            _satellite.logger.error('Adobe Target - Error occured getting offers',error);\n          });\n        }\n    }\n} catch (e) {\n  _satellite.logger.error('Adobe Target - Error occured running get/apply offer calls',e);\n}\n\nfunction completionPromptListener(mboxName, offerName) {\n    try {\n        var completionPromptCloseLink = document.querySelector('section.completion-prompt a.cta-secondary');\n        var completionPromptCross = document.querySelector('a.completion-prompt__close-icon');\n        function offerClosed() {\n          adobe.target.trackEvent({\n            'mbox': mboxName,\n            'params': {\n              'TriggerOfferClosedName': offerName\n            }\n          });\n          $('#'+mboxName).slideUp(400);\n        }\n        _satellite.logger.log('completion prompt listeners being added');\n      if (completionPromptCloseLink) {\n        completionPromptCloseLink.addEventListener('click', offerClosed);\n      }\n      if (completionPromptCross) {\n        completionPromptCross.addEventListener('click', offerClosed);\n      }\n        \n    } catch (e) {\n        _satellite.logger.error('Failed to set completion prompt listener', e);\n    }\n}\n",language:"javascript"}}]},{id:"RLe3f3bc6c92b84c699d0b3357ea127243",name:"[Marketing] DCR -- Global -- impactEvent -- Impact Radius Base Loaded -- Custom Code - Impact Radius Event",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"impactEvent"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return!!window.ire}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/90decdbe34ba/0ec9031489bb/2fe1d56d40dc/RC356a7bc9dec2469a8dc6ffbb7522fa7a-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLe4a98f1355e74ca89359481827a40886",name:"[Analytics] EBR -- Global -- digitalData -- Toggle Button -- AA Send",events:[{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"digitalData.event"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%digitalData.event.event%",rightOperand:"click"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%digitalData.event.name%",rightOperand:"toggle button"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%digitalData.event.pageSection%",rightOperand:"undefined"},negate:!0,timeout:2e3},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"mortgage-agreement-in-principle\\.html",valueIsRegex:!0},{value:"/mortgages/how-much-can-i-borrow-mortgage-calculator\\.html",valueIsRegex:!0},{value:"/mortgages/mortgage-calculator\\.html|/mortgages/mortgage-calculators/(how-much-can-i-borrow|mortgage-rate-finder-mortgage-calculator|remortgage-calculator-remortgage-rates)\\.html",valueIsRegex:!0},{value:"/mortgages/mortgage-calculators/equity-calculator\\.html",valueIsRegex:!0}]},negate:!0,timeout:2e3}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{location.pathname.match(/mortgage-calculator\.html|what-do-you-need-to-open-a-current-account\.html/gi)||(t.pageName=_satellite.getVar("pageNameCleaned")+">"+_satellite.getVar("digitalData.event.value")),"undefined"!==_satellite.getVar("digitalData.event.pageSection")?t.eVar26=_satellite.getVar("digitalData.event.pageSection")+" _ "+_satellite.getVar("digitalData.event.value"):t.eVar26=_satellite.getVar("digitalData.event.value"),window.sendPerformanceDataToAdobe()}catch(e){_satellite.logger.error("failed to run - EBR -- Global Excluding Mortgage Calculators|AIP -- digitalData -- Toggle Button -- AA",e)}}},trackerProperties:{eVars:[{name:"eVar226",type:"value",value:"+1"}],props:[{name:"prop15",type:"value",value:"%digitalData.event.pageSection%"},{name:"prop55",type:"value",value:"%digitalData.event.value%"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"},timeout:2e3,delayNext:!0}]},{id:"RLe518d4d68f47424bb21a7693b50bd7f9",name:"[Marketing] PLR -- DR|DCR -- Global - C0004 Cookies Active - Facebook Account Defined -- Custom Code - Facebook Base",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:80},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"oneTrustCategoriesChanged",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%ffFacebook%",rightOperand:"enabled"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%optanonActiveGroups%",rightOperand:"C0004"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTruthy"},leftOperand:"%facebookPixelID%"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return!window.fbq}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/90decdbe34ba/0ec9031489bb/2fe1d56d40dc/RC0777ed312b1b47e0aade9ba722f0c8a0-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLe55b3ef76a074b2d99cf6569e1f12687",name:"[Survey] EBR -- Global -- digitalData Event Change -- Inject Survey Hotjar on feature flag and DL click event -- C0002 Cookie enabled -- v1",events:[{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"digitalData.event"},ruleOrder:50}],conditions:[{modulePath:"natwest-core/src/lib/conditions/featureFlagEnabled.js",settings:{key:"surveyHotjar"},timeout:2e3},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/life-moments/managing-your-money/budget-calculator.html",valueIsRegex:!0},{value:"/search-results/locator.html",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{const e=["Search","Generate report"];if("click"==digitalData.event[digitalData.event.length-1].event&&e.indexOf(digitalData.event[digitalData.event.length-1].value)>-1&&void 0===window.hotjarInjected)return!0}catch(e){_satellite.logger.error("Failed to evaluate hotjar rule condition",e)}}},timeout:2e3},{modulePath:"rbs-onetrust/src/lib/conditions/preferenceOptedIn.js",settings:{brand:"%brandName%",callback:{payload:{},queuedDCRId:"",directCallRuleID:""},queueTag:!1,cookieCategories:["C0002"]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/90decdbe34ba/0ec9031489bb/2fe1d56d40dc/RCd8308731d7cd4b8f860610692aa58a58-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLe7a856138fcd481997504be72a9bf53c",name:"[Marketing] EBR -- Click -- Roostermoney Link -- Custom Code -- FB|Snapchat|Floodlight|Adwords",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href*="roostermoney.com/"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"\\/current-accounts\\/childrens-accounts\\/kids-prepaid-pocket-money-card\\.html",valueIsRegex:!0},{value:"\\/current-accounts\\/childrens-accounts\\.html",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){try{return"core.click"==e.$type}catch(e){_satellite.logger.error("[Custom Code]EBR -- Click -- Roostermoney Link] Error -- ",e)}}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"try{\n    _satellite.track('facebookCustom', {\n        'facebookCustomEvent' : 'Lead',\n        'facebookCustomEventArray' : {\n            'content_name': 'Rooster',\n            'content_type': 'SendLink'\n        }\n    });\n\n    _satellite.track('snapchatCustom', {\n        'snapchatCustomEvent' : 'LEAD'\n    });\n\n    _satellite.track('gtagFloodlight', {\n        'dcValues' : {\n            'typeValue' : 'retail',\n            'catValue' : 'n_ret001',\n        },\n        'allowCustom' : true,\n        'countType' : 'unique'\n    });\n\n    _satellite.track('gtagAdwords', {\n        'awVar' : 'eUarCMSFpckDEPeY0t8o'\n    });\n  \n  \n} catch (e) {\n    _satellite.logger.error('[Custom Code][EBR -- Click -- Roostermoney Link -- Custom Code -- FB|Snapchat|Floodlight|Adwords] Error -- ' , e);\n}",language:"javascript"},timeout:2e3,delayNext:!0}]},{id:"RLea96ca179c604d6fa66dfeb7bff4f2c5",name:"[Analytics] EBR|DCR -- Global -- Field Changed -- Custom Code - AA",events:[{modulePath:"core/src/lib/events/blur.js",settings:{elementSelector:"input, select, span.ui-selectmenu-text, textarea",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"field change"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/mortgages/mortgage-calculator",valueIsRegex:!0},{value:"/mortgage-agreement-in-principle\\.html",valueIsRegex:!0},{value:"/mortgages/how-much-can-i-borrow-mortgage-calculator\\.html",valueIsRegex:!0},{value:"/current-accounts/(.*)\\.html|/premier-banking/products/current-accounts/(.*)\\.html",valueIsRegex:!0},{value:"/credit-cards/the-natwest-credit-card\\.html",valueIsRegex:!0},{value:"/savings/",valueIsRegex:!0},{value:"/fraud-and-security/(retaildisputes/)?details\\.html",valueIsRegex:!0},{value:"/support-centre/how-to-complain/complaint-form\\.html",valueIsRegex:!0},{value:"/support-centre/how-to-complain/complaint-update-form\\.html",valueIsRegex:!0},{value:"/mortgages/manage-your-mortgage/redemption-request-form\\.html",valueIsRegex:!0},{value:"/support-centre/feedback-form\\.html",valueIsRegex:!0},{value:"/support-centre/existing-complaint-form\\.html",valueIsRegex:!0},{value:"/support-centre/contact-us-form\\.html",valueIsRegex:!0},{value:"/business/ways-to-bank/cash-coin-order-form\\.html",valueIsRegex:!0},{value:"/business/help-and-support/change-order/cash-coin-order-form\\.html",valueIsRegex:!0},{value:"/help-and-support/foreign-currency-order\\.html",valueIsRegex:!0},{value:"/support-centre/how-to-complain/complaint-form\\.html",valueIsRegex:!0},{value:"/gdpr-triage-page/gdpr-e-form-page\\.html",valueIsRegex:!0},{value:"/credit-cards/existing-customers/persistent-debt.html",valueIsRegex:!0},{value:"/credit-cards/purchase-and-balance-transfer.html",valueIsRegex:!0},{value:"/test-area/spapage/eligibility-tool.html",valueIsRegex:!0},{value:"/missedmortgagepayment",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/overdraft-calculator\\.html",valueIsRegex:!0}]},negate:!0,timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/90decdbe34ba/0ec9031489bb/2fe1d56d40dc/RCeef3c95ae66b4bac8d314156803c5624-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLec58034b9b8e4827a7c8cd8e31c7b46d",name:"[Analytics][Marketing][Survey] PLR -- DR -- Retail disputes - Event Listeners",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%canonicalURL%",rightOperand:"/retaildisputes/details.html"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/90decdbe34ba/0ec9031489bb/2fe1d56d40dc/RC0dd5fa81f53c44e7b21c1aecf30b3a11-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLefe093c00e28402aa77c25db6ab539d4",name:"[Helper][Data Layer] EBR -- Click - Pre-Apply Form -- Gobal -- Update Form details in GDLV2",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"form[name='preapplystartform'] a.cta.cta-primary",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/90decdbe34ba/0ec9031489bb/2fe1d56d40dc/RCf2642d91039f44f3a354a641f4c650c4-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLefe7ffe965234d1face422054fb0f415",name:"[Marketing] DCR -- Global -- gtagFloodlight -- GTAG Base Loaded -- Custom Code - Floodlight Event",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"gtagFloodlight"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%ffGtag%",rightOperand:"enabled"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return!(!window.gtag||!window.dataLayer)}},
timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/90decdbe34ba/0ec9031489bb/2fe1d56d40dc/RC28f45ac4b30b42c2a6b8389056433412-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLf2ab4b09d4814bec8c9f30cf14965fa2",name:"[Patch] PLR -- PB -- Retail - Report Fraud Pages -- Custom Code - SEO FIX",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"\\/fraud-and-security\\/report-fraud\\.html",valueIsRegex:!0},{value:"\\/fraud-and-security\\/reporting-fraud\\.html",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"try {\n\n    //The H2 text we want to match to identify which sections to nosnippet\n    var headingsToIdentify = [\n        '4. Find the number you need to get in touch',\n        'Tell us about suspicious activity', //NatWest/Ulster NI\n        'Tell us about suspicious emails and texts' //RBS\n    ]\n\n    var headings = document.querySelectorAll('h2.title-comp');\n\n    for (var i = 0; i < headings.length; i++) {\n        var headingText = headings[i].innerText;\n        //If heading text matches, we apply the data-nosnippet to the nearest parent section\n        if (headingsToIdentify.indexOf(headingText) > -1) {\n            var sectionToNoSnippet = headings[i].closest('section');\n            sectionToNoSnippet.setAttribute('data-nosnippet','');\n            _satellite.logger.info('SEO: data-nosnippet applied to :' ,sectionToNoSnippet);\n        }\n    }\n\n} catch (e) {\n    _satellite.logger.error('[Custom Code][PLR -- PB -- Retail - Report Fraud Pages -- Custom Code - SEO FIX] Error -- ' , e);\n}",language:"javascript"},timeout:2e3,delayNext:!0}]},{id:"RLf6c1138a4d3245b1b7b0c036948d93c4",name:"[Recording] PLR -- DR -- Offshore - C0002 Cookies Active -- Custom Code - ContentSquare Base",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"oneTrustCategoriesChanged",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/domain.js",settings:{domains:["iombank.com","natwestinternational.com","rbsinternational.com"]},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%optanonActiveGroups%",rightOperand:"C0002"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/90decdbe34ba/0ec9031489bb/2fe1d56d40dc/RC7b3f733424c44b37bbae7689451da6a9-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLf6c782fd31bc47bf99c09e0ad28b38a5",name:"[Analytics] DCR -- Retail - Mortgage Calculators -- mortgageToolsPageView - Pageviews -- AA Send",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"mortgageToolsPageView"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{var n=_satellite.getVar("mortgageToolsFormName");t.products=";Mortgages",t.linkTrackVars="","HMCIB"===n?t.eVar31="Retail: How Much Can I Borrow Tool":"MRF"===n?t.eVar31="Retail: Mortgage Rate Finder":"Buy property"===n&&(n="MRF",t.eVar31="Retail: Mortgage Rate Finder"),t.pageName=_satellite.getVar("pageNameCleaned")+">"+n+">"+e.detail.page,window.sendPerformanceDataToAdobe()}catch(e){_satellite.logger.error("failed to run - DCR -- mortgageToolsPageView -- Mortgage Calculators - Pageviews -- AA",e)}}},trackerProperties:{eVars:[{name:"eVar226",type:"value",value:"+1"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"},timeout:2e3,delayNext:!0}]},{id:"RLf84bdb82968a40f3b849348522c23d17",name:"[Marketing] PLR|DCR -- DOMR|adwords2 - Google Adwords Marketing Pixel -- C0004 enabled -- Adwords -- v2",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adwords2"},ruleOrder:50}],conditions:[{modulePath:"natwest-auto-tagging/src/lib/conditions/stackedConditions.js",settings:{mappingConfig:[{comparison:"isTruthy",caseInsensitive:!1,matchExpression:"",valueToEvaluate:"%marketingGoogleAdwordsIDV2%"},{comparison:"isTruthy",caseInsensitive:!1,matchExpression:"",valueToEvaluate:"%marketingGoogleAdwordsConversionEventV2%"}]},timeout:2e3},{modulePath:"rbs-onetrust/src/lib/conditions/preferenceOptedIn.js",settings:{brand:"%brandName%",callback:{payload:{marketingGoogleAdwordsIDV2:"%marketingGoogleAdwordsIDV2%",marketingGoogleAdwordsConversionEventV2:"%marketingGoogleAdwordsConversionEventV2%"},queuedDCRId:"adwords2",directCallRuleID:""},queueTag:!0,cookieCategories:["C0004"]},timeout:2e3}],actions:[{modulePath:"marketing-hub/src/lib/actions/adwords.js",settings:{adwords:{id:"%marketingGoogleAdwordsIDV2%",conversion:"%marketingGoogleAdwordsConversionEventV2%"}},timeout:2e3,delayNext:!0}]},{id:"RLf8c562de5ce740788847d16cd02e6f7f",name:"[Analytics] EBR -- Global -- Click - Header Nav - eBanking Login  -- AA Send",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a.iah__login-link",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{t.useBeacon=!0,window.sendPerformanceDataToAdobe()}catch(e){_satellite.logger.error("failed to run - EBR -- Global -- Click eBanking Login - AA",e)}}},trackerProperties:{eVars:[{name:"eVar26",type:"value",value:"Global Header>Log in"}],props:[{name:"prop15",type:"value",value:"Global Header"},{name:"prop55",type:"value",value:"Log in"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Global Header>Log in",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RLfa9fcb8b085e4df69be6684f8671c57f",name:"[Marketing] PLR -- DR|DCR -- Global - C0004 Cookies Active - Pinterest Account Defined -- Custom Code - Pinterest Base",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:80},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"oneTrustCategoriesChanged",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%ffPinterest%",rightOperand:"enabled"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%optanonActiveGroups%",rightOperand:"C0004"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{return!(!_satellite.getVar("productData")||!_satellite.getVar("productData").pinterestPixelID)}catch(e){return _satellite.logger.error("Failed to check if pinterest id defined",e),!1}}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return!window.pintrk}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/90decdbe34ba/0ec9031489bb/2fe1d56d40dc/RCbe86d45b9f694e01b4645846b235eb73-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLfd3b42325a204beca8237fff7a881fba",name:"[Target] PLR -- PT -- Global -- Target V2 Core",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%optanonActiveGroups%",rightOperand:"C0009"},timeout:2e3}],actions:[{modulePath:"adobe-target-v2/lib/loadTarget.js",settings:{}},{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"/**\n * handleTargetEvent\n * @param {Object} atJsEvent - event object provided by Adobe that includes details about the Target event\n * atJsEvent object should have a detail property, which in turn has a type property\n * When certain atJsEvent.detail.type events occur, the targetEventsObject object is incremented accordingly to log\n * that the target event has occured.  This object is then used on the next page load to record the events of interest\n * in Adobe Analytics\n */\nfunction handleTargetEvent(atJsEvent) {\n    \n    if (atJsEvent.detail) {\n        window._atJsEvents.push(atJsEvent.detail);\n        var eventType = atJsEvent.detail.type || '';\n\n        _satellite.logger.info('TARGET: event handler: ' + eventType);\n\n        //event types to log are in array below\n        //the 'at-content-rendering-failed 'has seperate logic as it might need to handle special cases\n        var eventTypesToLogArray = [\n            'at-request-start',\n            'at-request-failed',\n            'at-request-succeeded',\n            'at-content-rendering-start',            \n            'at-content-rendering-redirect',\n            'at-content-rendering-no-offers',\n            'at-content-rendering-succeeded'\n        ];\n\n        if(eventTypesToLogArray.indexOf(eventType) > - 1){\n            //increment event type\n            _satellite.getVar('targetEventsObject')[eventType]++;\n        }\n\n        if (eventType == 'at-content-rendering-failed') {\n            //might need to put a check in here to ignore errors which aren't relevant\n            //object detail isn't documented clearly so unclear how to do this\n            _satellite.getVar('targetEventsObject')['at-content-rendering-failed']++;\n        }\n\n    } else {\n        _satellite.logger.warn('Adobe Target Event did not include detail property');\n    }\n}\n\ntry {\n  window.ttMETA = window.ttMETA || [];\n  window._atJsEvents = window._atJsEvents || [];\n     //Initialise data element to log Target Error Events\n    _satellite.setVar('targetEventsObject', {\n        'at-request-start': 0,        \n        'at-request-succeeded' : 0,\n        'at-request-failed': 0,\n        'at-content-rendering-start' : 0,\n        'at-content-rendering-redirect': 0,\n        'at-content-rendering-no-offers' : 0,\n        'at-content-rendering-succeeded' : 0,\n        'at-content-rendering-failed': 0      \n    })    \n    //5 adobe.target.event.LIBRARY_LOADED - no need to track - did not observer event happening during testing\n\n    //7 adobe.target.event.CONTENT_RENDERING_START\n    document.addEventListener(adobe.target.event.CONTENT_RENDERING_START, function (atJsEvent) {\n        handleTargetEvent(atJsEvent);\n    });\n\n    //8 adobe.target.event.CONTENT_RENDERING_NO_OFFERS\n    document.addEventListener(adobe.target.event.CONTENT_RENDERING_NO_OFFERS, function (atJsEvent) {\n        handleTargetEvent(atJsEvent);\n    });\n    //6 adobe.target.event.REQUEST_START\n    document.addEventListener(adobe.target.event.REQUEST_START, function (atJsEvent) {\n        handleTargetEvent(atJsEvent);\n    });\n    //3 adobe.target.event.CONTENT_RENDERING_FAILED\n    document.addEventListener(adobe.target.event.CONTENT_RENDERING_FAILED, function (atJsEvent) {\n        handleTargetEvent(atJsEvent);\n    });\n    //4 adobe.target.event.CONTENT_RENDERING_SUCCEEDED\n    document.addEventListener(adobe.target.event.CONTENT_RENDERING_SUCCEEDED, function (atJsEvent) {\n        handleTargetEvent(atJsEvent);\n    });\n    //1 adobe.target.event.REQUEST_FAILED\n    document.addEventListener(adobe.target.event.REQUEST_FAILED, function (atJsEvent) {\n        handleTargetEvent(atJsEvent);\n    });\n    //9 adobe.target.event.CONTENT_RENDERING_REDIRECT\n    document.addEventListener(adobe.target.event.CONTENT_RENDERING_REDIRECT, function (atJsEvent) {\n        handleTargetEvent(atJsEvent);\n    });\n    //2 adobe.target.event.REQUEST_SUCCEEDED\n    document.addEventListener(adobe.target.event.REQUEST_SUCCEEDED, function (atJsEvent) {\n        var tokens = (atJsEvent.detail || {}).responseTokens;\n        _satellite.logger.info('ttMETA');         \n        if (tokens) {\n            tokens.forEach(function(token){\n                ttMETA.push(\n                {\n                    CampaignId: token['activity.id'],\n                    OfferName: token['offer.name'],\n                    RecipeId: token['option.id'],\n                    campaign: token['activity.name'],\n                    experience: token['experience.name'],\n                    offer: token['offer.id']\n                }\n                )\n            });\n        }\n        handleTargetEvent(atJsEvent);\n  });\n} catch (e) {\n    _satellite.logger.error('[Custom Code][[Target] PLR -- PT -- Global -- Target V2 Core] Error', e);\n}",language:"javascript"}},{modulePath:"adobe-target-v2/lib/addParams.js",settings:{params:{Brand:{value:"%brandName%",checked:!0},dt_1st:{value:"%dotTargetCurrentProduct%",checked:!0},Platform:{value:"AEM",checked:!1},dt_table:{value:"%dotTargetAnalytics%",checked:!0},at_property:{value:"%targetEnvironment%",checked:!0}}}}]},{id:"RLfe9e376bc8d54505b767b3e75e366540",name:"[Marketing] DCR -- pinterest -- landing - Pinterest pixel -- C0004 Cookie enabled - Pinterest - Krish",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"pinterest"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"DCRTargeting"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%optanonActiveGroups%",rightOperand:"C0004"},timeout:2e3},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"investments/natwest-invest/social\\.html",valueIsRegex:!0},{value:"investments/natwest-invest/pensions\\.html",valueIsRegex:!0}]},timeout:2e3},{modulePath:"rbs-onetrust/src/lib/conditions/preferenceOptedIn.js",settings:{brand:"%digitalData.site.brand%",callback:{payload:{marketingPinterestId:"%marketingPinterestId%",marketingPinterestEventName:"%marketingPinterestEventName%",marketingPinterestAttributes:"%marketingPinterestAttributes%"},queuedDCRId:"pinterest",directCallRuleID:""},queueTag:!0,cookieCategories:["C0004"]},timeout:2e3}],actions:[{modulePath:"marketing-hub/src/lib/actions/pinterest.js",settings:{id:"%pinterestID%",eventName:"%marketingPinterestEventName%",attributes:"%marketingPinterestPage%"},timeout:2e3,delayNext:!0}]},{id:"RLffeaa1ef228941f9b3b9563b91048d24",name:"[Analytics] DCR -- Global -- aaSendBeacon -- AA Send",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"aaSendBeacon"},ruleOrder:10}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{if(e&&e.detail){e.detail.productName&&(t.products=";"+e.detail.productName),e.detail.events&&(t.events=t.apl(t.events,e.detail.events,",",1));const n=Object.keys(e.detail);if(n.length>0)for(let r=0;r<n.length;r++){let a=n[r],o=/^prop\d+$/,i=["pageName"];(/^eVar\d+$/.test(a)||o.test(a)||i.indexOf(a)>-1)&&(t[a]=e.detail[a])}}window.sendPerformanceDataToAdobe()}catch(e){_satellite.logger.error("Failed to run - DCR -- aaSendBeacon -- Global -- AA Send -- OT - ",e)}}},trackerProperties:{eVars:[{name:"eVar11",type:"value",value:"%event.detail.loggedInStatus%"},{name:"eVar226",type:"value",value:"+1"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"},timeout:2e3,delayNext:!0}]},{id:"RLfffaaf07d8c34aedaf156bf4a5a865fb",name:"[Survey] EBR -- Global -- Click Feedback Buttons -- Next Step/Order Confirmation -- Maritz",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a[title*='Give feedback'],a[title*='Take the survey'],a[title*='Tell us your thoughts']",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return!!window.mcxSiteInterceptParameters}},timeout:2e3},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/((CURRENT(-|_)ACCOUNTS|(-|_)?LOANS|CREDIT(-|_)CARDS|MORTGAGES\\/SECURE|(-|_)COMPARE(-|_)SAVINGS(-|_)ACCOUNTS\\/.*|(-|_)SAVINGS(-|_)BUILDER|(-|_)PREMIUM(-|_)SAVER)(\\/OVERDRAFTS?)?\\/(OVERDRAFT-)?(APPLICATION-)?(NEXT(-|_)STEPS(-SAO)?)|SAVINGS(.*)CONFIRMATION)\\.HTML",valueIsRegex:!0},{value:"/LOANS/NEXT-STEPS\\.HTML",valueIsRegex:!0},{value:"/SAVINGS/SAVINGS-BUILDER/NEXT-STEPS\\.HTML",valueIsRegex:!0},{value:"/SAVINGS/INSTANT-SAVER/NEXT-STEPS\\.HTML",valueIsRegex:!0},{value:"/SAVINGS/PREMIUM-SAVER/NEXT-STEPS\\.HTML",valueIsRegex:!0},{value:"/SAVINGS/ISA-OVERVIEW/CASH-ISA/NEXT-STEPS\\.HTML",valueIsRegex:!0},{value:"/SAVINGS/ISA-OVERVIEW/FIXED-ISA/NEXT-STEPS\\.HTML",valueIsRegex:!0},{value:"/SAVINGS/ISA-OVERVIEW/HELP-TO-BUY-ISA/NEXT-STEPS\\.HTML",valueIsRegex:!0},{value:"/SAVINGS/FIXED-TERM-SAVINGSACCOUNT/NEXT-STEPS\\.HTML",valueIsRegex:!0},{value:"/SAVINGS/FIRST-SAVER/NEXT_STEPS\\.HTML",valueIsRegex:!0},{value:"PREMIER-BANKING/HOME\\.HTML",valueIsRegex:!0},{value:"/credit-cards/application-next-steps/sao\\.html",valueIsRegex:!0},{value:"/SAVINGS/ISA-OVERVIEW/INSTANT-ACCESS-ISA/NEXT-STEPS\\.HTML",valueIsRegex:!0},{value:"/CURRENT-ACCOUNTS/NEXT_STEPS_SAO\\.HTML",valueIsRegex:!0},{value:"/CURRENT-ACCOUNTS/NEXT_STEPS\\.HTML",valueIsRegex:!0},{value:"/SAVINGS/NEXT-STEPS-SAO\\.HTML",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%ffMaritz%",rightOperand:"enabled"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"https://assets.adobedtm.com/90decdbe34ba/0ec9031489bb/2fe1d56d40dc/RC822ff2241cea4d5abffc165f916adfa0-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]}]};var _satellite=function(){"use strict";function e(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function t(e){return"[object Object]"===Object.prototype.toString.call(e)}function n(e){var n,r;return!1!==t(e)&&(void 0===(n=e.constructor)||!1!==t(r=n.prototype)&&!1!==r.hasOwnProperty("isPrototypeOf"))}function r(e){return"string"==typeof e&&-1!==e.indexOf("[")&&-1!==e.indexOf("]")}function a(e){return e.substr(0,e.indexOf("["))}function o(e,t,n){if(e.length&&dt(t)){var i=e[0];if(1!==e.length){var s=e.slice(1);if(!r(i))return o(s,t[i],n);var c=t[i=a(i)];Array.isArray(c)&&c.forEach((function(e){return o(s,e,n)}))}else t.hasOwnProperty(i)&&"string"==typeof t[i]&&(t[i]=n(t[i]))}}if(window.atob){var i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},s=document,c=Object.assign,l=window,u=l,d=function(e,t,n,r){var a,o=Boolean(t&&Array.isArray(n)),i=Boolean(o&&e),s=document.createElement("a");if(o){var c=function(){var e=new Error("Unable to find the Library Embed Code for Dynamic Host Resolution.");throw e.code="dynamic_host_resolver_constructor_error",e};if(e&&(/^((https?:)?\/\/).+/.test(e)||c(),/^\/\/.+/.test(e)?s.href=u.location.protocol+e:s.href=e),s.hostname||c(),-1===n.indexOf(s.hostname)){var l=new Error("This library is not authorized for this domain. Please contact your CSM for more information.");throw l.code="dynamic_host_not_allowed",l}}var d=function(){if(null!=a)return a;if(i){var e=s.host;/:80$/.test(e)?e=e.replace(":80",""):/:80\/$/.test(e)?e=e.replace(":80/",""):/:443$/.test(e)?e=e.replace(":443",""):/:443\/$/.test(e)&&(e=e.replace(":443/","")),a=s.protocol+"//"+e}else a="";return a},g=function(e){return i&&"string"==typeof e?[d(),"/"===e.charAt(0)?e.slice(1):e].join("/"):e},p={getTurbineHost:d,decorateWithDynamicHost:g,get isDynamicEnforced(){return o}};return u&&r.onDebugChanged((function(e){e?u.dynamicHostResolver=p:delete u.dynamicHostResolver})),p},g=function(e){var t=[];return e.forEach((function(e){e.events&&e.events.forEach((function(n){t.push({rule:e,event:n})}))})),t.sort((function(e,t){return e.event.ruleOrder-t.event.ruleOrder}))},p="debug",m=function(e,t){var n=function(){return"true"===e.getItem(p)},r=function(t){e.setItem(p,t)},a=[],o=function(e){a.push(e)};return t.outputEnabled=n(),{onDebugChanged:o,getDebugEnabled:n,setDebugEnabled:function(e){n()!==e&&(r(e),t.outputEnabled=e,a.forEach((function(t){t(e)})))}}},f="Module did not export a function.",v=function(e,t,n){return function(r,a,o){o=o||[];var i=e.getModuleExports(r.modulePath);if("function"!=typeof i)throw new Error(f);var s=e.getModuleDefinition(r.modulePath),c=r.settings||{};!r.hasTransformedFilePaths&&s.filePaths&&(n(c,s.filePaths,r.modulePath),r.hasTransformedFilePaths=!0);var l=t(c,a);return i.bind(null,l).apply(null,o)}},h=function(e){return"string"==typeof e?e.replace(/\s+/g," ").trim():e},b={LOG:"log",INFO:"info",DEBUG:"debug",WARN:"warn",ERROR:"error"},C="\ud83d\ude80",E=10===parseInt((/msie (\d+)/.exec(navigator.userAgent.toLowerCase())||[])[1])?"[Launch]":C,y=!1,S=function(e){if(y&&window.console){var t=Array.prototype.slice.call(arguments,1);t.unshift(E),e!==b.DEBUG||window.console[e]||(e=b.INFO),window.console[e].apply(window.console,t)}},T=S.bind(null,b.LOG),A=S.bind(null,b.INFO),_=S.bind(null,b.DEBUG),N=S.bind(null,b.WARN),P=S.bind(null,b.ERROR),I=function(){var e=y;y=!0,S.apply(null,Array.prototype.concat(b.WARN,Array.prototype.slice.call(arguments))),e||(y=!1)},w={log:T,info:A,debug:_,warn:N,error:P,deprecation:I,get outputEnabled(){return y},set outputEnabled(e){y=e},createPrefixedLogger:function(e){var t="["+e+"]";return{log:T.bind(null,t),info:A.bind(null,t),debug:_.bind(null,t),warn:N.bind(null,t),error:P.bind(null,t)}}},R=l,O="com.adobe.reactor.",L=function(e,t){var n=O+(t||"");return{getItem:function(t){try{return R[e].getItem(n+t)}catch(e){return null}},setItem:function(t,r){try{return R[e].setItem(n+t,r),!0}catch(e){return!1}}}},k=L,D="dataElements.",M=k("sessionStorage",D),x=k("localStorage",D),B={PAGEVIEW:"pageview",SESSION:"session",VISITOR:"visitor"},V={},j=function(e){var t;try{t=JSON.stringify(e)}catch(e){}return t},U=h,F=w,G={setValue:function(e,t,n){var r;switch(t){case B.PAGEVIEW:return void(V[e]=n);case B.SESSION:return void((r=j(n))&&M.setItem(e,r));case B.VISITOR:return void((r=j(n))&&x.setItem(e,r))}},getValue:function(e,t){var n;switch(t){case B.PAGEVIEW:return V.hasOwnProperty(e)?V[e]:null;case B.SESSION:return null===(n=M.getItem(e))?n:JSON.parse(n);case B.VISITOR:return null===(n=x.getItem(e))?n:JSON.parse(n)}}},H=function(e,t,n,r){return"Failed to execute data element module "+e.modulePath+" for data element "+t+". "+n+(r?"\n"+r:"")},W=function(e,t,n,r,a){return function(o,i){var s=t(o);if(!s)return r?"":void 0;var c,l,u=s.storageDuration;try{c=e.getModuleExports(s.modulePath),l=e.getModuleDefinition(s.modulePath)}catch(e){return void F.error(H(s,o,e.message,e.stack))}if("function"==typeof c){var d,g=s.settings||{};!s.hasTransformedFilePaths&&l.filePaths&&(a(g,l.filePaths,s.modulePath),s.hasTransformedFilePaths=!0);try{d=c(n(g,i),i)}catch(e){return void F.error(H(s,o,e.message,e.stack))}return u&&(null!=d?G.setValue(o,u,d):d=G.getValue(o,u)),null==d&&null!=s.defaultValue&&(d=s.defaultValue),"string"==typeof d&&(s.cleanText&&(d=U(d)),s.forceLowerCase&&(d=d.toLowerCase())),d}F.error(H(s,o,"Module did not export a function."))}},q=h,K={text:function(e){return e.textContent},cleanText:function(e){return q(e.textContent)}},Y=function(e,t,n){for(var r,a=e,o=0,i=t.length;o<i;o++){if(null==a)return;var s=t[o];if(n&&"@"===s.charAt(0)){var c=s.slice(1);a=K[c](a)}else if(a.getAttribute&&(r=s.match(/^getAttribute\((.+)\)$/))){var l=r[1];a=a.getAttribute(l)}else a=a[s]}return a},z=function(e,t,n){return function(r,a){var o;if(t(r))o=n(r,a);else{var i=r.split("."),s=i.shift();"this"===s?a&&(o=Y(a.element,i,!0)):"event"===s?a&&(o=Y(a,i)):"target"===s?a&&(o=Y(a.target,i)):o=Y(e[s],i)}return o}},J=function(e,t){return function(n){var r=n.split(".")[0];return Boolean(t(n)||"this"===r||"event"===r||"target"===r||e.hasOwnProperty(r))}},$=function(e,t,n){var r={exports:{}};return e.call(r.exports,r,r.exports,t,n),r.exports},X=$,Q=w,Z=function(){var e={},t=function(t){var n=e[t];if(!n)throw new Error("Module "+t+" not found.");return n},n=function(){Object.keys(e).forEach((function(e){try{r(e)}catch(n){var t="Error initializing module "+e+". "+n.message+(n.stack?"\n"+n.stack:"");Q.error(t)}}))},r=function(e){var n=t(e);return n.hasOwnProperty("exports")||(n.exports=X(n.definition.script,n.require,n.turbine)),n.exports};return{registerModule:function(t,n,r,a,o){var i={definition:n,extensionName:r,require:a,turbine:o};i.require=a,e[t]=i},hydrateCache:n,getModuleExports:r,getModuleDefinition:function(e){return t(e).definition},getModuleExtensionName:function(e){return t(e).extensionName}}},ee=w,te=!1,ne=function(e){return function(t,n){var r=e._monitors;r&&(te||(ee.warn("The _satellite._monitors API may change at any time and should only be used for debugging."),te=!0),r.forEach((function(e){e[t]&&e[t](n)})))}},re=w,ae=function(e,t,n){var r,a,o,i,s=[],c=function(r,a,o){if(!e(a))return r;s.push(a);var i=t(a,o);return s.pop(),null==i&&n?"":i};return r=function(e,t){var n=/^%([^%]+)%$/.exec(e);return n?c(e,n[1],t):e.replace(/%(.+?)%/g,(function(e,n){return c(e,n,t)}))},a=function(e,t){for(var n={},r=Object.keys(e),a=0;a<r.length;a++){var o=r[a],s=e[o];n[o]=i(s,t)}return n},o=function(e,t){for(var n=[],r=0,a=e.length;r<a;r++)n.push(i(e[r],t));return n},i=function(e,t){return"string"==typeof e?r(e,t):Array.isArray(e)?o(e,t):"object"==typeof e&&null!==e?a(e,t):e},function(e,t){return s.length>10?(re.error("Data element circular reference detected: "+s.join(" -> ")),e):i(e,t)}},oe=function(e){return function(){if("string"==typeof arguments[0])e[arguments[0]]=arguments[1];else if(arguments[0]){var t=arguments[0];for(var n in t)e[n]=t[n]}}},ie="undefined"!=typeof window&&window.Promise||void 0!==i&&i.Promise,se=ie,ce=function(e,t,n){return function(r,a,o,i){return i.then((function(){var i,s=r.delayNext;return new se((function(t,n){var a=e(r,o,[o]);if(!s)return t();var c=r.timeout,l=new se((function(e,t){i=setTimeout((function(){t(new Error("A timeout occurred because the action took longer than "+c/1e3+" seconds to complete. "))}),c)}));se.race([a,l]).then(t,n)})).catch((function(e){return clearTimeout(i),e=t(e),n(r,a,e),se.reject(e)})).then((function(){clearTimeout(i)}))}))}},le=ie,ue=function(e,t,n,r,a){return function(o,i,s,c){return c.then((function(){var c;return new le((function(t,n){var r=e(o,s,[s]),a=o.timeout,i=new le((function(e,t){c=setTimeout((function(){t(new Error("A timeout occurred because the condition took longer than "+a/1e3+" seconds to complete. "))}),a)}));le.race([r,i]).then(t,n)})).catch((function(e){return clearTimeout(c),e=t(e),r(o,i,e),le.reject(e)})).then((function(e){if(clearTimeout(c),!n(o,e))return a(o,i),le.reject()}))}))}},de=ie.resolve(),ge=function(e,t,n){return function(r,a){return r.conditions&&r.conditions.forEach((function(t){de=e(t,r,a,de)})),r.actions&&r.actions.forEach((function(e){de=t(e,r,a,de)})),de=(de=de.then((function(){n(r)}))).catch((function(){}))}},pe=function(e){return Boolean(e&&"object"==typeof e&&"function"==typeof e.then)},me=function(e,t,n,r){return function(a,o){var i;if(a.conditions)for(var s=0;s<a.conditions.length;s++){i=a.conditions[s];try{var c=e(i,o,[o]);if(pe(c))throw new Error("Rule component sequencing must be enabled on the property for this condition to function properly.");if(!t(i,c))return n(i,a),!1}catch(e){return r(i,a,e),!1}}return!0}},fe=function(e,t){return function(n,r){e(n,r)&&t(n,r)}},ve=function(e){return function(t){var n=e.getModuleDefinition(t.modulePath);return n&&n.displayName||t.modulePath}},he=function(e){return function(t){var n=t.rule,r=t.event,a=e.getModuleDefinition(r.modulePath).name;return{$type:e.getModuleExtensionName(r.modulePath)+"."+a,$rule:{id:n.id,name:n.name}}}},be=function(e,t,n,r,a,o){return function(i,s){var c=s.rule,l=s.event;l.settings=l.settings||{};try{var u=a(s);t(l,null,[function(t){var r=n(u,t);i((function(){e(r,c)}))}])}catch(e){o.error(r(l,c,e))}}},Ce=function(e,t,n,r){return function(a,o,i){var s=t(a);n.error(e(s,o.name,i)),r("ruleActionFailed",{rule:o,action:a})}},Ee=function(e,t,n,r){return function(a,o,i){var s=t(a);n.error(e(s,o.name,i)),r("ruleConditionFailed",{rule:o,condition:a})}},ye=function(e,t,n){return function(r,a){var o=e(r);t.log('Condition "'+o+'" for rule "'+a.name+'" was not met.'),n("ruleConditionFailed",{rule:a,condition:r})}},Se=function(e,t){return function(n){e.log('Rule "'+n.name+'" fired.'),t("ruleCompleted",{rule:n})}},Te=function(e,t,n){return function(r,a){var o;if(r.actions)for(var i=0;i<r.actions.length;i++){o=r.actions[i];try{e(o,a,[a])}catch(e){return void t(o,r,e)}}n(r)}},Ae=function(e,t,n,r){return function(a,o){r("ruleTriggered",{rule:o}),e?n(o,a):t(o,a)}},_e=function(e,t,n){return'Failed to execute "'+e+'" for "'+t+'" rule. '+n.message+(n.stack?"\n"+n.stack:"")},Ne=function(e,t){return t&&!e.negate||!t&&e.negate},Pe=[],Ie=!1,we=function(e){Ie?e():Pe.push(e)},Re=function(e,t,n){e(t).forEach((function(e){n(we,e)})),Ie=!0,Pe.forEach((function(e){e()})),Pe=[]},Oe=function(e){if(e||(e=new Error("The extension triggered an error, but no error information was provided.")),!(e instanceof Error)){var t="object"==typeof e?JSON.stringify(e):String(e);e=new Error(t)}return e},Le={};Object.defineProperty(Le,"__esModule",{value:!0}),Le.isPlainObject=n;var ke,De=w,Me=c,{isPlainObject:xe}=Le,Be=function(e,t){return xe(t=t||{})?t=Me({},t,e):Me(t,e),t.hasOwnProperty("type")||Object.defineProperty(t,"type",{get:function(){return De.deprecation("Accessing event.type in Adobe Launch has been deprecated and will be removed soon. Please use event.$type instead."),t.$type}}),t},Ve=function(e,t){return function(n,r){var a=e[n];if(a){var o=a.modules;if(o)for(var i=Object.keys(o),s=0;s<i.length;s++){var c=i[s],l=o[c];if(l.shared&&l.name===r)return t.getModuleExports(c)}}}},je=function(e,t){return function(){return t?e(t):{}}},Ue=function(e,t,n){return function(r){if(n){var a=r.split(".");a.splice(a.length-1||1,0,"min"),r=a.join(".")}return e(t)+r}},Fe=".js",Ge=function(e){return e.substr(0,e.lastIndexOf("/"))},He=function(e,t){return-1!==e.indexOf(t,e.length-t.length)},We=function(e,t){He(t,Fe)||(t+=Fe);var n=t.split("/"),r=Ge(e).split("/");return n.forEach((function(e){e&&"."!==e&&(".."===e?r.length&&r.pop():r.push(e))})),r.join("/")},qe={exports:{}};ke=function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}function n(r){function a(){}function o(t,n,o){if("undefined"!=typeof document){"number"==typeof(o=e({path:"/"},a.defaults,o)).expires&&(o.expires=new Date(1*new Date+864e5*o.expires)),o.expires=o.expires?o.expires.toUTCString():"";try{var i=JSON.stringify(n);/^[\{\[]/.test(i)&&(n=i)}catch(e){}n=r.write?r.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var c in o)o[c]&&(s+="; "+c,!0!==o[c]&&(s+="="+o[c].split(";")[0]));return document.cookie=t+"="+n+s}}function i(e,n){if("undefined"!=typeof document){for(var a={},o=document.cookie?document.cookie.split("; "):[],i=0;i<o.length;i++){var s=o[i].split("="),c=s.slice(1).join("=");n||'"'!==c.charAt(0)||(c=c.slice(1,-1));try{var l=t(s[0]);if(c=(r.read||r)(c,l)||t(c),n)try{c=JSON.parse(c)}catch(e){}if(a[l]=c,e===l)break}catch(e){}}return e?a[e]:a}}return a.set=o,a.get=function(e){return i(e,!1)},a.getJSON=function(e){return i(e,!0)},a.remove=function(t,n){o(t,"",e(n,{expires:-1}))},a.defaults={},a.withConverter=n,a}return n((function(){}))},qe.exports=ke();var Ke=qe.exports,Ye={get:Ke.get,set:Ke.set,remove:Ke.remove},ze=ie,Je=function(e,t){return new ze((function(n,r){t.onload=function(){n(t)},t.onerror=function(){r(new Error("Failed to load script "+e))}}))},$e=function(e){var t={};if(!e||"string"!=typeof e)return t;var n=e.trim().replace(/^[?#&]/,""),r=new URLSearchParams(n),a=r.keys();do{var o=a.next(),i=o.value;if(i){var s=r.getAll(i);1===s.length?t[i]=s[0]:t[i]=s}}while(!1===o.done);return t},Xe=function(e){var t="{{space}}",n=new URLSearchParams;return Object.keys(e).forEach((function(r){var a=e[r]
;"string"==typeof e[r]?a=a.replace(/ /g,t):["object","undefined"].includes(typeof a)&&!Array.isArray(a)&&(a=""),Array.isArray(a)?a.forEach((function(e){n.append(r,e)})):n.append(r,a)})),n.toString().replace(new RegExp(encodeURIComponent(t),"g"),"%20")},Qe="@adobe/reactor-",Ze={cookie:Ye,document:s,"load-script":function(e){var t=document.createElement("script");t.src=e,t.async=!0;var n=Je(e,t);return document.getElementsByTagName("head")[0].appendChild(t),n},"object-assign":c,promise:ie,"query-string":{parse:function(e){return $e(e)},stringify:function(e){return Xe(e)}},window:l},et=function(e){return function(t){if(0===t.indexOf(Qe)){var n=t.substr(Qe.length),r=Ze[n];if(r)return r}if(0===t.indexOf("./")||0===t.indexOf("../"))return e(t);throw new Error('Cannot resolve module "'+t+'".')}},tt=Ve,nt=je,rt=Ue,at=w,ot=We,it=et,st=function(e,t,n,r,a,o,i){var s=e.extensions,c=e.buildInfo,l=e.environment,u=e.property.settings;if(s){var d=tt(s,t);Object.keys(s).forEach((function(g){var p=s[g],m=p.settings;Array.isArray(p.filePaths)&&(m=o(m,p.filePaths));var f=nt(r,m);if(p.modules){var v=at.createPrefixedLogger(p.displayName),h=rt(i,p.hostedLibFilesBaseUrl,c.minified),b={buildInfo:c,environment:l,property:{name:e.property.name,id:e.property.id},getDataElementValue:a,getExtensionSettings:f,getHostedLibFileUrl:h,getSharedModule:d,logger:v,propertySettings:u,replaceTokens:r,onDebugChanged:n.onDebugChanged,get debugEnabled(){return n.getDebugEnabled()}};Object.keys(p.modules).forEach((function(e){var n=p.modules[e],r=it((function(n){var r=ot(e,n);return t.getModuleExports(r)}));t.registerModule(e,n,g,r,b)}))}})),t.hydrateCache()}return t},ct=Ye,lt=w,ut=function(e,t,n,r,a){var o=lt.createPrefixedLogger("Custom Script");e.track=function(e){lt.log('"'+e+'" does not match any direct call identifiers.')},e.getVisitorId=function(){return null},e.property={name:t.property.name,id:t.property.id},e.company=t.company,e.buildInfo=t.buildInfo,e.environment=t.environment,e.logger=o,e.notify=function(e,t){switch(lt.deprecation("_satellite.notify is deprecated. Please use the `_satellite.logger` API."),t){case 3:o.info(e);break;case 4:o.warn(e);break;case 5:o.error(e);break;default:o.log(e)}},e.getVar=r,e.setVar=a,e.setCookie=function(e,t,n){var r="",a={};n&&(r=", { expires: "+n+" }",a.expires=n);var o='_satellite.setCookie is deprecated. Please use _satellite.cookie.set("'+e+'", "'+t+'"'+r+").";lt.deprecation(o),ct.set(e,t,a)},e.readCookie=function(e){return lt.deprecation('_satellite.readCookie is deprecated. Please use _satellite.cookie.get("'+e+'").'),ct.get(e)},e.removeCookie=function(e){lt.deprecation('_satellite.removeCookie is deprecated. Please use _satellite.cookie.remove("'+e+'").'),ct.remove(e)},e.cookie=ct,e.pageBottom=function(){},e.setDebug=n;var i=!1;Object.defineProperty(e,"_container",{get:function(){return i||(lt.warn("_satellite._container may change at any time and should only be used for debugging."),i=!0),t}})},{isPlainObject:dt}=Le,gt=s,pt=c,mt=d,ft=g,vt=m,ht=v,bt=W,Ct=z,Et=J,yt=Z,St=ne,Tt=ae,At=oe,_t=ce,Nt=ue,Pt=ge,It=me,wt=fe,Rt=ve,Ot=he,Lt=be,kt=Ce,Dt=Ee,Mt=ye,xt=Se,Bt=Te,Vt=Ae,jt=_e,Ut=Ne,Ft=Re,Gt=Oe,Ht=Be,Wt=L,qt=st,Kt=ut,Yt=function(e,t){return function(n,r,a){return e&&dt(n)&&Object.keys(n).length&&Array.isArray(r)&&r.length?(r.forEach((function(e){Boolean(null!=a&&/^core\/.*actions.*\/customCode\.js$/.test(a))&&"source"===e&&!n.isExternal||o(e.split("."),n,t)})),n):n}},zt=w,Jt=window._satellite;if(Jt&&!window.__satelliteLoaded){window.__satelliteLoaded=!0;var $t=Jt.container;delete Jt.container;var Xt=pt({},$t.buildInfo);Object.defineProperty(Xt,"environment",{get:function(){return zt.deprecation("container.buildInfo.environment is deprecated.Please use `container.environment.stage` instead"),$t.environment.stage}}),$t.buildInfo=Xt;var Qt,Zt=vt(Wt("localStorage"),zt),en="";gt.currentScript&&gt.currentScript.getAttribute("src")&&(en=gt.currentScript.getAttribute("src"));try{Qt=mt(en,Boolean($t.company.dynamicCdnEnabled),$t.company.cdnAllowList,Zt)}catch(e){throw zt.warn("Please review the following error:"),e}var tn,nn=Yt(Qt.isDynamicEnforced,Qt.decorateWithDynamicHost),rn=yt(),an=$t.property.settings.undefinedVarsReturnEmpty,on=$t.property.settings.ruleComponentSequencingEnabled,sn=$t.dataElements||{},cn=function(e){return sn[e]},ln=function(){return tn.apply(null,arguments)},un=bt(rn,cn,ln,an,nn),dn={},gn=At(dn),pn=Et(dn,cn),mn=Ct(dn,cn,un);tn=Tt(pn,mn,an),Kt(Jt,$t,Zt.setDebugEnabled,mn,gn),qt($t,rn,Zt,tn,un,nn,Qt.decorateWithDynamicHost);var fn=St(Jt),vn=ht(rn,tn,nn),hn=Rt(rn),bn=Mt(hn,zt,fn),Cn=Dt(jt,hn,zt,fn),En=kt(jt,hn,zt,fn),yn=xt(zt,fn),Sn=Lt(Vt(on,wt(It(vn,Ut,bn,Cn),Bt(vn,En,yn)),Pt(Nt(vn,Gt,Ut,Cn,bn),_t(vn,Gt,En),yn),fn),vn,Ht,jt,Ot(rn),zt);Ft(ft,$t.rules||[],Sn)}return e(Jt)}console.warn("Adobe Launch is unsupported in IE 9 and below.")}();